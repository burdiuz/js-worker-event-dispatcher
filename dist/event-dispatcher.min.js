!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.EventDispatcher=t()}(this,function(){function e(e){return"object"==typeof e&&null!==e}function t(){function e(e,t,n){a.add(e,t,-n)}function n(e){return a.has(e)}function i(e,t){a.remove(e,t)}function o(e){a.removeAll(e)}function s(e,n){t.isObject(e)||(e=new t.Event(String(e),n)),a.call(e)}var a=new r;this.addEventListener=e,this.hasEventListener=n,this.removeEventListener=i,this.removeAllEventListeners=o,this.dispatchEvent=s}var n=function(){function e(e,t){function n(){return i}function r(){i=!0}var i=!1;Object.defineProperties(this,{type:{value:e,enumerable:!0},data:{value:t,enumerable:!0}}),this.preventDefault=r,this.isDefaultPrevented=n}return e}(),r=function(){function e(e,t,n){var r=o(e,n,this._listeners);r.indexOf(t)<0&&r.push(t)}function t(e){var t=!1,n=s(e,this._listeners);if(n)for(var r in n)if(n.hasOwnProperty(r)){t=!0;break}return t}function n(e,t){var n=s(e,this._listeners);if(n)for(var r=Object.getOwnPropertyNames(n),i=r.length,o=0;i>o;o++){var a=r[o],u=n[a],f=u.indexOf(t);f>=0&&(u.splice(f,1),u.length||delete n[a])}}function r(e){delete this._listeners[e]}function i(e,t){function n(){i=!0}function r(){o=!0}var i=!1,o=!1;e.stopPropagation=n,e.stopImmediatePropagation=r;var a=s(e.type,this._listeners);if(a)for(var u=Object.getOwnPropertyNames(a).sort(function(e,t){return e-t}),f=u.length,c=0;f>c&&!i;c++)for(var l=a[u[c]],v=l.length,p=0;v>p&&!o;p++){var h=l[p];h.call(t,e)}}function o(e,t,n){var r=s(e,n,Object);return s(parseInt(t),r,Array)}function s(e,t,n){var r=null;return t.hasOwnProperty(e)?r=t[e]:n&&(r=t[e]=new n),r}function a(){this._listeners={}}return a.prototype.add=e,a.prototype.has=t,a.prototype.remove=n,a.prototype.removeAll=r,a.prototype.call=i,a}();return t.isObject=e,t.Event=n,t});