{"version":3,"sources":["webpack:///worker-event-dispatcher.direct.js","webpack:///webpack/bootstrap b6b682d1185abbb3038f","webpack:///./source/WorkerType.js","webpack:///./source/WorkerEvent.js","webpack:///./node_modules/event-dispatcher/dist/event-dispatcher.js","webpack:///./source/AbstractDispatcher.js","webpack:///./source/sharedWorker/ClientDispatcher.js","webpack:///./source/DedicatedWorkerDispatcher.js","webpack:///./source/SharedWorkerDispatcher.js","webpack:///./source/sharedWorker/ServerDispatcher.js","webpack:///./source/direct.js","webpack:///./node_modules/messageport-dispatcher/dist/messageport-dispatcher.js","webpack:///./source/utils/create.js"],"names":["WorkerEventDispatcher","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","WorkerType","DEDICATED_WORKER","SHARED_WORKER","SHARED_WORKER_SERVER","SHARED_WORKER_CLIENT","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","NativeEventTypes","CONNECT","MESSAGE","ERROR","LANGUAGECHANGE","ONLINE","OFFLINE","WorkerEvent","_Event","type","data","sourceEvent","client","this","_this","getPrototypeOf","Event","getWorkerEventType","dispatchWorkerEvent","source","target","eventType","handler","event","hasEventListener","dispatchEvent","addEventListener","dispatchWorkerEvents","dispatchWorkerErrorEvent","root","factory","undefined","_EventDispatcher","_EventDispatcher2","obj","_typeof","Symbol","iterator","_createClass","defineProperties","props","length","descriptor","key","protoProps","staticProps","hasOwnProp","defaultPrevented","ListenersRunner","listeners","onStopped","onComplete","index","immediatelyStopped","stopImmediatePropagation","listener","augmentEvent","clearEvent","eventObject","stopPropagation","EventListeners","_this2","_listeners","_runners","removeRunner","runner","splice","indexOf","priorityOpt","priority","parseInt","getPrioritiesByKey","String","handlers","createList","push","result","priorities","_this3","list","getOwnPropertyNames","handlerIndex","forEach","listenerRemoved","stopped","sort","a","b","_handlers","_runner","createRunner","run","EventDispatcher","eventPreprocessor","noInit","arguments","initialize","_eventPreprocessor","add","has","remove","removeAll","getEvent","eventOrType","optionalData","isObject","_get","receiver","Function","desc","getOwnPropertyDescriptor","parent","_messageportDispatcher","_messageportDispatcher2","AbstractDispatcher","_MessagePortDispatche","customPostMessageHandler","receiverEventPreprocessor","senderEventPreprocessor","postMessageHandler","transferList","postMessage","_interopRequireDefault","_WorkerType","_WorkerType2","_AbstractDispatcher2","_AbstractDispatcher3","ClientDispatcher","_AbstractDispatcher","start","close","_eventDispatcher","_eventDispatcher2","_WorkerEvent","getTarget","worker","Worker","DedicatedWorkerDispatcher","terminate","SharedWorker","SharedWorkerDispatcher","port","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","next","done","err","Array","isArray","_WorkerEvent2","_ClientDispatcher","_ClientDispatcher2","ServerDispatcher","clientReceiverEventPreprocessor","clientSenderEventPreprocessor","_initialiseProps","handleConnect","_receiver","apply","_receiver2","removeEventListener","_receiver3","removeAllEventListeners","_receiver4","_event$ports","ports","_DedicatedWorkerDispatcher","_DedicatedWorkerDispatcher2","_SharedWorkerDispatcher","_SharedWorkerDispatcher2","_ServerDispatcher","_ServerDispatcher2","_create","CONNECT_EVENT","assign","createForSelf","MessagePortEvent","_MessagePortDispatcher","_MessagePortDispatcher2","MessagePortDispatcher","dispatcherId","toJSON","parse","isEvent","initiallize","sender","Math","ceil","random","Date","now","targetOrigin","bind","_messageEventListener","eventJson","_postMessageHandler","nativeEvent","message","JSON","stringify","error","dispatcher","top","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof2","webpackPolyfill","deprecate","paths","children"],"mappings":"AAAA,GAAIA,uBACK,SAAUC,GCGnB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAI,EAAAJ,EACAK,GAAA,EACAH,WAUA,OANAJ,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,GAAA,EAGAF,EAAAD,QAvBA,GAAAD,KA4DA,OAhCAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,SAAAP,EAAAQ,EAAAC,GACAZ,EAAAa,EAAAV,EAAAQ,IACAG,OAAAC,eAAAZ,EAAAQ,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAZ,EAAAmB,EAAA,SAAAf,GACA,GAAAQ,GAAAR,KAAAgB,WACA,WAA2B,MAAAhB,GAAA,SAC3B,WAAiC,MAAAA,GAEjC,OADAJ,GAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAQ,EAAAC,GAAsD,MAAAR,QAAAS,UAAAC,eAAAjB,KAAAc,EAAAC,IAGtDtB,EAAAyB,EAAA,8BAGAzB,IAAA0B,EAAA,KDOM,SAAUtB,EAAQD,EAASH,GAEjC,YAGAc,QAAOC,eAAeZ,EAAS,cAC7BwB,OAAO,GE1ET,IAAMC,IACJC,iBAAkB,YAClBC,cAAe,SAIfC,qBAAsB,eAItBC,qBAAsB,eF+ExB7B,GAAQ8B,QE5EOL,GFgFT,SAAUxB,EAAQD,EAASH,GAEjC,YAOA,SAASkC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMhC,GAAQ,IAAKgC,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOjC,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BgC,EAAPhC,EAElO,QAASkC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASnB,UAAYT,OAAO8B,OAAOD,GAAcA,EAAWpB,WAAasB,aAAelB,MAAOe,EAAUzB,YAAY,EAAO6B,UAAU,EAAM9B,cAAc,KAAe2B,IAAY7B,OAAOiC,eAAiBjC,OAAOiC,eAAeL,EAAUC,GAAcD,EAASM,UAAYL,GARje7B,OAAOC,eAAeZ,EAAS,cAC7BwB,OAAO,GGnGF,IAAMsB,uBACXC,QAAS,UACTC,QAAS,UACTC,MAAO,QACPC,eAAgB,iBAChBC,OAAQ,SACRC,QAAS,WAGLC,EH4GY,SAAUC,GGpG1B,QAAAD,GAAYE,EAAMC,EAAMC,EAAaC,GAAQ3B,EAAA4B,KAAAN,EAAA,IAAAO,GAAAzB,EAAAwB,MAAAN,EAAAR,WAAAlC,OAAAkD,eAAAR,IAAAjD,KAAAuD,KACrCJ,EAAMC,GAD+B,OAE3CI,GAAKH,YAAcA,EACnBG,EAAKF,OAASA,EAH6BE,EHiH7C,MAZAtB,GAAUe,EAAaC,GAYhBD,GGzHiBS,MAApBT,GACGN,QAAU,iBADbM,EAEGL,QAAU,iBAFbK,EAGGJ,MAAQ,eAHXI,EAIGH,eAAiB,wBAJpBG,EAKGF,OAAS,gBALZE,EAMGD,QAAU,gBASZ,IAAMW,wBAAqB,SAACR,GACjC,OAAQA,GACN,IAAKT,GAAiBC,QACpB,MAAOM,GAAYN,OACrB,KAAKD,GAAiBE,QACpB,MAAOK,GAAYL,OACrB,KAAKF,GAAiBG,MACpB,MAAOI,GAAYJ,KACrB,KAAKH,GAAiBI,eACpB,MAAOG,GAAYH,cACrB,KAAKJ,GAAiBK,OACpB,MAAOE,GAAYF,MACrB,KAAKL,GAAiBM,QACpB,MAAOC,GAAYD,UAIZY,wBAAsB,SAACT,EAAMU,EAAQC,GAChD,GAAMC,GAAYJ,EAAmBR,GAC/Ba,EAAU,SAACC,GACXH,EAAOI,iBAAiBH,IAC1BD,EAAOK,cAAc,GAAIlB,GAAYc,EAAWE,EAAOA,IAK3D,OADAJ,GAAOO,iBAAiBjB,EAAMa,GACvBA,EAGIK,wBAAuB,SAACR,EAAQC,GAC3CF,EAAoBlB,EAAiBG,MAAOgB,EAAQC,GACpDF,EAAoBlB,EAAiBI,eAAgBe,EAAQC,GAC7DF,EAAoBlB,EAAiBK,OAAQc,EAAQC,GACrDF,EAAoBlB,EAAiBM,QAASa,EAAQC,IAG3CQ,2BAA2B,SAACT,EAAQC,GAC/CF,EAAoBlB,EAAiBG,MAAOgB,EAAQC,GHsHtDlE,GAAQ8B,QGnHOuB,GHuHT,SAAUpD,EAAQD,EAASH,IIvLjC,SAAA8E,EAAAC,GAEA3E,EAAAD,QAAA4E,KAOCjB,EAAA,WACD,gBAAA/D,GAKA,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAI,EAAAJ,EACAK,GAAA,EACAH,WAUA,OANAJ,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,GAAA,EAGAF,EAAAD,QAvBA,GAAAD,KA4DA,OAhCAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,SAAAP,EAAAQ,EAAAC,GACAZ,EAAAa,EAAAV,EAAAQ,IACAG,OAAAC,eAAAZ,EAAAQ,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAZ,EAAAmB,EAAA,SAAAf,GACA,GAAAQ,GAAAR,KAAAgB,WACA,WAAmC,MAAAhB,GAAA,SACnC,WAAyC,MAAAA,GAEzC,OADAJ,GAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAQ,EAAAC,GAA8D,MAAAR,QAAAS,UAAAC,eAAAjB,KAAAc,EAAAC,IAG9DtB,EAAAyB,EAAA,8BAGAzB,IAAA0B,EAAA,KAKA,SAAAtB,EAAAD,EAAAH,GAEA,YAGAc,QAAAC,eAAAZ,EAAA,cACAwB,OAAA,IAEAxB,EAAA8D,UAAAe,EAEA,IAAAC,GAAAjF,EAAA,GAEAkF,EAEA,SAAAC,GAAsC,MAAAA,MAAA/D,WAAA+D,GAAuClD,QAAAkD,IAF7EF,EAIA9E,GAAA8B,QAAAiD,EAAAjD,QACA9B,EAAA8D,MAAAgB,EAAAhB,OAIA,SAAA7D,EAAAD,EAAAH,GAEA,YAWA,SAAAkC,GAAAC,EAAAC,GAAiD,KAAAD,YAAAC,IAA0C,SAAAC,WAAA,qCAR3FvB,OAAAC,eAAAZ,EAAA,cACAwB,OAAA,GAGA,IAAAyD,GAAA,kBAAAC,SAAA,gBAAAA,QAAAC,SAAA,SAAAH,GAAoG,aAAAA,IAAqB,SAAAA,GAAmB,MAAAA,IAAA,kBAAAE,SAAAF,EAAAtC,cAAAwC,QAAAF,IAAAE,OAAA9D,UAAA,eAAA4D,IAE5II,EAAA,WAAgC,QAAAC,GAAAnB,EAAAoB,GAA2C,OAAApF,GAAA,EAAgBA,EAAAoF,EAAAC,OAAkBrF,IAAA,CAAO,GAAAsF,GAAAF,EAAApF,EAA2BsF,GAAA1E,WAAA0E,EAAA1E,aAAA,EAAwD0E,EAAA3E,cAAA,EAAgC,SAAA2E,OAAA7C,UAAA,GAAuDhC,OAAAC,eAAAsD,EAAAsB,EAAAC,IAAAD,IAA+D,gBAAAvD,EAAAyD,EAAAC,GAA2L,MAAlID,IAAAL,EAAApD,EAAAb,UAAAsE,GAAqEC,GAAAN,EAAApD,EAAA0D,GAA6D1D,MAIxhB2D,EAAA,SAAA1B,EAAA1D,GACA,MAAAG,QAAAS,UAAAC,eAAAjB,KAAA8D,EAAA1D,IAMAsD,EAAA9D,EAAA8D,MAAA,WACA,QAAAA,GAAAP,EAAAC,GACAzB,EAAA4B,KAAAG,GAEAH,KAAAJ,OACAI,KAAAH,QAAA,KACAG,KAAAkC,kBAAA,EAoBA,MAjBAT,GAAAtB,IACA2B,IAAA,SACAjE,MAAA,WACA,OAAc+B,KAAAI,KAAAJ,KAAAC,KAAAG,KAAAH,SAGdiC,IAAA,qBACAjE,MAAA,WACA,MAAAmC,MAAAkC,oBAGAJ,IAAA,iBACAjE,MAAA,WACAmC,KAAAkC,kBAAA,MAIA/B,KAGAgC,EAAA,WACA,QAAAA,GAAAC,EAAAC,EAAAC,GACA,GAAArC,GAAAD,IAEA5B,GAAA4B,KAAAmC,GAEAnC,KAAAuC,OAAA,EACAvC,KAAAwC,oBAAA,EAEAxC,KAAAyC,yBAAA,WACAxC,EAAAuC,oBAAA,GAGAxC,KAAAoC,YACApC,KAAAqC,YACArC,KAAAsC,aA8CA,MA3CAb,GAAAU,IACAL,IAAA,MACAjE,MAAA,SAAA6C,EAAAH,GACA,GAAAmC,OAAA,GACAN,EAAApC,KAAAoC,SAKA,KAHApC,KAAA2C,aAAAjC,GAGAV,KAAAuC,MAAA,EAA0BvC,KAAAuC,MAAAH,EAAAR,SAC1B5B,KAAAwC,mBADyDxC,KAAAuC,QAEzDG,EAAAN,EAAApC,KAAAuC,OACAG,EAAAjG,KAAA8D,EAAAG,EAEAV,MAAA4C,WAAAlC,GACAV,KAAAsC,WAAAtC,SAGA8B,IAAA,eACAjE,MAAA,SAAAgF,GACA,GAAAnC,GAAAmC,CACAnC,GAAAoC,gBAAA9C,KAAAqC,UACA3B,EAAA+B,yBAAAzC,KAAAyC,4BAMAX,IAAA,aACAjE,MAAA,SAAAgF,GACA,GAAAnC,GAAAmC,QACAnC,GAAAoC,sBACApC,GAAA+B,4BAGAX,IAAA,kBACAjE,MAAA,SAAAuE,EAAAG,GACAH,IAAApC,KAAAoC,WAAAG,GAAAvC,KAAAuC,OACAvC,KAAAuC,YAKAJ,KAGAY,EAAA,WACA,QAAAA,KACA,GAAAC,GAAAhD,IAEA5B,GAAA4B,KAAA+C,GAEA/C,KAAAiD,cACAjD,KAAAkD,YAEAlD,KAAAmD,aAAA,SAAAC,GACAJ,EAAAE,SAAAG,OAAAL,EAAAE,SAAAI,QAAAF,GAAA,IAwIA,MA3HA3B,GAAAsB,IACAjB,IAAA,aACAjE,MAAA,SAAA2C,EAAA+C,GACA,GAAAC,GAAAC,SAAAF,EAAA,IACAhD,EAAAP,KAAA0D,mBAAAlD,GACAsB,EAAA6B,OAAAH,GACA3F,MAAA,EAOA,OANAoE,GAAA1B,EAAAuB,GACAjE,EAAA0C,EAAAuB,IAEAjE,KACA0C,EAAAuB,GAAAjE,GAEAA,KAGAiE,IAAA,qBACAjE,MAAA,SAAAiE,GACA,GAAAjE,OAAA,EAOA,OANAoE,GAAAjC,KAAAiD,WAAAnB,GACAjE,EAAAmC,KAAAiD,WAAAnB,IAEAjE,KACAmC,KAAAiD,WAAAnB,GAAAjE,GAEAA,KAGAiE,IAAA,MACAjE,MAAA,SAAA2C,EAAAC,EAAA+C,GACA,GAAAI,GAAA5D,KAAA6D,WAAArD,EAAAgD,EACAI,GAAAN,QAAA7C,GAAA,GACAmD,EAAAE,KAAArD,MAIAqB,IAAA,MACAjE,MAAA,SAAA2C,GACA,GAAAgD,OAAA,GACAO,GAAA,EACAC,EAAAhE,KAAA0D,mBAAAlD,EACA,IAAAwD,EACA,IAAAR,IAAAQ,GACA,GAAA/B,EAAA+B,EAAAR,GAAA,CACAO,GAAA,CACA,OAIA,MAAAA,MAGAjC,IAAA,SACAjE,MAAA,SAAA2C,EAAAC,GACA,GAAAwD,GAAAjE,KAEAgE,EAAAhE,KAAA0D,mBAAAlD,EACA,IAAAwD,EAmBA,OAlBAE,GAAAlH,OAAAmH,oBAAAH,GACApC,EAAAsC,EAAAtC,OAiBAW,EAAA,EAA2BA,EAAAX,EAAgBW,KAf3C,SAAAA,GACA,GAAAiB,GAAAU,EAAA3B,GACAqB,EAAAI,EAAAR,GACAY,EAAAR,EAAAN,QAAA7C,EACA2D,IAAA,IACAR,EAAAP,OAAAe,EAAA,GACAR,EAAAhC,cACAoC,GAAAR,GAEAS,EAAAf,SAAAmB,QAAA,SAAAjB,GACAA,EAAAkB,gBAAAV,EAAAQ,OAMA7B,MAKAT,IAAA,YACAjE,MAAA,SAAA2C,SACAR,MAAAiD,WAAAzC,MAGAsB,IAAA,eACAjE,MAAA,SAAA+F,EAAAvB,GACA,GAAAe,GAAA,GAAAjB,GAAAyB,EAAAvB,EAAArC,KAAAmD,aAEA,OADAnD,MAAAkD,SAAAY,KAAAV,GACAA,KAGAtB,IAAA,OACAjE,MAAA,SAAA6C,EAAAH,GACA,GAAAyD,GAAAhE,KAAA0D,mBAAAhD,EAAAd,MACA2E,GAAA,EACAzB,EAAA,WACAyB,GAAA,EAEA,IAAAP,EAOA,OALAE,GAAAlH,OAAAmH,oBAAAH,GAAAQ,KAAA,SAAAC,EAAAC,GACA,MAAAD,GAAAC,IAEA9C,EAAAsC,EAAAtC,OAEAW,EAAA,EAA2BA,EAAAX,IAC3B2C,EAD2ChC,IAAA,CAE3C,GAAAoC,GAAAX,EAAAE,EAAA3B,GAGA,IAAAoC,EAAA,CACA,GAAAC,GAAA5E,KAAA6E,aAAAF,EAAA7B,EAEA,IADA8B,EAAAE,IAAApE,EAAAH,GACAqE,EAAApC,mBAAA,YAOAO,KAGAgC,EAAA,WACA,QAAAA,GAAAC,GACA,GAAAC,GAAAC,UAAAtD,OAAA,OAAAV,KAAAgE,UAAA,IAAAA,UAAA,EAEA9G,GAAA4B,KAAA+E,GAEAE,GACAjF,KAAAmF,WAAAH,GAsEA,MA7DAvD,GAAAsD,IACAjD,IAAA,aACAjE,MAAA,SAAAmH,GACAhF,KAAAoF,mBAAAJ,EACAhF,KAAAiD,WAAA,GAAAF,MAGAjB,IAAA,mBACAjE,MAAA,SAAA2C,EAAAkC,GACA,GAAAc,GAAA0B,UAAAtD,OAAA,OAAAV,KAAAgE,UAAA,GAAAA,UAAA,IAEAlF,MAAAiD,WAAAoC,IAAA7E,EAAAkC,GAAAc,GAAA,MAGA1B,IAAA,mBACAjE,MAAA,SAAA2C,GACA,MAAAR,MAAAiD,WAAAqC,IAAA9E,MAGAsB,IAAA,sBACAjE,MAAA,SAAA2C,EAAAkC,GACA1C,KAAAiD,WAAAsC,OAAA/E,EAAAkC,MAGAZ,IAAA,0BACAjE,MAAA,SAAA2C,GACAR,KAAAiD,WAAAuC,UAAAhF,MAGAsB,IAAA,gBACAjE,MAAA,SAAA6C,EAAAb,GACA,GAAAgD,GAAAkC,EAAAU,SAAA/E,EAAAb,EACAG,MAAAoF,qBACAvC,EAAA7C,KAAAoF,mBAAA3I,KAAAuD,KAAA6C,IAEA7C,KAAAiD,WAAAxG,KAAAoG,QAGAf,IAAA,WACAjE,MAAA,SAAAA,GACA,2BAAAA,EAAA,YAAAyD,EAAAzD,KAAA,OAAAA,KAGAiE,IAAA,WACAjE,MAAA,SAAA6H,EAAAC,GACA,GAAAjF,GAAAgF,CAIA,OAHAX,GAAAa,SAAAF,KACAhF,EAAA,GAAAqE,GAAA5E,MAAAwD,OAAA+B,GAAAC,IAEAjF,KAGAoB,IAAA,SACAjE,MAAA,SAAAmH,GACA,UAAAD,GAAAC,OAOAD,IAGAA,GAAA5E,QAEA9D,EAAA8B,QAAA4G,QJkMM,SAAUzI,EAAQD,EAASH,GAEjC,YAiBA,SAASkC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMhC,GAAQ,IAAKgC,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOjC,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BgC,EAAPhC,EAElO,QAASkC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASnB,UAAYT,OAAO8B,OAAOD,GAAcA,EAAWpB,WAAasB,aAAelB,MAAOe,EAAUzB,YAAY,EAAO6B,UAAU,EAAM9B,cAAc,KAAe2B,IAAY7B,OAAOiC,eAAiBjC,OAAOiC,eAAeL,EAAUC,GAAcD,EAASM,UAAYL,GAlBje7B,OAAOC,eAAeZ,EAAS,cAC7BwB,OAAO,GAGT,IAAI4D,GAAe,WAAc,QAASC,GAAiBnB,EAAQoB,GAAS,IAAK,GAAIpF,GAAI,EAAGA,EAAIoF,EAAMC,OAAQrF,IAAK,CAAE,GAAIsF,GAAaF,EAAMpF,EAAIsF,GAAW1E,WAAa0E,EAAW1E,aAAc,EAAO0E,EAAW3E,cAAe,EAAU,SAAW2E,KAAYA,EAAW7C,UAAW,GAAMhC,OAAOC,eAAesD,EAAQsB,EAAWC,IAAKD,IAAiB,MAAO,UAAUvD,EAAayD,EAAYC,GAAiJ,MAA9HD,IAAYL,EAAiBpD,EAAYb,UAAWsE,GAAiBC,GAAaN,EAAiBpD,EAAa0D,GAAqB1D,MAE5hBuH,EAAO,QAASzI,GAAIG,EAAQC,EAAUsI,GAA2B,OAAXvI,IAAiBA,EAASwI,SAAStI,UAAW,IAAIuI,GAAOhJ,OAAOiJ,yBAAyB1I,EAAQC,EAAW,QAAa0D,KAAT8E,EAAoB,CAAE,GAAIE,GAASlJ,OAAOkD,eAAe3C,EAAS,OAAe,QAAX2I,MAAmB,GAAkC9I,EAAI8I,EAAQ1I,EAAUsI,GAAoB,GAAI,SAAWE,GAAQ,MAAOA,GAAKnI,KAAgB,IAAIf,GAASkJ,EAAK5I,GAAK,QAAe8D,KAAXpE,EAA4C,MAAOA,GAAOL,KAAKqJ,IKzoB5dK,EAAAjK,EAAA,GL6oBIkK,EAEJ,SAAgC/E,GAAO,MAAOA,IAAOA,EAAI/D,WAAa+D,GAAQlD,QAASkD,IAFlC8E,GKloB/CE,ELqpBmB,SAAUC,GKppBjC,QAAAD,GAAYzG,GAAMxB,EAAA4B,KAAAqG,EAAA,IAAApG,GAAAzB,EAAAwB,MAAAqG,EAAAnH,WAAAlC,OAAAkD,eAAAmG,IAAA5J,KAAAuD,KACV,KAAM,KAAM,KAAM,MAAM,GADd,OAEhBC,GAAKL,KAAOA,EAFIK,EL0qBlB,MArBAtB,GAAU0H,EAAoBC,GAW9B7E,EAAa4E,IACXvE,IAAK,aACLjE,MAAO,SK7pBE0C,EAAQgG,EAA0BC,EAA2BC,GACtE,GAAMC,GAAqB,SAAC7G,EAAM8G,GAAP,MAAwBpG,GAAOqG,YAAY/G,EAAM8G,GAC5Ed,GAAAQ,EAAA5I,UAAAyB,WAAAlC,OAAAkD,eAAAmG,EAAA5I,WAAA,aAAAuC,MAAAvD,KAAAuD,KACEO,EACAgG,GAA4BG,EAC5BF,EACAC,OL+pBGJ,GACPD,EAAwBjI,QAE1B9B,GAAQ8B,QK7pBOkI,GLiqBT,SAAU/J,EAAQD,EAASH,GAEjC,YAiBA,SAAS2K,GAAuBxF,GAAO,MAAOA,IAAOA,EAAI/D,WAAa+D,GAAQlD,QAASkD,GAEvF,QAASjD,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMhC,GAAQ,IAAKgC,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOjC,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BgC,EAAPhC,EAElO,QAASkC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASnB,UAAYT,OAAO8B,OAAOD,GAAcA,EAAWpB,WAAasB,aAAelB,MAAOe,EAAUzB,YAAY,EAAO6B,UAAU,EAAM9B,cAAc,KAAe2B,IAAY7B,OAAOiC,eAAiBjC,OAAOiC,eAAeL,EAAUC,GAAcD,EAASM,UAAYL,GApBje7B,OAAOC,eAAeZ,EAAS,cAC7BwB,OAAO,GAGT,IAAI4D,GAAe,WAAc,QAASC,GAAiBnB,EAAQoB,GAAS,IAAK,GAAIpF,GAAI,EAAGA,EAAIoF,EAAMC,OAAQrF,IAAK,CAAE,GAAIsF,GAAaF,EAAMpF,EAAIsF,GAAW1E,WAAa0E,EAAW1E,aAAc,EAAO0E,EAAW3E,cAAe,EAAU,SAAW2E,KAAYA,EAAW7C,UAAW,GAAMhC,OAAOC,eAAesD,EAAQsB,EAAWC,IAAKD,IAAiB,MAAO,UAAUvD,EAAayD,EAAYC,GAAiJ,MAA9HD,IAAYL,EAAiBpD,EAAYb,UAAWsE,GAAiBC,GAAaN,EAAiBpD,EAAa0D,GAAqB1D,MMtsBhiBwI,EAAA5K,EAAA,GN0sBI6K,EAAeF,EAAuBC,GMzsB1CE,EAAA9K,EAAA,GN6sBI+K,EAAuBJ,EAAuBG,GMpsB5CE,ENqtBiB,SAAUC,GMptB/B,QAAAD,GAAY3G,EAAQiG,EAA2BC,GAAyBrI,EAAA4B,KAAAkH,EAAA,IAAAjH,GAAAzB,EAAAwB,MAAAkH,EAAAhI,WAAAlC,OAAAkD,eAAAgH,IAAAzK,KAAAuD,KAChE+G,EAAA5I,QAAWD,sBADqD,OAGtE+B,GAAKkF,WAAW5E,EAAQ,KAAMiG,EAA2BC,GAHaxG,EN4uBxE,MAvBAtB,GAAUuI,EAAkBC,GAW5B1F,EAAayF,IACXpF,IAAK,QACLjE,MAAO,WM3tBPmC,KAAKO,OAAO6G,WN+tBZtF,IAAK,QACLjE,MAAO,WM5tBPmC,KAAKO,OAAO8G,YNiuBPH,GACPD,EAAqB9I,QAEvB9B,GAAQ8B,QMhuBO+I,GNouBT,SAAU5K,EAAQD,EAASH,GAEjC,YAuBA,SAAS2K,GAAuBxF,GAAO,MAAOA,IAAOA,EAAI/D,WAAa+D,GAAQlD,QAASkD,GAEvF,QAASjD,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMhC,GAAQ,IAAKgC,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOjC,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BgC,EAAPhC,EAElO,QAASkC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASnB,UAAYT,OAAO8B,OAAOD,GAAcA,EAAWpB,WAAasB,aAAelB,MAAOe,EAAUzB,YAAY,EAAO6B,UAAU,EAAM9B,cAAc,KAAe2B,IAAY7B,OAAOiC,eAAiBjC,OAAOiC,eAAeL,EAAUC,GAAcD,EAASM,UAAYL,GA1Bje7B,OAAOC,eAAeZ,EAAS,cAC7BwB,OAAO,GAGT,IAAI4D,GAAe,WAAc,QAASC,GAAiBnB,EAAQoB,GAAS,IAAK,GAAIpF,GAAI,EAAGA,EAAIoF,EAAMC,OAAQrF,IAAK,CAAE,GAAIsF,GAAaF,EAAMpF,EAAIsF,GAAW1E,WAAa0E,EAAW1E,aAAc,EAAO0E,EAAW3E,cAAe,EAAU,SAAW2E,KAAYA,EAAW7C,UAAW,GAAMhC,OAAOC,eAAesD,EAAQsB,EAAWC,IAAKD,IAAiB,MAAO,UAAUvD,EAAayD,EAAYC,GAAiJ,MAA9HD,IAAYL,EAAiBpD,EAAYb,UAAWsE,GAAiBC,GAAaN,EAAiBpD,EAAa0D,GAAqB1D,MOvwBhiBgJ,EAAApL,EAAA,GP2wBIqL,EAAoBV,EAAuBS,GO1wB/CR,EAAA5K,EAAA,GP8wBI6K,EAAeF,EAAuBC,GO7wB1CU,EAAAtL,EAAA,GACA8K,EAAA9K,EAAA,GPkxBI+K,EAAuBJ,EAAuBG,GOhxB5CS,EAAY,SAACC,GACjB,GAAInH,GAASmH,GAAUjJ,IAMvB,OAJK8I,GAAApJ,QAAgByH,SAASrF,KAC5BA,EAAS,GAAIoH,QAAOhE,OAAO+D,KAGtBnH,GAWHqH,EP2xB0B,SAAUT,GO1xBxC,QAAAS,GAAYF,EAAQlB,EAA2BC,GAAyBrI,EAAA4B,KAAA4H,EAAA,IAAA3H,GAAAzB,EAAAwB,MAAA4H,EAAA1I,WAAAlC,OAAAkD,eAAA0H,IAAAnL,KAAAuD,KAChE+G,EAAA5I,QAAWJ,mBAEXwC,EAASkH,EAAUC,EAH6C,OAKtEzH,GAAKkF,WAAW5E,EAAQiG,EAA2BC,IACnD,EAAAe,EAAA1G,sBAAqBP,EAAQN,EAAK6F,UANoC7F,EPgzBxE,MArBAtB,GAAUiJ,EAA2BT,GAcrC1F,EAAamG,IACX9F,IAAK,YACLjE,MAAO,WOjyBP,MAAOmC,MAAKO,OAAOsH,gBPsyBdD,GACPX,EAAqB9I,QAEvB9B,GAAQ8B,QOryBOyJ,GPyyBT,SAAUtL,EAAQD,EAASH,GAEjC,YAuBA,SAAS2K,GAAuBxF,GAAO,MAAOA,IAAOA,EAAI/D,WAAa+D,GAAQlD,QAASkD,GAEvF,QAASjD,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMhC,GAAQ,IAAKgC,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOjC,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BgC,EAAPhC,EAElO,QAASkC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASnB,UAAYT,OAAO8B,OAAOD,GAAcA,EAAWpB,WAAasB,aAAelB,MAAOe,EAAUzB,YAAY,EAAO6B,UAAU,EAAM9B,cAAc,KAAe2B,IAAY7B,OAAOiC,eAAiBjC,OAAOiC,eAAeL,EAAUC,GAAcD,EAASM,UAAYL,GA1Bje7B,OAAOC,eAAeZ,EAAS,cAC7BwB,OAAO,GAGT,IAAI4D,GAAe,WAAc,QAASC,GAAiBnB,EAAQoB,GAAS,IAAK,GAAIpF,GAAI,EAAGA,EAAIoF,EAAMC,OAAQrF,IAAK,CAAE,GAAIsF,GAAaF,EAAMpF,EAAIsF,GAAW1E,WAAa0E,EAAW1E,aAAc,EAAO0E,EAAW3E,cAAe,EAAU,SAAW2E,KAAYA,EAAW7C,UAAW,GAAMhC,OAAOC,eAAesD,EAAQsB,EAAWC,IAAKD,IAAiB,MAAO,UAAUvD,EAAayD,EAAYC,GAAiJ,MAA9HD,IAAYL,EAAiBpD,EAAYb,UAAWsE,GAAiBC,GAAaN,EAAiBpD,EAAa0D,GAAqB1D,MQx1BhiBgJ,EAAApL,EAAA,GR41BIqL,EAAoBV,EAAuBS,GQ31B/CR,EAAA5K,EAAA,GR+1BI6K,EAAeF,EAAuBC,GQ91B1CU,EAAAtL,EAAA,GACA8K,EAAA9K,EAAA,GRm2BI+K,EAAuBJ,EAAuBG,GQj2B5CS,EAAY,SAAClH,EAAQ1D,GACzB,MAAK0K,GAAApJ,QAAgByH,SAASrF,GAIvBA,EAHE,GAAIuH,cAAanE,OAAOpD,GAAS1D,IAetCkL,ER42BuB,SAAUZ,GQ32BrC,QAAAY,GAAYxH,EAAQ1D,EAAM2J,EAA2BC,GAAyBrI,EAAA4B,KAAA+H,EAAA,IAAA9H,GAAAzB,EAAAwB,MAAA+H,EAAA7I,WAAAlC,OAAAkD,eAAA6H,IAAAtL,KAAAuD,KACtE+G,EAAA5I,QAAWH,eAD2D,OAE5EiC,GAAKyH,OAASD,EAAUlH,EAAQ1D,GAEhCoD,EAAKkF,WAAWlF,EAAKyH,OAAOM,KAAM,KAAMxB,EAA2BC,IACnE,EAAAe,EAAAzG,0BAAyBd,EAAKyH,OAAQzH,EAAK6F,UALiC7F,ERs4B9E,MA1BAtB,GAAUoJ,EAAwBZ,GAclC1F,EAAasG,IACXjG,IAAK,QACLjE,MAAO,WQn3BPmC,KAAK0H,OAAON,WRu3BZtF,IAAK,QACLjE,MAAO,WQp3BPmC,KAAK0H,OAAOL,YRy3BPU,GACPd,EAAqB9I,QAEvB9B,GAAQ8B,QQx3BO4J,GR43BT,SAAUzL,EAAQD,EAASH,GAEjC,YAyBA,SAAS2K,GAAuBxF,GAAO,MAAOA,IAAOA,EAAI/D,WAAa+D,GAAQlD,QAASkD,GAEvF,QAASjD,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAxBhHvB,OAAOC,eAAeZ,EAAS,cAC7BwB,OAAO,GAGT,IAAIoK,GAAiB,WAAc,QAASC,GAAcC,EAAK5L,GAAK,GAAI6L,MAAeC,GAAK,EAAUC,GAAK,EAAWC,MAAKrH,EAAW,KAAM,IAAK,GAAiCsH,GAA7BC,EAAKN,EAAI5G,OAAOC,cAAmB6G,GAAMG,EAAKC,EAAGC,QAAQC,QAAoBP,EAAKtE,KAAK0E,EAAG3K,QAAYtB,GAAK6L,EAAKxG,SAAWrF,GAA3D8L,GAAK,IAAoE,MAAOO,GAAON,GAAK,EAAMC,EAAKK,EAAO,QAAU,KAAWP,GAAMI,EAAW,QAAGA,EAAW,SAAO,QAAU,GAAIH,EAAI,KAAMC,IAAQ,MAAOH,GAAQ,MAAO,UAAUD,EAAK5L,GAAK,GAAIsM,MAAMC,QAAQX,GAAQ,MAAOA,EAAY,IAAI5G,OAAOC,WAAYxE,QAAOmL,GAAQ,MAAOD,GAAcC,EAAK5L,EAAa,MAAM,IAAIgC,WAAU,4DS76BtlB+I,EAAApL,EAAA,GTi7BIqL,EAAoBV,EAAuBS,GSh7B/CR,EAAA5K,EAAA,GTo7BI6K,EAAeF,EAAuBC,GSn7B1CU,EAAAtL,EAAA,GTu7BI6M,EAAgBlC,EAAuBW,GSt7B3CwB,EAAA9M,EAAA,GT07BI+M,EAAqBpC,EAAuBmC,GSh7B1CE,EACJ,QAAAA,GACE3I,EACAiG,EACA2C,EACAC,GACAhL,EAAA4B,KAAAkJ,GAAAG,EAAA5M,KAAAuD,MACAA,KAAKO,OAASA,GAAU9B,KACxBuB,KAAKmJ,gCAAkCA,EACvCnJ,KAAKoJ,8BAAgCA,EACrCpJ,KAAKJ,KAAOmH,EAAA5I,QAAWF,qBACvB+B,KAAK8F,SAAW,GAAAyB,GAAApJ,QAAoBqI,GAEpCjG,EAAOM,iBAAiB,UAAWb,KAAKsJ,gBACxC,EAAA9B,EAAA1G,sBAAqBP,EAAQP,KAAK8F,WT+7BlCuD,EAAmB,WACrB,GAAIpJ,GAAQD,IAEZA,MS/7BAa,iBAAmB,cAAA0I,EAAA,QAAaA,EAAAtJ,EAAK6F,UAASjF,iBAAd2I,MAAAD,EAAArE,YTq8BhClF,KSp8BAW,iBAAmB,cAAA8I,EAAA,QAAaA,EAAAxJ,EAAK6F,UAASnF,iBAAd6I,MAAAC,EAAAvE,YT08BhClF,KSz8BA0J,oBAAsB,cAAAC,EAAA,QAAaA,EAAA1J,EAAK6F,UAAS4D,oBAAdF,MAAAG,EAAAzE,YT+8BnClF,KS98BA4J,wBAA0B,cAAAC,EAAA,QAAaA,EAAA5J,EAAK6F,UAAS8D,wBAAdJ,MAAAK,EAAA3E,YTo9BvClF,KSl9BAsJ,cAAgB,SAAC5I,GAAU,GAAAoJ,GAAA7B,EACRvH,EAAMqJ,MADE,GAClBxJ,EADkBuJ,EAAA,GAEnB/J,EAAS,GAAAkJ,GAAA9K,QACboC,EACAN,EAAKkJ,gCACLlJ,EAAKmJ,8BAGPnJ,GAAK6F,SAASlF,cAAc,GAAAmI,GAAA5K,QAAgB4K,EAAA5K,QAAYiB,QAASW,EAAQW,EAAOX,KTo9BpF1D,GAAQ8B,QSh9BO+K,GTo9BT,SAAU5M,EAAQD,EAASH,GAEjC,YA6BA,SAAS2K,GAAuBxF,GAAO,MAAOA,IAAOA,EAAI/D,WAAa+D,GAAQlD,QAASkD,GUliCvF,GAAAyF,GAAA5K,EAAA,GV0gCI6K,EAAeF,EAAuBC,GUzgC1CU,EAAAtL,EAAA,GV6gCI6M,EAAgBlC,EAAuBW,GU5gC3CwC,EAAA9N,EAAA,GVghCI+N,EAA8BpD,EAAuBmD,GU/gCzDE,EAAAhO,EAAA,GVmhCIiO,EAA2BtD,EAAuBqD,GUlhCtDlB,EAAA9M,EAAA,GVshCI+M,EAAqBpC,EAAuBmC,GUrhChDoB,EAAAlO,EAAA,GVyhCImO,EAAqBxD,EAAuBuD,GUxhChDE,EAAApO,EAAA,IAEMqO,EAAgBxB,EAAA5K,QAAYiB,QAC5BrB,EAAmBgJ,EAAA5I,QAAWJ,iBAC9BC,EAAgB+I,EAAA5I,QAAWH,aAEjC1B,GAAOD,QAAUW,OAAOwN,OAAPP,EAAA9L,SACfW,gBACA2L,8BACAF,gBACAxM,mBACAC,gBACA0B,sBACA5B,qBACAoJ,2BACAgC,2BACAnB,iCACAH,uCViiCI,SAAUtL,EAAQD,EAASH,IWxjCjC,SAAA8E,EAAAC,GAEA3E,EAAAD,QAAA4E,KAOCjB,EAAA,WACD,gBAAA/D,GAKA,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAI,EAAAJ,EACAK,GAAA,EACAH,WAUA,OANAJ,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,GAAA,EAGAF,EAAAD,QAvBA,GAAAD,KA4DA,OAhCAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,SAAAP,EAAAQ,EAAAC,GACAZ,EAAAa,EAAAV,EAAAQ,IACAG,OAAAC,eAAAZ,EAAAQ,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAZ,EAAAmB,EAAA,SAAAf,GACA,GAAAQ,GAAAR,KAAAgB,WACA,WAAmC,MAAAhB,GAAA,SACnC,WAAyC,MAAAA,GAEzC,OADAJ,GAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAQ,EAAAC,GAA8D,MAAAR,QAAAS,UAAAC,eAAAjB,KAAAc,EAAAC,IAG9DtB,EAAAyB,EAAA,8BAGAzB,IAAA0B,EAAA,KAKA,SAAAtB,EAAAD,EAAAH,GAEA,YAGAc,QAAAC,eAAAZ,EAAA,cACAwB,OAAA,IAEAxB,EAAAyC,OAAAzC,EAAAoC,KAAApC,EAAAqO,qBAAAxJ,EAEA,IAAAyJ,GAAAzO,EAAA,GAEA0O,EAEA,SAAAvJ,GAAsC,MAAAA,MAAA/D,WAAA+D,GAAuClD,QAAAkD,IAF7EsJ,GAIAlM,EAAAmM,EAAAzM,QAAAM,KACAK,EAAA8L,EAAAzM,QAAAW,MACAzC,GAAA8B,QAAAyM,EAAAzM,QACA9B,EAAAqO,iBAAAC,EAAAD,iBACArO,EAAAoC,OACApC,EAAAyC,UAIA,SAAAxC,EAAAD,EAAAH,GAEA,YAmBA,SAAAsC,GAAAC,EAAAhC,GAAiD,IAAAgC,EAAa,SAAAC,gBAAA,4DAAyF,QAAAjC,GAAA,gBAAAA,IAAA,kBAAAA,GAAAgC,EAAAhC,EAEvJ,QAAAkC,GAAAC,EAAAC,GAA0C,qBAAAA,IAAA,OAAAA,EAA+D,SAAAN,WAAA,iEAAAM,GAAuGD,GAAAnB,UAAAT,OAAA8B,OAAAD,KAAApB,WAAyEsB,aAAelB,MAAAe,EAAAzB,YAAA,EAAA6B,UAAA,EAAA9B,cAAA,KAA6E2B,IAAA7B,OAAAiC,eAAAjC,OAAAiC,eAAAL,EAAAC,GAAAD,EAAAM,UAAAL,GAErX,QAAAT,GAAAC,EAAAC,GAAiD,KAAAD,YAAAC,IAA0C,SAAAC,WAAA,qCApB3FvB,OAAAC,eAAAZ,EAAA,cACAwB,OAAA,IAEAxB,EAAAwO,sBAAAxO,EAAAqO,qBAAAxJ,EAEA,IAAAO,GAAA,WAAgC,QAAAC,GAAAnB,EAAAoB,GAA2C,OAAApF,GAAA,EAAgBA,EAAAoF,EAAAC,OAAkBrF,IAAA,CAAO,GAAAsF,GAAAF,EAAApF,EAA2BsF,GAAA1E,WAAA0E,EAAA1E,aAAA,EAAwD0E,EAAA3E,cAAA,EAAgC,SAAA2E,OAAA7C,UAAA,GAAuDhC,OAAAC,eAAAsD,EAAAsB,EAAAC,IAAAD,IAA+D,gBAAAvD,EAAAyD,EAAAC,GAA2L,MAAlID,IAAAL,EAAApD,EAAAb,UAAAsE,GAAqEC,GAAAN,EAAApD,EAAA0D,GAA6D1D,MAKxhBgJ,EAAApL,EAAA,GAEAqL,EAEA,SAAAlG,GAAsC,MAAAA,MAAA/D,WAAA+D,GAAuClD,QAAAkD,IAF7EiG,GAUAoD,EAAArO,EAAAqO,iBAAA,WACA,QAAAA,GAAAhK,EAAAoK,GACA1M,EAAA4B,KAAA0K,GAEA1K,KAAAU,QACAV,KAAA8K,eAgCA,MA7BArJ,GAAAiJ,IACA5I,IAAA,SACAjE,MAAA,WACA,OAEA6C,MAAAmK,EAAAE,OAAA/K,KAAAU,OACAoK,aAAA9K,KAAA8K,mBAIAhJ,IAAA,QACAjE,MAAA,SAAAN,GAEA,GAAAwG,GAAA8G,EAAAG,MAAAzN,EAOA,OANAmN,GAAAO,QAAAlH,GAEAA,EAAArD,MAAAmK,EAAAG,MAAAjH,EAAArD,OAEAqD,EAAA,KAEAA,KAGAjC,IAAA,UACAjE,MAAA,SAAAN,GACA,MAAAgK,GAAApJ,QAAAyH,SAAArI,IAAAP,OAAAS,UAAAC,eAAAjB,KAAAc,EAAA,iBAAAP,OAAAS,UAAAC,eAAAjB,KAAAc,EAAA,aAIAmN,KAGAG,EAAAxO,EAAAwO,sBAAA,SAAA1J,GAcA,QAAA0J,GAAAtK,GACA,GAAAgG,GAAArB,UAAAtD,OAAA,OAAAV,KAAAgE,UAAA,GAAAA,UAAA,QACAsB,EAAAtB,UAAAtD,OAAA,OAAAV,KAAAgE,UAAA,GAAAA,UAAA,QACAuB,EAAAvB,UAAAtD,OAAA,OAAAV,KAAAgE,UAAA,GAAAA,UAAA,QACAD,EAAAC,UAAAtD,OAAA,OAAAV,KAAAgE,UAAA,IAAAA,UAAA,EAEA9G,GAAA4B,KAAA6K,EAEA,IAAA5K,GAAAzB,EAAAwB,MAAA6K,EAAA3L,WAAAlC,OAAAkD,eAAA2K,IAAApO,KAAAuD,KAAA,SAKA,OAHAiF,IACAhF,EAAAiL,YAAA3K,EAAAgG,EAAAC,EAAAC,GAEAxG,EA+GA,MAzIAtB,GAAAkM,EAAA1J,GAkCAM,EAAAoJ,IACA/I,IAAA,cACAjE,MAAA,SAAA0C,EAAAgG,EAAAC,EAAAC,GACAzG,KAAAO,UAAA9B,KACAuB,KAAA2E,WACA4B,2BACAE,2BAEAzG,KAAAmL,OAAA5D,EAAApJ,QAAAW,SACAkB,KAAA8F,SAAAyB,EAAApJ,QAAAW,OAAA0H,GACAxG,KAAA8K,aAAA,MAAAM,KAAAC,KAAA,IAAAD,KAAAE,UAAA,IAAAC,KAAAC,MACAxL,KAAAyL,aAAA,IACAzL,KAAAa,iBAAAb,KAAA8F,SAAAjF,iBAAA6K,KAAA1L,KAAA8F,UACA9F,KAAAW,iBAAAX,KAAA8F,SAAAnF,iBAAA+K,KAAA1L,KAAA8F,UACA9F,KAAA0J,oBAAA1J,KAAA8F,SAAA4D,oBAAAgC,KAAA1L,KAAA8F,UACA9F,KAAA4J,wBAAA5J,KAAA8F,SAAA8D,wBAAA8B,KAAA1L,KAAA8F,UAEAvF,EAAAM,iBAAA,UAAAb,KAAA2L,sBAAAD,KAAA1L,UAGA8B,IAAA,gBACAjE,MAAA,SAAA2C,EAAAX,EAAA8G,GACA,GAAAjG,GAAA6G,EAAApJ,QAAAsH,SAAAjF,EAAAX,EACAG,MAAA2E,UAAA8B,0BACA/F,EAAAV,KAAA2E,UAAA8B,wBAAAhK,KAAAuD,KAAAU,GAEA,IAAAkL,GAAAf,EAAAE,OAAA,GAAAL,GAAAhK,EAAAV,KAAA8K,cACA9K,MAAA6L,oBAAAD,EAAAjF,MAGA7E,IAAA,sBACAjE,MAAA,SAAAgC,EAAA8G,GACA,GAAAlG,GAAAT,KAAA2E,UAAA4B,wBACA9F,GACAA,EAAAhE,KAAAuD,KAAAH,EAAAG,KAAAyL,aAAA9E,GAEA3G,KAAAO,OAAAqG,YAAA/G,EAAAG,KAAAyL,aAAA9E,MAIA7E,IAAA,wBACAjE,MAAA,SAAA6C,GAEAA,IAAAoL,aAAApL,CACA,IAAAqL,GAAArB,EAAAM,MAAAtK,EAAAb,KACAkM,KACAA,EAAAjB,eAAA9K,KAAA8K,aACA9K,KAAAmL,OAAAvK,cAAAmL,EAAArL,OAEAV,KAAA8F,SAAAlF,cAAAmL,EAAArL,aAeAoB,IAAA,SACAjE,MAAA,SAAAN,GAOA,MALA,kBAAAA,GAAAwN,OACAxN,EAAAwN,SAEAiB,KAAAC,UAAA1O,MAYAuE,IAAA,QACAjE,MAAA,SAAAgC,GACA,GAAAtC,OAAA,EACA,IAAAgK,EAAApJ,QAAAyH,SAAA/F,GACAtC,EAAAsC,MAEA,KACAtC,EAAAyO,KAAAhB,MAAAnL,GACS,MAAAqM,IAIT,MAAA3O,MAGAuE,IAAA,SACAjE,MAAA,SAAA0C,EAAAgG,EAAAC,EAAAC,GACA,UAAAoE,GAAAtK,EAAAgG,EAAAC,EAAAC,OAIAoE,GACCtD,EAAApJ,SAED8C,EAAA,SAAAwG,GACA,GAAA0E,GAAAjH,UAAAtD,OAAA,OAAAV,KAAAgE,UAAA,GAAAA,UAAA,OACA,mBAIA,MAHAiH,KACAA,EAAAtB,EAAA/L,OAAA2I,MAEA0E,GAIAtB,GAAApM,KAAAwC,EAAA,WACA,MAAAxC,QAEAoM,EAAA3E,OAAAjF,EAAA,WACA,MAAAiF,UAEA2E,EAAAuB,IAAAnL,EAAA,WACA,MAAAmL,OAEAvB,EAAAH,mBAEArO,EAAA8B,QAAA0M,GAIA,SAAAvO,EAAAD,EAAAH,GAEA,cACA,SAAAI,GAA8C,GAAA+P,GAAAC,EAAAC,EAE9CC,EAAA,kBAAAjL,SAAA,gBAAAA,QAAAC,SAAA,SAAAH,GAAqG,aAAAA,IAAqB,SAAAA,GAAmB,MAAAA,IAAA,kBAAAE,SAAAF,EAAAtC,cAAAwC,QAAAF,IAAAE,OAAA9D,UAAA,eAAA4D,KAE7I,SAAAL,EAAAC,GACA,WAAAuL,EAAAnQ,IAAA,WAAAmQ,EAAAlQ,KAAAD,QAAA4E,KAAoJqL,KAAAD,EAAA,MAGpJnL,MAFAqL,EAAA,kBAAAF,GACAA,EAAA7C,MAAAnN,EAAAiQ,GAAAD,KACA/P,EAAAD,QAAAkQ,KACCrL,EAAA,WACD,gBAAAjF,GAMA,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAIA,IAAAC,GAAAF,EAAAD,IACAI,EAAAJ,EACAK,GAAA,EACAH,WAUA,OANAJ,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,GAAA,EAGAF,EAAAD,QAxBA,GAAAD,KAuEA,OAzCAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,SAAAP,EAAAQ,EAAAC,GACAZ,EAAAa,EAAAV,EAAAQ,IACAG,OAAAC,eAAAZ,EAAAQ,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAQAZ,EAAAmB,EAAA,SAAAf,GACA,GAAAQ,GAAAR,KAAAgB,WACA,WACA,MAAAhB,GAAA,SAEA,WACA,MAAAA,GAGA,OADAJ,GAAAU,EAAAE,EAAA,IAAAA,GACAA,GAKAZ,EAAAa,EAAA,SAAAQ,EAAAC,GACA,MAAAR,QAAAS,UAAAC,eAAAjB,KAAAc,EAAAC,IAIAtB,EAAAyB,EAAA,8BAGAzB,IAAA0B,EAAA,KAMA,SAAAtB,EAAAD,EAAAH,GAIAc,OAAAC,eAAAZ,EAAA,cACAwB,OAAA,IAEAxB,EAAA8D,UAAAe,EAEA,IAAAC,GAAAjF,EAAA,GAEAkF,EAEA,SAAAC,GACA,MAAAA,MAAA/D,WAAA+D,GAA8ClD,QAAAkD,IAH9CF,EAMA9E,GAAA8B,QAAAiD,EAAAjD,QACA9B,EAAA8D,MAAAgB,EAAAhB,OAKA,SAAA7D,EAAAD,EAAAH,GAwBA,QAAAkC,GAAAC,EAAAC,GACA,KAAAD,YAAAC,IACA,SAAAC,WAAA,qCAtBAvB,OAAAC,eAAAZ,EAAA,cACAwB,OAAA,GAGA,IAAAyD,GAAA,kBAAAC,SAAA,WAAAiL,EAAAjL,OAAAC,UAAA,SAAAH,GACA,gBAAAA,EAAA,YAAAmL,EAAAnL,IACO,SAAAA,GACP,MAAAA,IAAA,kBAAAE,SAAAF,EAAAtC,cAAAwC,QAAAF,IAAAE,OAAA9D,UAAA,kBAAA4D,EAAA,YAAAmL,EAAAnL,IAGAI,EAAA,WACA,QAAAC,GAAAnB,EAAAoB,GACA,OAAApF,GAAA,EAAyBA,EAAAoF,EAAAC,OAAkBrF,IAAA,CAC3C,GAAAsF,GAAAF,EAAApF,EAAsCsF,GAAA1E,WAAA0E,EAAA1E,aAAA,EAAuD0E,EAAA3E,cAAA,EAA+B,SAAA2E,OAAA7C,UAAA,GAAsDhC,OAAAC,eAAAsD,EAAAsB,EAAAC,IAAAD,IAEzK,gBAAAvD,EAAAyD,EAAAC,GACiI,MAA1ID,IAAAL,EAAApD,EAAAb,UAAAsE,GAA8EC,GAAAN,EAAApD,EAAA0D,GAA4D1D,MAU1I2D,EAAA,SAAA1B,EAAA1D,GACA,MAAAG,QAAAS,UAAAC,eAAAjB,KAAA8D,EAAA1D,IAMAsD,EAAA9D,EAAA8D,MAAA,WACA,QAAAA,GAAAP,EAAAC,GACAzB,EAAA4B,KAAAG,GAEAH,KAAAJ,OACAI,KAAAH,QAAA,KACAG,KAAAkC,kBAAA,EAoBA,MAjBAT,GAAAtB,IACA2B,IAAA,SACAjE,MAAA,WACA,OAAoB+B,KAAAI,KAAAJ,KAAAC,KAAAG,KAAAH,SAGpBiC,IAAA,qBACAjE,MAAA,WACA,MAAAmC,MAAAkC,oBAGAJ,IAAA,iBACAjE,MAAA,WACAmC,KAAAkC,kBAAA,MAIA/B,KAGAgC,EAAA,WACA,QAAAA,GAAAC,EAAAC,EAAAC,GACA,GAAArC,GAAAD,IAEA5B,GAAA4B,KAAAmC,GAEAnC,KAAAuC,OAAA,EACAvC,KAAAwC,oBAAA,EAEAxC,KAAAyC,yBAAA,WACAxC,EAAAuC,oBAAA,GAGAxC,KAAAoC,YACApC,KAAAqC,YACArC,KAAAsC,aA8CA,MA3CAb,GAAAU,IACAL,IAAA,MACAjE,MAAA,SAAA6C,EAAAH,GACA,GAAAmC,OAAA,GACAN,EAAApC,KAAAoC,SAKA,KAHApC,KAAA2C,aAAAjC,GAGAV,KAAAuC,MAAA,EAAgCvC,KAAAuC,MAAAH,EAAAR,SAChC5B,KAAAwC,mBAD+DxC,KAAAuC,QAE/DG,EAAAN,EAAApC,KAAAuC,OACAG,EAAAjG,KAAA8D,EAAAG,EAEAV,MAAA4C,WAAAlC,GACAV,KAAAsC,WAAAtC,SAGA8B,IAAA,eACAjE,MAAA,SAAAgF,GACA,GAAAnC,GAAAmC,CACAnC,GAAAoC,gBAAA9C,KAAAqC,UACA3B,EAAA+B,yBAAAzC,KAAAyC,4BAMAX,IAAA,aACAjE,MAAA,SAAAgF,GACA,GAAAnC,GAAAmC,QACAnC,GAAAoC,sBACApC,GAAA+B,4BAGAX,IAAA,kBACAjE,MAAA,SAAAuE,EAAAG,GACAH,IAAApC,KAAAoC,WAAAG,GAAAvC,KAAAuC,OACAvC,KAAAuC,YAKAJ,KAGAY,EAAA,WACA,QAAAA,KACA,GAAAC,GAAAhD,IAEA5B,GAAA4B,KAAA+C,GAEA/C,KAAAiD,cACAjD,KAAAkD,YAEAlD,KAAAmD,aAAA,SAAAC,GACAJ,EAAAE,SAAAG,OAAAL,EAAAE,SAAAI,QAAAF,GAAA,IAuIA,MA3HA3B,GAAAsB,IACAjB,IAAA,aACAjE,MAAA,SAAA2C,EAAA+C,GACA,GAAAC,GAAAC,SAAAF,EAAA,IACAhD,EAAAP,KAAA0D,mBAAAlD,GACAsB,EAAA6B,OAAAH,GACA3F,MAAA,EAOA,OANAoE,GAAA1B,EAAAuB,GACAjE,EAAA0C,EAAAuB,IAEAjE,KACA0C,EAAAuB,GAAAjE,GAEAA,KAGAiE,IAAA,qBACAjE,MAAA,SAAAiE,GACA,GAAAjE,OAAA,EAOA,OANAoE,GAAAjC,KAAAiD,WAAAnB,GACAjE,EAAAmC,KAAAiD,WAAAnB,IAEAjE,KACAmC,KAAAiD,WAAAnB,GAAAjE,GAEAA,KAGAiE,IAAA,MACAjE,MAAA,SAAA2C,EAAAC,EAAA+C,GACA,GAAAI,GAAA5D,KAAA6D,WAAArD,EAAAgD,EACAI,GAAAN,QAAA7C,GAAA,GACAmD,EAAAE,KAAArD,MAIAqB,IAAA,MACAjE,MAAA,SAAA2C,GACA,GAAAgD,OAAA,GACAO,GAAA,EACAC,EAAAhE,KAAA0D,mBAAAlD,EACA,IAAAwD,EACA,IAAAR,IAAAQ,GACA,GAAA/B,EAAA+B,EAAAR,GAAA,CACAO,GAAA,CACA,OAIA,MAAAA,MAGAjC,IAAA,SACAjE,MAAA,SAAA2C,EAAAC,GACA,GAAAwD,GAAAjE,KAEAgE,EAAAhE,KAAA0D,mBAAAlD,EACA,IAAAwD,EAmBA,OAlBAE,GAAAlH,OAAAmH,oBAAAH,GACApC,EAAAsC,EAAAtC,OAiBAW,EAAA,EAAiCA,EAAAX,EAAgBW,KAfjD,SAAAA,GACA,GAAAiB,GAAAU,EAAA3B,GACAqB,EAAAI,EAAAR,GACAY,EAAAR,EAAAN,QAAA7C,EACA2D,IAAA,IACAR,EAAAP,OAAAe,EAAA,GACAR,EAAAhC,cACAoC,GAAAR,GAEAS,EAAAf,SAAAmB,QAAA,SAAAjB,GACAA,EAAAkB,gBAAAV,EAAAQ,OAMA7B,MAKAT,IAAA,YACAjE,MAAA,SAAA2C,SACAR,MAAAiD,WAAAzC,MAGAsB,IAAA,eACAjE,MAAA,SAAA+F,EAAAvB,GACA,GAAAe,GAAA,GAAAjB,GAAAyB,EAAAvB,EAAArC,KAAAmD,aAEA,OADAnD,MAAAkD,SAAAY,KAAAV,GACAA,KAGAtB,IAAA,OACAjE,MAAA,SAAA6C,EAAAH,GACA,GAAAyD,GAAAhE,KAAA0D,mBAAAhD,EAAAd,MACA2E,GAAA,EACAzB,EAAA,WACAyB,GAAA,EAEA,IAAAP,EAOA,OALAE,GAAAlH,OAAAmH,oBAAAH,GAAAQ,KAAA,SAAAC,EAAAC,GACA,MAAAD,GAAAC,IAEA9C,EAAAsC,EAAAtC,OAEAW,EAAA,EAAiCA,EAAAX,IACjC2C,EADiDhC,IAAA,CAEjD,GAAAoC,GAAAX,EAAAE,EAAA3B,GAGA,IAAAoC,EAAA,CACA,GAAAC,GAAA5E,KAAA6E,aAAAF,EAAA7B,EAEA,IADA8B,EAAAE,IAAApE,EAAAH,GACAqE,EAAApC,mBAAA,YAOAO,KAGAgC,EAAA,WACA,QAAAA,GAAAC,GACA,GAAAC,GAAAC,UAAAtD,OAAA,OAAAV,KAAAgE,UAAA,IAAAA,UAAA,EAEA9G,GAAA4B,KAAA+E,GAEAE,GACAjF,KAAAmF,WAAAH,GAqEA,MA7DAvD,GAAAsD,IACAjD,IAAA,aACAjE,MAAA,SAAAmH,GACAhF,KAAAoF,mBAAAJ,EACAhF,KAAAiD,WAAA,GAAAF,MAGAjB,IAAA,mBACAjE,MAAA,SAAA2C,EAAAkC,GACA,GAAAc,GAAA0B,UAAAtD,OAAA,OAAAV,KAAAgE,UAAA,GAAAA,UAAA,IAEAlF,MAAAiD,WAAAoC,IAAA7E,EAAAkC,GAAAc,GAAA,MAGA1B,IAAA,mBACAjE,MAAA,SAAA2C,GACA,MAAAR,MAAAiD,WAAAqC,IAAA9E,MAGAsB,IAAA,sBACAjE,MAAA,SAAA2C,EAAAkC,GACA1C,KAAAiD,WAAAsC,OAAA/E,EAAAkC,MAGAZ,IAAA,0BACAjE,MAAA,SAAA2C,GACAR,KAAAiD,WAAAuC,UAAAhF,MAGAsB,IAAA,gBACAjE,MAAA,SAAA6C,EAAAb,GACA,GAAAgD,GAAAkC,EAAAU,SAAA/E,EAAAb,EACAG,MAAAoF,qBACAvC,EAAA7C,KAAAoF,mBAAA3I,KAAAuD,KAAA6C,IAEA7C,KAAAiD,WAAAxG,KAAAoG,QAGAf,IAAA,WACAjE,MAAA,SAAAA,GACA,2BAAAA,EAAA,YAAAyD,EAAAzD,KAAA,OAAAA,KAGAiE,IAAA,WACAjE,MAAA,SAAA6H,EAAAC,GACA,GAAAjF,GAAAgF,CAIA,OAHAX,GAAAa,SAAAF,KACAhF,EAAA,GAAAqE,GAAA5E,MAAAwD,OAAA+B,GAAAC,IAEAjF,KAGAoB,IAAA,SACAjE,MAAA,SAAAmH,GACA,UAAAD,GAAAC,OAOAD,IAGAA,GAAA5E,QAEA9D,EAAA8B,QAAA4G,SAQ4BtI,KAAAJ,EAAAH,EAAA,GAAAI,KAI5B,SAAAA,EAAAD,EAAAH,GAEA,YAGAI,GAAAD,QAAA,SAAAC,GAoBA,MAnBAA,GAAAmQ,kBACAnQ,EAAAoQ,UAAA,aACApQ,EAAAqQ,SAEArQ,EAAAsQ,WAAAtQ,EAAAsQ,aACA5P,OAAAC,eAAAX,EAAA,UACAa,YAAA,EACAC,IAAA,WACA,MAAAd,GAAAE,KAGAQ,OAAAC,eAAAX,EAAA,MACAa,YAAA,EACAC,IAAA,WACA,MAAAd,GAAAC,KAGAD,EAAAmQ,gBAAA,GAEAnQ,SXokCM,SAAUA,EAAQD,EAASH,GAEjC,YA4BA,SAAS2K,GAAuBxF,GAAO,MAAOA,IAAOA,EAAI/D,WAAa+D,GAAQlD,QAASkD,GAzBvFrE,OAAOC,eAAeZ,EAAS,cAC7BwB,OAAO,IAETxB,EAAQoO,cAAgBpO,EAAQyC,WAASoC,EY35DzC,IAAA4F,GAAA5K,EAAA,GZ+5DI6K,EAAeF,EAAuBC,GY95D1CkD,EAAA9N,EAAA,GZk6DI+N,EAA8BpD,EAAuBmD,GYj6DzDE,EAAAhO,EAAA,GZq6DIiO,EAA2BtD,EAAuBqD,GYp6DtDlB,EAAA9M,EAAA,GZw6DI+M,EAAqBpC,EAAuBmC,GYv6DhDoB,EAAAlO,EAAA,GZ26DImO,EAAqBxD,EAAuBuD,EYj6DnCtL,UAAS,SAACyB,EAAQX,EAAM4G,EAA2BC,GAC9D,GAAI0F,GAAa,IACjB,QAAQvM,GACN,QACA,IAAKmH,GAAA5I,QAAWJ,iBACdoO,EAAa,GAAAlC,GAAA9L,QAA8BoC,EAAQiG,EAA2BC,EAC9E,MACF,KAAKM,GAAA5I,QAAWH,cACdmO,EAAa,GAAAhC,GAAAhM,QAA2BoC,EAAQ,KAAMiG,EAA2BC,EACjF,MACF,KAAKM,GAAA5I,QAAWF,qBACdkO,EAAa,GAAA9B,GAAAlM,QAAqBoC,EAAQiG,EAC1C,MACF,KAAKO,GAAA5I,QAAWD,qBACdiO,EAAa,GAAAlD,GAAA9K,QAAqBoC,EAAQiG,EAA2BC,GAGzE,MAAO0F,IASI1B,gBAAgB,SAACjE,EAA2BC,GAOvD,MALiC,kBAAtBhI,MAAKmI,YACD,GAAAqD,GAAA9L,QAA8BM,KAAM+H,EAA2BC,GAE/D,GAAA4D,GAAAlM,QAAqBM,KAAM+H","file":"worker-event-dispatcher.direct.js","sourcesContent":["var WorkerEventDispatcher =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 8);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar WorkerType = {\n  DEDICATED_WORKER: 'dedicated',\n  SHARED_WORKER: 'shared',\n  /**\r\n   * @private\r\n   */\n  SHARED_WORKER_SERVER: 'sharedServer',\n  /**\r\n   * @private\r\n   */\n  SHARED_WORKER_CLIENT: 'sharedClient'\n};\n\nexports.default = WorkerType;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NativeEventTypes = exports.NativeEventTypes = {\n  CONNECT: 'connect',\n  MESSAGE: 'message',\n  ERROR: 'error',\n  LANGUAGECHANGE: 'languagechange',\n  ONLINE: 'online',\n  OFFLINE: 'offline'\n};\n\nvar WorkerEvent = function (_Event) {\n  _inherits(WorkerEvent, _Event);\n\n  function WorkerEvent(type, data, sourceEvent, client) {\n    _classCallCheck(this, WorkerEvent);\n\n    var _this = _possibleConstructorReturn(this, (WorkerEvent.__proto__ || Object.getPrototypeOf(WorkerEvent)).call(this, type, data));\n\n    _this.sourceEvent = sourceEvent;\n    _this.client = client;\n    return _this;\n  }\n\n  return WorkerEvent;\n}(Event);\n\nWorkerEvent.CONNECT = 'worker:connect';\nWorkerEvent.MESSAGE = 'worker:message';\nWorkerEvent.ERROR = 'worker:error';\nWorkerEvent.LANGUAGECHANGE = 'worker:languagechange';\nWorkerEvent.ONLINE = 'worker:online';\nWorkerEvent.OFFLINE = 'worker:offline';\nvar getWorkerEventType = exports.getWorkerEventType = function getWorkerEventType(type) {\n  switch (type) {\n    case NativeEventTypes.CONNECT:\n      return WorkerEvent.CONNECT;\n    case NativeEventTypes.MESSAGE:\n      return WorkerEvent.MESSAGE;\n    case NativeEventTypes.ERROR:\n      return WorkerEvent.ERROR;\n    case NativeEventTypes.LANGUAGECHANGE:\n      return WorkerEvent.LANGUAGECHANGE;\n    case NativeEventTypes.ONLINE:\n      return WorkerEvent.ONLINE;\n    case NativeEventTypes.OFFLINE:\n      return WorkerEvent.OFFLINE;\n  }\n};\n\nvar dispatchWorkerEvent = exports.dispatchWorkerEvent = function dispatchWorkerEvent(type, source, target) {\n  var eventType = getWorkerEventType(type);\n  var handler = function handler(event) {\n    if (target.hasEventListener(eventType)) {\n      target.dispatchEvent(new WorkerEvent(eventType, event, event));\n    }\n  };\n\n  source.addEventListener(type, handler);\n  return handler;\n};\n\nvar dispatchWorkerEvents = exports.dispatchWorkerEvents = function dispatchWorkerEvents(source, target) {\n  dispatchWorkerEvent(NativeEventTypes.ERROR, source, target);\n  dispatchWorkerEvent(NativeEventTypes.LANGUAGECHANGE, source, target);\n  dispatchWorkerEvent(NativeEventTypes.ONLINE, source, target);\n  dispatchWorkerEvent(NativeEventTypes.OFFLINE, source, target);\n};\n\nvar dispatchWorkerErrorEvent = exports.dispatchWorkerErrorEvent = function dispatchWorkerErrorEvent(source, target) {\n  dispatchWorkerEvent(NativeEventTypes.ERROR, source, target);\n};\n\nexports.default = WorkerEvent;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(true)\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"EventDispatcher\"] = factory();\r\n\telse\r\n\t\troot[\"EventDispatcher\"] = factory();\r\n})(this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, {\r\n/******/ \t\t\t\tconfigurable: false,\r\n/******/ \t\t\t\tenumerable: true,\r\n/******/ \t\t\t\tget: getter\r\n/******/ \t\t\t});\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Event = undefined;\r\n\r\nvar _EventDispatcher = __webpack_require__(1);\r\n\r\nvar _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nexports.default = _EventDispatcher2.default;\r\nexports.Event = _EventDispatcher.Event;\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar hasOwnProp = function hasOwnProp(target, name) {\r\n  return Object.prototype.hasOwnProperty.call(target, name);\r\n}; /**\r\n    * Created by Oleg Galaburda on 09.02.16.\r\n    * \r\n    */\r\n\r\nvar Event = exports.Event = function () {\r\n  function Event(type, data) {\r\n    _classCallCheck(this, Event);\r\n\r\n    this.type = type;\r\n    this.data = data || null;\r\n    this.defaultPrevented = false;\r\n  }\r\n\r\n  _createClass(Event, [{\r\n    key: 'toJSON',\r\n    value: function toJSON() {\r\n      return { type: this.type, data: this.data };\r\n    }\r\n  }, {\r\n    key: 'isDefaultPrevented',\r\n    value: function isDefaultPrevented() {\r\n      return this.defaultPrevented;\r\n    }\r\n  }, {\r\n    key: 'preventDefault',\r\n    value: function preventDefault() {\r\n      this.defaultPrevented = true;\r\n    }\r\n  }]);\r\n\r\n  return Event;\r\n}();\r\n\r\nvar ListenersRunner = function () {\r\n  function ListenersRunner(listeners, onStopped, onComplete) {\r\n    var _this = this;\r\n\r\n    _classCallCheck(this, ListenersRunner);\r\n\r\n    this.index = -1;\r\n    this.immediatelyStopped = false;\r\n\r\n    this.stopImmediatePropagation = function () {\r\n      _this.immediatelyStopped = true;\r\n    };\r\n\r\n    this.listeners = listeners;\r\n    this.onStopped = onStopped;\r\n    this.onComplete = onComplete;\r\n  }\r\n\r\n  _createClass(ListenersRunner, [{\r\n    key: 'run',\r\n    value: function run(event, target) {\r\n      var listener = void 0;\r\n      var listeners = this.listeners;\r\n\r\n      this.augmentEvent(event);\r\n      // TODO this has to be handled in separate object ListenersRunner that should be\r\n      // created for each call() call and asked for index validation on each listener remove.\r\n      for (this.index = 0; this.index < listeners.length; this.index++) {\r\n        if (this.immediatelyStopped) break;\r\n        listener = listeners[this.index];\r\n        listener.call(target, event);\r\n      }\r\n      this.clearEvent(event);\r\n      this.onComplete(this);\r\n    }\r\n  }, {\r\n    key: 'augmentEvent',\r\n    value: function augmentEvent(eventObject) {\r\n      var event = eventObject;\r\n      event.stopPropagation = this.onStopped;\r\n      event.stopImmediatePropagation = this.stopImmediatePropagation;\r\n    }\r\n\r\n    /* eslint class-methods-use-this: \"off\" */\r\n\r\n  }, {\r\n    key: 'clearEvent',\r\n    value: function clearEvent(eventObject) {\r\n      var event = eventObject;\r\n      delete event.stopPropagation;\r\n      delete event.stopImmediatePropagation;\r\n    }\r\n  }, {\r\n    key: 'listenerRemoved',\r\n    value: function listenerRemoved(listeners, index) {\r\n      if (listeners === this.listeners && index <= this.index) {\r\n        this.index--;\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return ListenersRunner;\r\n}();\r\n\r\nvar EventListeners = function () {\r\n  function EventListeners() {\r\n    var _this2 = this;\r\n\r\n    _classCallCheck(this, EventListeners);\r\n\r\n    this._listeners = {};\r\n    this._runners = [];\r\n\r\n    this.removeRunner = function (runner) {\r\n      _this2._runners.splice(_this2._runners.indexOf(runner), 1);\r\n    };\r\n  }\r\n  /**\r\n   * key - event Type\r\n   * value - hash of priorities\r\n   *    key - priority\r\n   *    value - list of handlers\r\n   * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n   * @private\r\n   */\r\n\r\n\r\n  _createClass(EventListeners, [{\r\n    key: 'createList',\r\n    value: function createList(eventType, priorityOpt) {\r\n      var priority = parseInt(priorityOpt, 10);\r\n      var target = this.getPrioritiesByKey(eventType);\r\n      var key = String(priority);\r\n      var value = void 0;\r\n      if (hasOwnProp(target, key)) {\r\n        value = target[key];\r\n      } else {\r\n        value = [];\r\n        target[key] = value;\r\n      }\r\n      return value;\r\n    }\r\n  }, {\r\n    key: 'getPrioritiesByKey',\r\n    value: function getPrioritiesByKey(key) {\r\n      var value = void 0;\r\n      if (hasOwnProp(this._listeners, key)) {\r\n        value = this._listeners[key];\r\n      } else {\r\n        value = {};\r\n        this._listeners[key] = value;\r\n      }\r\n      return value;\r\n    }\r\n  }, {\r\n    key: 'add',\r\n    value: function add(eventType, handler, priority) {\r\n      var handlers = this.createList(eventType, priority);\r\n      if (handlers.indexOf(handler) < 0) {\r\n        handlers.push(handler);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'has',\r\n    value: function has(eventType) {\r\n      var priority = void 0;\r\n      var result = false;\r\n      var priorities = this.getPrioritiesByKey(eventType);\r\n      if (priorities) {\r\n        for (priority in priorities) {\r\n          if (hasOwnProp(priorities, priority)) {\r\n            result = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n  }, {\r\n    key: 'remove',\r\n    value: function remove(eventType, handler) {\r\n      var _this3 = this;\r\n\r\n      var priorities = this.getPrioritiesByKey(eventType);\r\n      if (priorities) {\r\n        var list = Object.getOwnPropertyNames(priorities);\r\n        var length = list.length;\r\n\r\n        var _loop = function _loop(index) {\r\n          var priority = list[index];\r\n          var handlers = priorities[priority];\r\n          var handlerIndex = handlers.indexOf(handler);\r\n          if (handlerIndex >= 0) {\r\n            handlers.splice(handlerIndex, 1);\r\n            if (!handlers.length) {\r\n              delete priorities[priority];\r\n            }\r\n            _this3._runners.forEach(function (runner) {\r\n              runner.listenerRemoved(handlers, handlerIndex);\r\n            });\r\n          }\r\n        };\r\n\r\n        for (var index = 0; index < length; index++) {\r\n          _loop(index);\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: 'removeAll',\r\n    value: function removeAll(eventType) {\r\n      delete this._listeners[eventType];\r\n    }\r\n  }, {\r\n    key: 'createRunner',\r\n    value: function createRunner(handlers, onStopped) {\r\n      var runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\r\n      this._runners.push(runner);\r\n      return runner;\r\n    }\r\n  }, {\r\n    key: 'call',\r\n    value: function call(event, target) {\r\n      var priorities = this.getPrioritiesByKey(event.type);\r\n      var stopped = false;\r\n      var stopPropagation = function stopPropagation() {\r\n        stopped = true;\r\n      };\r\n      if (priorities) {\r\n        // getOwnPropertyNames() or keys()?\r\n        var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\r\n          return a - b;\r\n        });\r\n        var length = list.length;\r\n\r\n        for (var index = 0; index < length; index++) {\r\n          if (stopped) break;\r\n          var _handlers = priorities[list[index]];\r\n          // in case if all handlers of priority were removed while event\r\n          // was dispatched and handlers become undefined.\r\n          if (_handlers) {\r\n            var _runner = this.createRunner(_handlers, stopPropagation);\r\n            _runner.run(event, target);\r\n            if (_runner.immediatelyStopped) break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return EventListeners;\r\n}();\r\n\r\nvar EventDispatcher = function () {\r\n  function EventDispatcher(eventPreprocessor) {\r\n    var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n\r\n    _classCallCheck(this, EventDispatcher);\r\n\r\n    if (!noInit) {\r\n      this.initialize(eventPreprocessor);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n\r\n\r\n  _createClass(EventDispatcher, [{\r\n    key: 'initialize',\r\n    value: function initialize(eventPreprocessor) {\r\n      this._eventPreprocessor = eventPreprocessor;\r\n      this._listeners = new EventListeners();\r\n    }\r\n  }, {\r\n    key: 'addEventListener',\r\n    value: function addEventListener(eventType, listener) {\r\n      var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\r\n\r\n      this._listeners.add(eventType, listener, -priority || 0);\r\n    }\r\n  }, {\r\n    key: 'hasEventListener',\r\n    value: function hasEventListener(eventType) {\r\n      return this._listeners.has(eventType);\r\n    }\r\n  }, {\r\n    key: 'removeEventListener',\r\n    value: function removeEventListener(eventType, listener) {\r\n      this._listeners.remove(eventType, listener);\r\n    }\r\n  }, {\r\n    key: 'removeAllEventListeners',\r\n    value: function removeAllEventListeners(eventType) {\r\n      this._listeners.removeAll(eventType);\r\n    }\r\n  }, {\r\n    key: 'dispatchEvent',\r\n    value: function dispatchEvent(event, data) {\r\n      var eventObject = EventDispatcher.getEvent(event, data);\r\n      if (this._eventPreprocessor) {\r\n        eventObject = this._eventPreprocessor.call(this, eventObject);\r\n      }\r\n      this._listeners.call(eventObject);\r\n    }\r\n  }], [{\r\n    key: 'isObject',\r\n    value: function isObject(value) {\r\n      return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\r\n    }\r\n  }, {\r\n    key: 'getEvent',\r\n    value: function getEvent(eventOrType, optionalData) {\r\n      var event = eventOrType;\r\n      if (!EventDispatcher.isObject(eventOrType)) {\r\n        event = new EventDispatcher.Event(String(eventOrType), optionalData);\r\n      }\r\n      return event;\r\n    }\r\n  }, {\r\n    key: 'create',\r\n    value: function create(eventPreprocessor) {\r\n      return new EventDispatcher(eventPreprocessor);\r\n    }\r\n\r\n    /* eslint no-undef: \"off\" */\r\n\r\n  }]);\r\n\r\n  return EventDispatcher;\r\n}();\r\n\r\nEventDispatcher.Event = Event;\r\n\r\nexports.default = EventDispatcher;\r\n\r\n/***/ })\r\n/******/ ]);\r\n});\r\n//# sourceMappingURL=event-dispatcher.js.map\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _messageportDispatcher = __webpack_require__(9);\n\nvar _messageportDispatcher2 = _interopRequireDefault(_messageportDispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n *\r\n * @param target {String|Worker}\r\n * @param type {String}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @extends MessagePortDispatcher\r\n * @constructor\r\n */\nvar AbstractDispatcher = function (_MessagePortDispatche) {\n  _inherits(AbstractDispatcher, _MessagePortDispatche);\n\n  function AbstractDispatcher(type) {\n    _classCallCheck(this, AbstractDispatcher);\n\n    var _this = _possibleConstructorReturn(this, (AbstractDispatcher.__proto__ || Object.getPrototypeOf(AbstractDispatcher)).call(this, null, null, null, null, true));\n\n    _this.type = type;\n    return _this;\n  }\n\n  _createClass(AbstractDispatcher, [{\n    key: 'initialize',\n    value: function initialize(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor) {\n      var postMessageHandler = function postMessageHandler(data, transferList) {\n        return target.postMessage(data, transferList);\n      };\n      _get(AbstractDispatcher.prototype.__proto__ || Object.getPrototypeOf(AbstractDispatcher.prototype), 'initialize', this).call(this, target, customPostMessageHandler || postMessageHandler, receiverEventPreprocessor, senderEventPreprocessor);\n    }\n  }]);\n\n  return AbstractDispatcher;\n}(_messageportDispatcher2.default);\n\nexports.default = AbstractDispatcher;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _WorkerType = __webpack_require__(0);\n\nvar _WorkerType2 = _interopRequireDefault(_WorkerType);\n\nvar _AbstractDispatcher2 = __webpack_require__(3);\n\nvar _AbstractDispatcher3 = _interopRequireDefault(_AbstractDispatcher2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n * @param target {MessagePort}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @extends MessagePortDispatcher\r\n * @constructor\r\n */\nvar ClientDispatcher = function (_AbstractDispatcher) {\n  _inherits(ClientDispatcher, _AbstractDispatcher);\n\n  function ClientDispatcher(target, receiverEventPreprocessor, senderEventPreprocessor) {\n    _classCallCheck(this, ClientDispatcher);\n\n    var _this = _possibleConstructorReturn(this, (ClientDispatcher.__proto__ || Object.getPrototypeOf(ClientDispatcher)).call(this, _WorkerType2.default.SHARED_WORKER_CLIENT));\n\n    _this.initialize(target, null, receiverEventPreprocessor, senderEventPreprocessor);\n    return _this;\n  }\n\n  _createClass(ClientDispatcher, [{\n    key: 'start',\n    value: function start() {\n      this.target.start();\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      this.target.close();\n    }\n  }]);\n\n  return ClientDispatcher;\n}(_AbstractDispatcher3.default);\n\nexports.default = ClientDispatcher;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventDispatcher = __webpack_require__(2);\n\nvar _eventDispatcher2 = _interopRequireDefault(_eventDispatcher);\n\nvar _WorkerType = __webpack_require__(0);\n\nvar _WorkerType2 = _interopRequireDefault(_WorkerType);\n\nvar _WorkerEvent = __webpack_require__(1);\n\nvar _AbstractDispatcher2 = __webpack_require__(3);\n\nvar _AbstractDispatcher3 = _interopRequireDefault(_AbstractDispatcher2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar getTarget = function getTarget(worker) {\n  var target = worker || self;\n\n  if (!_eventDispatcher2.default.isObject(target)) {\n    target = new Worker(String(worker));\n  }\n\n  return target;\n};\n\n/**\r\n *\r\n * @param target {Worker|String}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @extends MessagePortDispatcher\r\n * @constructor\r\n */\n\nvar DedicatedWorkerDispatcher = function (_AbstractDispatcher) {\n  _inherits(DedicatedWorkerDispatcher, _AbstractDispatcher);\n\n  function DedicatedWorkerDispatcher(worker, receiverEventPreprocessor, senderEventPreprocessor) {\n    _classCallCheck(this, DedicatedWorkerDispatcher);\n\n    var _this = _possibleConstructorReturn(this, (DedicatedWorkerDispatcher.__proto__ || Object.getPrototypeOf(DedicatedWorkerDispatcher)).call(this, _WorkerType2.default.DEDICATED_WORKER));\n\n    var target = getTarget(worker);\n\n    _this.initialize(target, receiverEventPreprocessor, senderEventPreprocessor);\n    (0, _WorkerEvent.dispatchWorkerEvents)(target, _this.receiver);\n    return _this;\n  }\n\n  _createClass(DedicatedWorkerDispatcher, [{\n    key: 'terminate',\n    value: function terminate() {\n      return this.target.terminate();\n    }\n  }]);\n\n  return DedicatedWorkerDispatcher;\n}(_AbstractDispatcher3.default);\n\nexports.default = DedicatedWorkerDispatcher;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventDispatcher = __webpack_require__(2);\n\nvar _eventDispatcher2 = _interopRequireDefault(_eventDispatcher);\n\nvar _WorkerType = __webpack_require__(0);\n\nvar _WorkerType2 = _interopRequireDefault(_WorkerType);\n\nvar _WorkerEvent = __webpack_require__(1);\n\nvar _AbstractDispatcher2 = __webpack_require__(3);\n\nvar _AbstractDispatcher3 = _interopRequireDefault(_AbstractDispatcher2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar getTarget = function getTarget(target, name) {\n  if (!_eventDispatcher2.default.isObject(target)) {\n    return new SharedWorker(String(target), name);\n  }\n\n  return target;\n};\n\n/**\r\n *\r\n * @param worker {SharedWorker}\r\n * @param name {String}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @extends WorkerMessenger\r\n * @constructor\r\n */\n\nvar SharedWorkerDispatcher = function (_AbstractDispatcher) {\n  _inherits(SharedWorkerDispatcher, _AbstractDispatcher);\n\n  function SharedWorkerDispatcher(target, name, receiverEventPreprocessor, senderEventPreprocessor) {\n    _classCallCheck(this, SharedWorkerDispatcher);\n\n    var _this = _possibleConstructorReturn(this, (SharedWorkerDispatcher.__proto__ || Object.getPrototypeOf(SharedWorkerDispatcher)).call(this, _WorkerType2.default.SHARED_WORKER));\n\n    _this.worker = getTarget(target, name);\n\n    _this.initialize(_this.worker.port, null, receiverEventPreprocessor, senderEventPreprocessor);\n    (0, _WorkerEvent.dispatchWorkerErrorEvent)(_this.worker, _this.receiver);\n    return _this;\n  }\n\n  _createClass(SharedWorkerDispatcher, [{\n    key: 'start',\n    value: function start() {\n      this.worker.start();\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      this.worker.close();\n    }\n  }]);\n\n  return SharedWorkerDispatcher;\n}(_AbstractDispatcher3.default);\n\nexports.default = SharedWorkerDispatcher;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _eventDispatcher = __webpack_require__(2);\n\nvar _eventDispatcher2 = _interopRequireDefault(_eventDispatcher);\n\nvar _WorkerType = __webpack_require__(0);\n\nvar _WorkerType2 = _interopRequireDefault(_WorkerType);\n\nvar _WorkerEvent = __webpack_require__(1);\n\nvar _WorkerEvent2 = _interopRequireDefault(_WorkerEvent);\n\nvar _ClientDispatcher = __webpack_require__(4);\n\nvar _ClientDispatcher2 = _interopRequireDefault(_ClientDispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * Read-only interface, mainly will listen to \"connect\" event.\r\n * You should listen to WorkerEvent.CONNECT to intercept client\r\n * instance to be able to communicate.\r\n * @param worker\r\n * @param receiverEventPreprocessor {?Function}\r\n * @constructor\r\n */\nvar ServerDispatcher = function ServerDispatcher(target, receiverEventPreprocessor, clientReceiverEventPreprocessor, clientSenderEventPreprocessor) {\n  _classCallCheck(this, ServerDispatcher);\n\n  _initialiseProps.call(this);\n\n  this.target = target || self;\n  this.clientReceiverEventPreprocessor = clientReceiverEventPreprocessor;\n  this.clientSenderEventPreprocessor = clientSenderEventPreprocessor;\n  this.type = _WorkerType2.default.SHARED_WORKER_SERVER;\n  this.receiver = new _eventDispatcher2.default(receiverEventPreprocessor);\n\n  target.addEventListener('connect', this.handleConnect);\n  (0, _WorkerEvent.dispatchWorkerEvents)(target, this.receiver);\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this = this;\n\n  this.addEventListener = function () {\n    var _receiver;\n\n    return (_receiver = _this.receiver).addEventListener.apply(_receiver, arguments);\n  };\n\n  this.hasEventListener = function () {\n    var _receiver2;\n\n    return (_receiver2 = _this.receiver).hasEventListener.apply(_receiver2, arguments);\n  };\n\n  this.removeEventListener = function () {\n    var _receiver3;\n\n    return (_receiver3 = _this.receiver).removeEventListener.apply(_receiver3, arguments);\n  };\n\n  this.removeAllEventListeners = function () {\n    var _receiver4;\n\n    return (_receiver4 = _this.receiver).removeAllEventListeners.apply(_receiver4, arguments);\n  };\n\n  this.handleConnect = function (event) {\n    var _event$ports = _slicedToArray(event.ports, 1),\n        target = _event$ports[0];\n\n    var client = new _ClientDispatcher2.default(target, _this.clientReceiverEventPreprocessor, _this.clientSenderEventPreprocessor);\n\n    _this.receiver.dispatchEvent(new _WorkerEvent2.default(_WorkerEvent2.default.CONNECT, client, event, client));\n  };\n};\n\nexports.default = ServerDispatcher;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _WorkerType = __webpack_require__(0);\n\nvar _WorkerType2 = _interopRequireDefault(_WorkerType);\n\nvar _WorkerEvent = __webpack_require__(1);\n\nvar _WorkerEvent2 = _interopRequireDefault(_WorkerEvent);\n\nvar _DedicatedWorkerDispatcher = __webpack_require__(5);\n\nvar _DedicatedWorkerDispatcher2 = _interopRequireDefault(_DedicatedWorkerDispatcher);\n\nvar _SharedWorkerDispatcher = __webpack_require__(6);\n\nvar _SharedWorkerDispatcher2 = _interopRequireDefault(_SharedWorkerDispatcher);\n\nvar _ClientDispatcher = __webpack_require__(4);\n\nvar _ClientDispatcher2 = _interopRequireDefault(_ClientDispatcher);\n\nvar _ServerDispatcher = __webpack_require__(7);\n\nvar _ServerDispatcher2 = _interopRequireDefault(_ServerDispatcher);\n\nvar _create = __webpack_require__(10);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CONNECT_EVENT = _WorkerEvent2.default.CONNECT;\nvar DEDICATED_WORKER = _WorkerType2.default.DEDICATED_WORKER;\nvar SHARED_WORKER = _WorkerType2.default.SHARED_WORKER;\n\nmodule.exports = Object.assign(_DedicatedWorkerDispatcher2.default, {\n  create: _create.create,\n  createForSelf: _create.createForSelf,\n  CONNECT_EVENT: CONNECT_EVENT,\n  DEDICATED_WORKER: DEDICATED_WORKER,\n  SHARED_WORKER: SHARED_WORKER,\n  WorkerEvent: _WorkerEvent2.default,\n  WorkerType: _WorkerType2.default,\n  ClientDispatcher: _ClientDispatcher2.default,\n  ServerDispatcher: _ServerDispatcher2.default,\n  SharedWorkerDispatcher: _SharedWorkerDispatcher2.default,\n  DedicatedWorkerDispatcher: _DedicatedWorkerDispatcher2.default\n});\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(true)\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"MessagePortDispatcher\"] = factory();\r\n\telse\r\n\t\troot[\"MessagePortDispatcher\"] = factory();\r\n})(this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, {\r\n/******/ \t\t\t\tconfigurable: false,\r\n/******/ \t\t\t\tenumerable: true,\r\n/******/ \t\t\t\tget: getter\r\n/******/ \t\t\t});\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.create = exports.self = exports.MessagePortEvent = undefined;\r\n\r\nvar _MessagePortDispatcher = __webpack_require__(1);\r\n\r\nvar _MessagePortDispatcher2 = _interopRequireDefault(_MessagePortDispatcher);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar self = _MessagePortDispatcher2.default.self,\r\n    create = _MessagePortDispatcher2.default.create;\r\nexports.default = _MessagePortDispatcher2.default;\r\nexports.MessagePortEvent = _MessagePortDispatcher.MessagePortEvent;\r\nexports.self = self;\r\nexports.create = create;\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.MessagePortDispatcher = exports.MessagePortEvent = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Created by Oleg Galaburda on 09.02.16.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\r\n\r\nvar _eventDispatcher = __webpack_require__(2);\r\n\r\nvar _eventDispatcher2 = _interopRequireDefault(_eventDispatcher);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar MessagePortEvent = exports.MessagePortEvent = function () {\r\n  function MessagePortEvent(event, dispatcherId) {\r\n    _classCallCheck(this, MessagePortEvent);\r\n\r\n    this.event = event;\r\n    this.dispatcherId = dispatcherId;\r\n  }\r\n\r\n  _createClass(MessagePortEvent, [{\r\n    key: 'toJSON',\r\n    value: function toJSON() {\r\n      return {\r\n        /* eslint no-use-before-define:0 */\r\n        event: MessagePortDispatcher.toJSON(this.event),\r\n        dispatcherId: this.dispatcherId\r\n      };\r\n    }\r\n  }], [{\r\n    key: 'parse',\r\n    value: function parse(object) {\r\n      /* eslint no-use-before-define:0 */\r\n      var result = MessagePortDispatcher.parse(object);\r\n      if (MessagePortEvent.isEvent(result)) {\r\n        /* eslint no-use-before-define:0 */\r\n        result.event = MessagePortDispatcher.parse(result.event);\r\n      } else {\r\n        result = null;\r\n      }\r\n      return result;\r\n    }\r\n  }, {\r\n    key: 'isEvent',\r\n    value: function isEvent(object) {\r\n      return _eventDispatcher2.default.isObject(object) && Object.prototype.hasOwnProperty.call(object, 'dispatcherId') && Object.prototype.hasOwnProperty.call(object, 'event');\r\n    }\r\n  }]);\r\n\r\n  return MessagePortEvent;\r\n}();\r\n\r\nvar MessagePortDispatcher = exports.MessagePortDispatcher = function (_EventDispatcher) {\r\n  _inherits(MessagePortDispatcher, _EventDispatcher);\r\n\r\n  /**\r\n   *\r\n   * @param target {Window|Worker|MessagePort}\r\n   * @param customPostMessageHandler {?Function} Function that receive message object\r\n   *        and pass it to MessagePort.postMessage()\r\n   * @param receiverEventPreprocessor {?Function} Function that pre-process\r\n   *        all events received from MessagePort, before passing to listeners\r\n   * @param senderEventPreprocessor Function that pre-process all events sent\r\n   *        to MessagePort\r\n   * @constructor\r\n   */\r\n  function MessagePortDispatcher(target) {\r\n    var customPostMessageHandler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\r\n    var receiverEventPreprocessor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\r\n    var senderEventPreprocessor = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\r\n    var noInit = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\r\n\r\n    _classCallCheck(this, MessagePortDispatcher);\r\n\r\n    var _this = _possibleConstructorReturn(this, (MessagePortDispatcher.__proto__ || Object.getPrototypeOf(MessagePortDispatcher)).call(this, null, true));\r\n\r\n    if (!noInit) {\r\n      _this.initiallize(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor);\r\n    }\r\n    return _this;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n\r\n\r\n  _createClass(MessagePortDispatcher, [{\r\n    key: 'initiallize',\r\n    value: function initiallize(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor) {\r\n      this.target = target || self;\r\n      this._handlers = {\r\n        customPostMessageHandler: customPostMessageHandler,\r\n        senderEventPreprocessor: senderEventPreprocessor\r\n      };\r\n      this.sender = _eventDispatcher2.default.create();\r\n      this.receiver = _eventDispatcher2.default.create(receiverEventPreprocessor);\r\n      this.dispatcherId = 'MP/' + Math.ceil(Math.random() * 10000) + '/' + Date.now();\r\n      this.targetOrigin = '*';\r\n      this.addEventListener = this.receiver.addEventListener.bind(this.receiver);\r\n      this.hasEventListener = this.receiver.hasEventListener.bind(this.receiver);\r\n      this.removeEventListener = this.receiver.removeEventListener.bind(this.receiver);\r\n      this.removeAllEventListeners = this.receiver.removeAllEventListeners.bind(this.receiver);\r\n\r\n      target.addEventListener('message', this._messageEventListener.bind(this));\r\n    }\r\n  }, {\r\n    key: 'dispatchEvent',\r\n    value: function dispatchEvent(eventType, data, transferList) {\r\n      var event = _eventDispatcher2.default.getEvent(eventType, data);\r\n      if (this._handlers.senderEventPreprocessor) {\r\n        event = this._handlers.senderEventPreprocessor.call(this, event);\r\n      }\r\n      var eventJson = MessagePortDispatcher.toJSON(new MessagePortEvent(event, this.dispatcherId));\r\n      this._postMessageHandler(eventJson, transferList);\r\n    }\r\n  }, {\r\n    key: '_postMessageHandler',\r\n    value: function _postMessageHandler(data, transferList) {\r\n      var handler = this._handlers.customPostMessageHandler;\r\n      if (handler) {\r\n        handler.call(this, data, this.targetOrigin, transferList);\r\n      } else {\r\n        this.target.postMessage(data, this.targetOrigin, transferList);\r\n      }\r\n    }\r\n  }, {\r\n    key: '_messageEventListener',\r\n    value: function _messageEventListener(event) {\r\n      // fixme .nativeEvent react-native thing, need a way to find out keep it or exclude\r\n      event = event.nativeEvent || event;\r\n      var message = MessagePortEvent.parse(event.data);\r\n      if (message) {\r\n        if (message.dispatcherId === this.dispatcherId) {\r\n          this.sender.dispatchEvent(message.event);\r\n        } else {\r\n          this.receiver.dispatchEvent(message.event);\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * If toJSON method implemented on object, it will be called instead of converting to JSON string.\r\n     * This was made to utilize structured cloning algorithm for raw objects.\r\n     * https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\r\n     * In this case developer is responsible for converting linked objects.\r\n     * @param object\r\n     * @returns {Object|String}\r\n     */\r\n\r\n  }], [{\r\n    key: 'toJSON',\r\n    value: function toJSON(object) {\r\n      var objectJson = void 0;\r\n      if (typeof object.toJSON === 'function') {\r\n        objectJson = object.toJSON();\r\n      } else {\r\n        objectJson = JSON.stringify(object);\r\n      }\r\n      return objectJson;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param data {Object|String}\r\n     * @returns {Object}\r\n     */\r\n\r\n  }, {\r\n    key: 'parse',\r\n    value: function parse(data) {\r\n      var object = void 0; // keep it undefined in case of error\r\n      if (_eventDispatcher2.default.isObject(data)) {\r\n        object = data;\r\n      } else {\r\n        try {\r\n          object = JSON.parse(data);\r\n        } catch (error) {\r\n          // this isn't an event we are waiting for.\r\n        }\r\n      }\r\n      return object;\r\n    }\r\n  }, {\r\n    key: 'create',\r\n    value: function create(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor) {\r\n      return new MessagePortDispatcher(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor);\r\n    }\r\n  }]);\r\n\r\n  return MessagePortDispatcher;\r\n}(_eventDispatcher2.default);\r\n\r\nvar factory = function factory(getTarget) {\r\n  var dispatcher = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\r\n  return function () {\r\n    if (!dispatcher) {\r\n      dispatcher = MessagePortDispatcher.create(getTarget());\r\n    }\r\n    return dispatcher;\r\n  };\r\n};\r\n\r\nMessagePortDispatcher.self = factory(function () {\r\n  return self;\r\n});\r\nMessagePortDispatcher.parent = factory(function () {\r\n  return parent;\r\n});\r\nMessagePortDispatcher.top = factory(function () {\r\n  return top;\r\n});\r\nMessagePortDispatcher.MessagePortEvent = MessagePortEvent;\r\n\r\nexports.default = MessagePortDispatcher;\r\n\r\n/***/ }),\r\n/* 2 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\r\n\r\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\n(function webpackUniversalModuleDefinition(root, factory) {\r\n  if (( false ? 'undefined' : _typeof2(exports)) === 'object' && ( false ? 'undefined' : _typeof2(module)) === 'object') module.exports = factory();else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\r\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\r\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\r\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else if ((typeof exports === 'undefined' ? 'undefined' : _typeof2(exports)) === 'object') exports[\"EventDispatcher\"] = factory();else root[\"EventDispatcher\"] = factory();\r\n})(undefined, function () {\r\n  return (/******/function (modules) {\r\n      // webpackBootstrap\r\n      /******/ // The module cache\r\n      /******/var installedModules = {};\r\n      /******/\r\n      /******/ // The require function\r\n      /******/function __webpack_require__(moduleId) {\r\n        /******/\r\n        /******/ // Check if module is in cache\r\n        /******/if (installedModules[moduleId]) {\r\n          /******/return installedModules[moduleId].exports;\r\n          /******/\r\n        }\r\n        /******/ // Create a new module (and put it into the cache)\r\n        /******/var module = installedModules[moduleId] = {\r\n          /******/i: moduleId,\r\n          /******/l: false,\r\n          /******/exports: {}\r\n          /******/ };\r\n        /******/\r\n        /******/ // Execute the module function\r\n        /******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n        /******/\r\n        /******/ // Flag the module as loaded\r\n        /******/module.l = true;\r\n        /******/\r\n        /******/ // Return the exports of the module\r\n        /******/return module.exports;\r\n        /******/\r\n      }\r\n      /******/\r\n      /******/\r\n      /******/ // expose the modules object (__webpack_modules__)\r\n      /******/__webpack_require__.m = modules;\r\n      /******/\r\n      /******/ // expose the module cache\r\n      /******/__webpack_require__.c = installedModules;\r\n      /******/\r\n      /******/ // define getter function for harmony exports\r\n      /******/__webpack_require__.d = function (exports, name, getter) {\r\n        /******/if (!__webpack_require__.o(exports, name)) {\r\n          /******/Object.defineProperty(exports, name, {\r\n            /******/configurable: false,\r\n            /******/enumerable: true,\r\n            /******/get: getter\r\n            /******/ });\r\n          /******/\r\n        }\r\n        /******/\r\n      };\r\n      /******/\r\n      /******/ // getDefaultExport function for compatibility with non-harmony modules\r\n      /******/__webpack_require__.n = function (module) {\r\n        /******/var getter = module && module.__esModule ?\r\n        /******/function getDefault() {\r\n          return module['default'];\r\n        } :\r\n        /******/function getModuleExports() {\r\n          return module;\r\n        };\r\n        /******/__webpack_require__.d(getter, 'a', getter);\r\n        /******/return getter;\r\n        /******/\r\n      };\r\n      /******/\r\n      /******/ // Object.prototype.hasOwnProperty.call\r\n      /******/__webpack_require__.o = function (object, property) {\r\n        return Object.prototype.hasOwnProperty.call(object, property);\r\n      };\r\n      /******/\r\n      /******/ // __webpack_public_path__\r\n      /******/__webpack_require__.p = \"http://localhost:8081/dist/\";\r\n      /******/\r\n      /******/ // Load entry module and return exports\r\n      /******/return __webpack_require__(__webpack_require__.s = 0);\r\n      /******/\r\n    }(\r\n    /************************************************************************/\r\n    /******/[\r\n    /* 0 */\r\n    /***/function (module, exports, __webpack_require__) {\r\n\r\n      \"use strict\";\r\n\r\n      Object.defineProperty(exports, \"__esModule\", {\r\n        value: true\r\n      });\r\n      exports.Event = undefined;\r\n\r\n      var _EventDispatcher = __webpack_require__(1);\r\n\r\n      var _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\r\n\r\n      function _interopRequireDefault(obj) {\r\n        return obj && obj.__esModule ? obj : { default: obj };\r\n      }\r\n\r\n      exports.default = _EventDispatcher2.default;\r\n      exports.Event = _EventDispatcher.Event;\r\n\r\n      /***/\r\n    },\r\n    /* 1 */\r\n    /***/function (module, exports, __webpack_require__) {\r\n\r\n      \"use strict\";\r\n\r\n      Object.defineProperty(exports, \"__esModule\", {\r\n        value: true\r\n      });\r\n\r\n      var _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\r\n        return typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\r\n      } : function (obj) {\r\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\r\n      };\r\n\r\n      var _createClass = function () {\r\n        function defineProperties(target, props) {\r\n          for (var i = 0; i < props.length; i++) {\r\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\r\n          }\r\n        }return function (Constructor, protoProps, staticProps) {\r\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\r\n        };\r\n      }();\r\n\r\n      function _classCallCheck(instance, Constructor) {\r\n        if (!(instance instanceof Constructor)) {\r\n          throw new TypeError(\"Cannot call a class as a function\");\r\n        }\r\n      }\r\n\r\n      var hasOwnProp = function hasOwnProp(target, name) {\r\n        return Object.prototype.hasOwnProperty.call(target, name);\r\n      }; /**\r\n          * Created by Oleg Galaburda on 09.02.16.\r\n          * \r\n          */\r\n\r\n      var Event = exports.Event = function () {\r\n        function Event(type, data) {\r\n          _classCallCheck(this, Event);\r\n\r\n          this.type = type;\r\n          this.data = data || null;\r\n          this.defaultPrevented = false;\r\n        }\r\n\r\n        _createClass(Event, [{\r\n          key: 'toJSON',\r\n          value: function toJSON() {\r\n            return { type: this.type, data: this.data };\r\n          }\r\n        }, {\r\n          key: 'isDefaultPrevented',\r\n          value: function isDefaultPrevented() {\r\n            return this.defaultPrevented;\r\n          }\r\n        }, {\r\n          key: 'preventDefault',\r\n          value: function preventDefault() {\r\n            this.defaultPrevented = true;\r\n          }\r\n        }]);\r\n\r\n        return Event;\r\n      }();\r\n\r\n      var ListenersRunner = function () {\r\n        function ListenersRunner(listeners, onStopped, onComplete) {\r\n          var _this = this;\r\n\r\n          _classCallCheck(this, ListenersRunner);\r\n\r\n          this.index = -1;\r\n          this.immediatelyStopped = false;\r\n\r\n          this.stopImmediatePropagation = function () {\r\n            _this.immediatelyStopped = true;\r\n          };\r\n\r\n          this.listeners = listeners;\r\n          this.onStopped = onStopped;\r\n          this.onComplete = onComplete;\r\n        }\r\n\r\n        _createClass(ListenersRunner, [{\r\n          key: 'run',\r\n          value: function run(event, target) {\r\n            var listener = void 0;\r\n            var listeners = this.listeners;\r\n\r\n            this.augmentEvent(event);\r\n            // TODO this has to be handled in separate object ListenersRunner that should be\r\n            // created for each call() call and asked for index validation on each listener remove.\r\n            for (this.index = 0; this.index < listeners.length; this.index++) {\r\n              if (this.immediatelyStopped) break;\r\n              listener = listeners[this.index];\r\n              listener.call(target, event);\r\n            }\r\n            this.clearEvent(event);\r\n            this.onComplete(this);\r\n          }\r\n        }, {\r\n          key: 'augmentEvent',\r\n          value: function augmentEvent(eventObject) {\r\n            var event = eventObject;\r\n            event.stopPropagation = this.onStopped;\r\n            event.stopImmediatePropagation = this.stopImmediatePropagation;\r\n          }\r\n\r\n          /* eslint class-methods-use-this: \"off\" */\r\n\r\n        }, {\r\n          key: 'clearEvent',\r\n          value: function clearEvent(eventObject) {\r\n            var event = eventObject;\r\n            delete event.stopPropagation;\r\n            delete event.stopImmediatePropagation;\r\n          }\r\n        }, {\r\n          key: 'listenerRemoved',\r\n          value: function listenerRemoved(listeners, index) {\r\n            if (listeners === this.listeners && index <= this.index) {\r\n              this.index--;\r\n            }\r\n          }\r\n        }]);\r\n\r\n        return ListenersRunner;\r\n      }();\r\n\r\n      var EventListeners = function () {\r\n        function EventListeners() {\r\n          var _this2 = this;\r\n\r\n          _classCallCheck(this, EventListeners);\r\n\r\n          this._listeners = {};\r\n          this._runners = [];\r\n\r\n          this.removeRunner = function (runner) {\r\n            _this2._runners.splice(_this2._runners.indexOf(runner), 1);\r\n          };\r\n        }\r\n        /**\r\n         * key - event Type\r\n         * value - hash of priorities\r\n         *    key - priority\r\n         *    value - list of handlers\r\n         * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n         * @private\r\n         */\r\n\r\n        _createClass(EventListeners, [{\r\n          key: 'createList',\r\n          value: function createList(eventType, priorityOpt) {\r\n            var priority = parseInt(priorityOpt, 10);\r\n            var target = this.getPrioritiesByKey(eventType);\r\n            var key = String(priority);\r\n            var value = void 0;\r\n            if (hasOwnProp(target, key)) {\r\n              value = target[key];\r\n            } else {\r\n              value = [];\r\n              target[key] = value;\r\n            }\r\n            return value;\r\n          }\r\n        }, {\r\n          key: 'getPrioritiesByKey',\r\n          value: function getPrioritiesByKey(key) {\r\n            var value = void 0;\r\n            if (hasOwnProp(this._listeners, key)) {\r\n              value = this._listeners[key];\r\n            } else {\r\n              value = {};\r\n              this._listeners[key] = value;\r\n            }\r\n            return value;\r\n          }\r\n        }, {\r\n          key: 'add',\r\n          value: function add(eventType, handler, priority) {\r\n            var handlers = this.createList(eventType, priority);\r\n            if (handlers.indexOf(handler) < 0) {\r\n              handlers.push(handler);\r\n            }\r\n          }\r\n        }, {\r\n          key: 'has',\r\n          value: function has(eventType) {\r\n            var priority = void 0;\r\n            var result = false;\r\n            var priorities = this.getPrioritiesByKey(eventType);\r\n            if (priorities) {\r\n              for (priority in priorities) {\r\n                if (hasOwnProp(priorities, priority)) {\r\n                  result = true;\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n            return result;\r\n          }\r\n        }, {\r\n          key: 'remove',\r\n          value: function remove(eventType, handler) {\r\n            var _this3 = this;\r\n\r\n            var priorities = this.getPrioritiesByKey(eventType);\r\n            if (priorities) {\r\n              var list = Object.getOwnPropertyNames(priorities);\r\n              var length = list.length;\r\n\r\n              var _loop = function _loop(index) {\r\n                var priority = list[index];\r\n                var handlers = priorities[priority];\r\n                var handlerIndex = handlers.indexOf(handler);\r\n                if (handlerIndex >= 0) {\r\n                  handlers.splice(handlerIndex, 1);\r\n                  if (!handlers.length) {\r\n                    delete priorities[priority];\r\n                  }\r\n                  _this3._runners.forEach(function (runner) {\r\n                    runner.listenerRemoved(handlers, handlerIndex);\r\n                  });\r\n                }\r\n              };\r\n\r\n              for (var index = 0; index < length; index++) {\r\n                _loop(index);\r\n              }\r\n            }\r\n          }\r\n        }, {\r\n          key: 'removeAll',\r\n          value: function removeAll(eventType) {\r\n            delete this._listeners[eventType];\r\n          }\r\n        }, {\r\n          key: 'createRunner',\r\n          value: function createRunner(handlers, onStopped) {\r\n            var runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\r\n            this._runners.push(runner);\r\n            return runner;\r\n          }\r\n        }, {\r\n          key: 'call',\r\n          value: function call(event, target) {\r\n            var priorities = this.getPrioritiesByKey(event.type);\r\n            var stopped = false;\r\n            var stopPropagation = function stopPropagation() {\r\n              stopped = true;\r\n            };\r\n            if (priorities) {\r\n              // getOwnPropertyNames() or keys()?\r\n              var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\r\n                return a - b;\r\n              });\r\n              var length = list.length;\r\n\r\n              for (var index = 0; index < length; index++) {\r\n                if (stopped) break;\r\n                var _handlers = priorities[list[index]];\r\n                // in case if all handlers of priority were removed while event\r\n                // was dispatched and handlers become undefined.\r\n                if (_handlers) {\r\n                  var _runner = this.createRunner(_handlers, stopPropagation);\r\n                  _runner.run(event, target);\r\n                  if (_runner.immediatelyStopped) break;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }]);\r\n\r\n        return EventListeners;\r\n      }();\r\n\r\n      var EventDispatcher = function () {\r\n        function EventDispatcher(eventPreprocessor) {\r\n          var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n\r\n          _classCallCheck(this, EventDispatcher);\r\n\r\n          if (!noInit) {\r\n            this.initialize(eventPreprocessor);\r\n          }\r\n        }\r\n\r\n        /**\r\n         * @private\r\n         */\r\n\r\n        _createClass(EventDispatcher, [{\r\n          key: 'initialize',\r\n          value: function initialize(eventPreprocessor) {\r\n            this._eventPreprocessor = eventPreprocessor;\r\n            this._listeners = new EventListeners();\r\n          }\r\n        }, {\r\n          key: 'addEventListener',\r\n          value: function addEventListener(eventType, listener) {\r\n            var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\r\n\r\n            this._listeners.add(eventType, listener, -priority || 0);\r\n          }\r\n        }, {\r\n          key: 'hasEventListener',\r\n          value: function hasEventListener(eventType) {\r\n            return this._listeners.has(eventType);\r\n          }\r\n        }, {\r\n          key: 'removeEventListener',\r\n          value: function removeEventListener(eventType, listener) {\r\n            this._listeners.remove(eventType, listener);\r\n          }\r\n        }, {\r\n          key: 'removeAllEventListeners',\r\n          value: function removeAllEventListeners(eventType) {\r\n            this._listeners.removeAll(eventType);\r\n          }\r\n        }, {\r\n          key: 'dispatchEvent',\r\n          value: function dispatchEvent(event, data) {\r\n            var eventObject = EventDispatcher.getEvent(event, data);\r\n            if (this._eventPreprocessor) {\r\n              eventObject = this._eventPreprocessor.call(this, eventObject);\r\n            }\r\n            this._listeners.call(eventObject);\r\n          }\r\n        }], [{\r\n          key: 'isObject',\r\n          value: function isObject(value) {\r\n            return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\r\n          }\r\n        }, {\r\n          key: 'getEvent',\r\n          value: function getEvent(eventOrType, optionalData) {\r\n            var event = eventOrType;\r\n            if (!EventDispatcher.isObject(eventOrType)) {\r\n              event = new EventDispatcher.Event(String(eventOrType), optionalData);\r\n            }\r\n            return event;\r\n          }\r\n        }, {\r\n          key: 'create',\r\n          value: function create(eventPreprocessor) {\r\n            return new EventDispatcher(eventPreprocessor);\r\n          }\r\n\r\n          /* eslint no-undef: \"off\" */\r\n\r\n        }]);\r\n\r\n        return EventDispatcher;\r\n      }();\r\n\r\n      EventDispatcher.Event = Event;\r\n\r\n      exports.default = EventDispatcher;\r\n\r\n      /***/\r\n    }]\r\n    /******/)\r\n  );\r\n});\r\n//# sourceMappingURL=event-dispatcher.js.map\r\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)(module)))\r\n\r\n/***/ }),\r\n/* 3 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nmodule.exports = function (module) {\r\n\tif (!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function () {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif (!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function get() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function get() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\r\n/***/ })\r\n/******/ ]);\r\n});\r\n//# sourceMappingURL=messageport-dispatcher.js.map\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createForSelf = exports.create = undefined;\n\nvar _WorkerType = __webpack_require__(0);\n\nvar _WorkerType2 = _interopRequireDefault(_WorkerType);\n\nvar _DedicatedWorkerDispatcher = __webpack_require__(5);\n\nvar _DedicatedWorkerDispatcher2 = _interopRequireDefault(_DedicatedWorkerDispatcher);\n\nvar _SharedWorkerDispatcher = __webpack_require__(6);\n\nvar _SharedWorkerDispatcher2 = _interopRequireDefault(_SharedWorkerDispatcher);\n\nvar _ClientDispatcher = __webpack_require__(4);\n\nvar _ClientDispatcher2 = _interopRequireDefault(_ClientDispatcher);\n\nvar _ServerDispatcher = __webpack_require__(7);\n\nvar _ServerDispatcher2 = _interopRequireDefault(_ServerDispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n *\r\n * @param worker {String|Worker|SharedWorker|MessagePort}\r\n * @param type {String}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @returns {AbstractDispatcher}\r\n */\nvar create = exports.create = function create(target, type, receiverEventPreprocessor, senderEventPreprocessor) {\n  var dispatcher = null;\n  switch (type) {\n    default:\n    case _WorkerType2.default.DEDICATED_WORKER:\n      dispatcher = new _DedicatedWorkerDispatcher2.default(target, receiverEventPreprocessor, senderEventPreprocessor);\n      break;\n    case _WorkerType2.default.SHARED_WORKER:\n      dispatcher = new _SharedWorkerDispatcher2.default(target, null, receiverEventPreprocessor, senderEventPreprocessor);\n      break;\n    case _WorkerType2.default.SHARED_WORKER_SERVER:\n      dispatcher = new _ServerDispatcher2.default(target, receiverEventPreprocessor);\n      break;\n    case _WorkerType2.default.SHARED_WORKER_CLIENT:\n      dispatcher = new _ClientDispatcher2.default(target, receiverEventPreprocessor, senderEventPreprocessor);\n      break;\n  }\n  return dispatcher;\n};\n\n/**\r\n *\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @returns {AbstractDispatcher}\r\n */\nvar createForSelf = exports.createForSelf = function createForSelf(receiverEventPreprocessor, senderEventPreprocessor) {\n  var dispatcher = null;\n  if (typeof self.postMessage === 'function') {\n    dispatcher = new _DedicatedWorkerDispatcher2.default(self, receiverEventPreprocessor, senderEventPreprocessor);\n  } else {\n    dispatcher = new _ServerDispatcher2.default(self, receiverEventPreprocessor);\n  }\n  return dispatcher;\n};\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// worker-event-dispatcher.direct.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b6b682d1185abbb3038f","const WorkerType = {\r\n  DEDICATED_WORKER: 'dedicated',\r\n  SHARED_WORKER: 'shared',\r\n  /**\r\n   * @private\r\n   */\r\n  SHARED_WORKER_SERVER: 'sharedServer',\r\n  /**\r\n   * @private\r\n   */\r\n  SHARED_WORKER_CLIENT: 'sharedClient',\r\n};\r\n\r\nexport default WorkerType;\n\n\n// WEBPACK FOOTER //\n// ./source/WorkerType.js","export const NativeEventTypes = {\r\n  CONNECT: 'connect',\r\n  MESSAGE: 'message',\r\n  ERROR: 'error',\r\n  LANGUAGECHANGE: 'languagechange',\r\n  ONLINE: 'online',\r\n  OFFLINE: 'offline',\r\n};\r\n\r\nclass WorkerEvent extends Event {\r\n  static CONNECT = 'worker:connect';\r\n  static MESSAGE = 'worker:message';\r\n  static ERROR = 'worker:error';\r\n  static LANGUAGECHANGE = 'worker:languagechange';\r\n  static ONLINE = 'worker:online';\r\n  static OFFLINE = 'worker:offline';\r\n\r\n  constructor(type, data, sourceEvent, client) {\r\n    super(type, data);\r\n    this.sourceEvent = sourceEvent;\r\n    this.client = client;\r\n  }\r\n}\r\n\r\nexport const getWorkerEventType = (type) => {\r\n  switch (type) {\r\n    case NativeEventTypes.CONNECT:\r\n      return WorkerEvent.CONNECT;\r\n    case NativeEventTypes.MESSAGE:\r\n      return WorkerEvent.MESSAGE;\r\n    case NativeEventTypes.ERROR:\r\n      return WorkerEvent.ERROR;\r\n    case NativeEventTypes.LANGUAGECHANGE:\r\n      return WorkerEvent.LANGUAGECHANGE;\r\n    case NativeEventTypes.ONLINE:\r\n      return WorkerEvent.ONLINE;\r\n    case NativeEventTypes.OFFLINE:\r\n      return WorkerEvent.OFFLINE;\r\n  }\r\n};\r\n\r\nexport const dispatchWorkerEvent = (type, source, target) => {\r\n  const eventType = getWorkerEventType(type);\r\n  const handler = (event) => {\r\n    if (target.hasEventListener(eventType)) {\r\n      target.dispatchEvent(new WorkerEvent(eventType, event, event));\r\n    }\r\n  };\r\n\r\n  source.addEventListener(type, handler);\r\n  return handler;\r\n};\r\n\r\nexport const dispatchWorkerEvents = (source, target) => {\r\n  dispatchWorkerEvent(NativeEventTypes.ERROR, source, target);\r\n  dispatchWorkerEvent(NativeEventTypes.LANGUAGECHANGE, source, target);\r\n  dispatchWorkerEvent(NativeEventTypes.ONLINE, source, target);\r\n  dispatchWorkerEvent(NativeEventTypes.OFFLINE, source, target);\r\n};\r\n\r\nexport const dispatchWorkerErrorEvent = (source, target) => {\r\n  dispatchWorkerEvent(NativeEventTypes.ERROR, source, target);\r\n};\r\n\r\nexport default WorkerEvent;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/WorkerEvent.js","(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"EventDispatcher\"] = factory();\r\n\telse\r\n\t\troot[\"EventDispatcher\"] = factory();\r\n})(this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, {\r\n/******/ \t\t\t\tconfigurable: false,\r\n/******/ \t\t\t\tenumerable: true,\r\n/******/ \t\t\t\tget: getter\r\n/******/ \t\t\t});\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Event = undefined;\r\n\r\nvar _EventDispatcher = __webpack_require__(1);\r\n\r\nvar _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nexports.default = _EventDispatcher2.default;\r\nexports.Event = _EventDispatcher.Event;\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar hasOwnProp = function hasOwnProp(target, name) {\r\n  return Object.prototype.hasOwnProperty.call(target, name);\r\n}; /**\r\n    * Created by Oleg Galaburda on 09.02.16.\r\n    * \r\n    */\r\n\r\nvar Event = exports.Event = function () {\r\n  function Event(type, data) {\r\n    _classCallCheck(this, Event);\r\n\r\n    this.type = type;\r\n    this.data = data || null;\r\n    this.defaultPrevented = false;\r\n  }\r\n\r\n  _createClass(Event, [{\r\n    key: 'toJSON',\r\n    value: function toJSON() {\r\n      return { type: this.type, data: this.data };\r\n    }\r\n  }, {\r\n    key: 'isDefaultPrevented',\r\n    value: function isDefaultPrevented() {\r\n      return this.defaultPrevented;\r\n    }\r\n  }, {\r\n    key: 'preventDefault',\r\n    value: function preventDefault() {\r\n      this.defaultPrevented = true;\r\n    }\r\n  }]);\r\n\r\n  return Event;\r\n}();\r\n\r\nvar ListenersRunner = function () {\r\n  function ListenersRunner(listeners, onStopped, onComplete) {\r\n    var _this = this;\r\n\r\n    _classCallCheck(this, ListenersRunner);\r\n\r\n    this.index = -1;\r\n    this.immediatelyStopped = false;\r\n\r\n    this.stopImmediatePropagation = function () {\r\n      _this.immediatelyStopped = true;\r\n    };\r\n\r\n    this.listeners = listeners;\r\n    this.onStopped = onStopped;\r\n    this.onComplete = onComplete;\r\n  }\r\n\r\n  _createClass(ListenersRunner, [{\r\n    key: 'run',\r\n    value: function run(event, target) {\r\n      var listener = void 0;\r\n      var listeners = this.listeners;\r\n\r\n      this.augmentEvent(event);\r\n      // TODO this has to be handled in separate object ListenersRunner that should be\r\n      // created for each call() call and asked for index validation on each listener remove.\r\n      for (this.index = 0; this.index < listeners.length; this.index++) {\r\n        if (this.immediatelyStopped) break;\r\n        listener = listeners[this.index];\r\n        listener.call(target, event);\r\n      }\r\n      this.clearEvent(event);\r\n      this.onComplete(this);\r\n    }\r\n  }, {\r\n    key: 'augmentEvent',\r\n    value: function augmentEvent(eventObject) {\r\n      var event = eventObject;\r\n      event.stopPropagation = this.onStopped;\r\n      event.stopImmediatePropagation = this.stopImmediatePropagation;\r\n    }\r\n\r\n    /* eslint class-methods-use-this: \"off\" */\r\n\r\n  }, {\r\n    key: 'clearEvent',\r\n    value: function clearEvent(eventObject) {\r\n      var event = eventObject;\r\n      delete event.stopPropagation;\r\n      delete event.stopImmediatePropagation;\r\n    }\r\n  }, {\r\n    key: 'listenerRemoved',\r\n    value: function listenerRemoved(listeners, index) {\r\n      if (listeners === this.listeners && index <= this.index) {\r\n        this.index--;\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return ListenersRunner;\r\n}();\r\n\r\nvar EventListeners = function () {\r\n  function EventListeners() {\r\n    var _this2 = this;\r\n\r\n    _classCallCheck(this, EventListeners);\r\n\r\n    this._listeners = {};\r\n    this._runners = [];\r\n\r\n    this.removeRunner = function (runner) {\r\n      _this2._runners.splice(_this2._runners.indexOf(runner), 1);\r\n    };\r\n  }\r\n  /**\r\n   * key - event Type\r\n   * value - hash of priorities\r\n   *    key - priority\r\n   *    value - list of handlers\r\n   * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n   * @private\r\n   */\r\n\r\n\r\n  _createClass(EventListeners, [{\r\n    key: 'createList',\r\n    value: function createList(eventType, priorityOpt) {\r\n      var priority = parseInt(priorityOpt, 10);\r\n      var target = this.getPrioritiesByKey(eventType);\r\n      var key = String(priority);\r\n      var value = void 0;\r\n      if (hasOwnProp(target, key)) {\r\n        value = target[key];\r\n      } else {\r\n        value = [];\r\n        target[key] = value;\r\n      }\r\n      return value;\r\n    }\r\n  }, {\r\n    key: 'getPrioritiesByKey',\r\n    value: function getPrioritiesByKey(key) {\r\n      var value = void 0;\r\n      if (hasOwnProp(this._listeners, key)) {\r\n        value = this._listeners[key];\r\n      } else {\r\n        value = {};\r\n        this._listeners[key] = value;\r\n      }\r\n      return value;\r\n    }\r\n  }, {\r\n    key: 'add',\r\n    value: function add(eventType, handler, priority) {\r\n      var handlers = this.createList(eventType, priority);\r\n      if (handlers.indexOf(handler) < 0) {\r\n        handlers.push(handler);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'has',\r\n    value: function has(eventType) {\r\n      var priority = void 0;\r\n      var result = false;\r\n      var priorities = this.getPrioritiesByKey(eventType);\r\n      if (priorities) {\r\n        for (priority in priorities) {\r\n          if (hasOwnProp(priorities, priority)) {\r\n            result = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n  }, {\r\n    key: 'remove',\r\n    value: function remove(eventType, handler) {\r\n      var _this3 = this;\r\n\r\n      var priorities = this.getPrioritiesByKey(eventType);\r\n      if (priorities) {\r\n        var list = Object.getOwnPropertyNames(priorities);\r\n        var length = list.length;\r\n\r\n        var _loop = function _loop(index) {\r\n          var priority = list[index];\r\n          var handlers = priorities[priority];\r\n          var handlerIndex = handlers.indexOf(handler);\r\n          if (handlerIndex >= 0) {\r\n            handlers.splice(handlerIndex, 1);\r\n            if (!handlers.length) {\r\n              delete priorities[priority];\r\n            }\r\n            _this3._runners.forEach(function (runner) {\r\n              runner.listenerRemoved(handlers, handlerIndex);\r\n            });\r\n          }\r\n        };\r\n\r\n        for (var index = 0; index < length; index++) {\r\n          _loop(index);\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: 'removeAll',\r\n    value: function removeAll(eventType) {\r\n      delete this._listeners[eventType];\r\n    }\r\n  }, {\r\n    key: 'createRunner',\r\n    value: function createRunner(handlers, onStopped) {\r\n      var runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\r\n      this._runners.push(runner);\r\n      return runner;\r\n    }\r\n  }, {\r\n    key: 'call',\r\n    value: function call(event, target) {\r\n      var priorities = this.getPrioritiesByKey(event.type);\r\n      var stopped = false;\r\n      var stopPropagation = function stopPropagation() {\r\n        stopped = true;\r\n      };\r\n      if (priorities) {\r\n        // getOwnPropertyNames() or keys()?\r\n        var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\r\n          return a - b;\r\n        });\r\n        var length = list.length;\r\n\r\n        for (var index = 0; index < length; index++) {\r\n          if (stopped) break;\r\n          var _handlers = priorities[list[index]];\r\n          // in case if all handlers of priority were removed while event\r\n          // was dispatched and handlers become undefined.\r\n          if (_handlers) {\r\n            var _runner = this.createRunner(_handlers, stopPropagation);\r\n            _runner.run(event, target);\r\n            if (_runner.immediatelyStopped) break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return EventListeners;\r\n}();\r\n\r\nvar EventDispatcher = function () {\r\n  function EventDispatcher(eventPreprocessor) {\r\n    var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n\r\n    _classCallCheck(this, EventDispatcher);\r\n\r\n    if (!noInit) {\r\n      this.initialize(eventPreprocessor);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n\r\n\r\n  _createClass(EventDispatcher, [{\r\n    key: 'initialize',\r\n    value: function initialize(eventPreprocessor) {\r\n      this._eventPreprocessor = eventPreprocessor;\r\n      this._listeners = new EventListeners();\r\n    }\r\n  }, {\r\n    key: 'addEventListener',\r\n    value: function addEventListener(eventType, listener) {\r\n      var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\r\n\r\n      this._listeners.add(eventType, listener, -priority || 0);\r\n    }\r\n  }, {\r\n    key: 'hasEventListener',\r\n    value: function hasEventListener(eventType) {\r\n      return this._listeners.has(eventType);\r\n    }\r\n  }, {\r\n    key: 'removeEventListener',\r\n    value: function removeEventListener(eventType, listener) {\r\n      this._listeners.remove(eventType, listener);\r\n    }\r\n  }, {\r\n    key: 'removeAllEventListeners',\r\n    value: function removeAllEventListeners(eventType) {\r\n      this._listeners.removeAll(eventType);\r\n    }\r\n  }, {\r\n    key: 'dispatchEvent',\r\n    value: function dispatchEvent(event, data) {\r\n      var eventObject = EventDispatcher.getEvent(event, data);\r\n      if (this._eventPreprocessor) {\r\n        eventObject = this._eventPreprocessor.call(this, eventObject);\r\n      }\r\n      this._listeners.call(eventObject);\r\n    }\r\n  }], [{\r\n    key: 'isObject',\r\n    value: function isObject(value) {\r\n      return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\r\n    }\r\n  }, {\r\n    key: 'getEvent',\r\n    value: function getEvent(eventOrType, optionalData) {\r\n      var event = eventOrType;\r\n      if (!EventDispatcher.isObject(eventOrType)) {\r\n        event = new EventDispatcher.Event(String(eventOrType), optionalData);\r\n      }\r\n      return event;\r\n    }\r\n  }, {\r\n    key: 'create',\r\n    value: function create(eventPreprocessor) {\r\n      return new EventDispatcher(eventPreprocessor);\r\n    }\r\n\r\n    /* eslint no-undef: \"off\" */\r\n\r\n  }]);\r\n\r\n  return EventDispatcher;\r\n}();\r\n\r\nEventDispatcher.Event = Event;\r\n\r\nexports.default = EventDispatcher;\r\n\r\n/***/ })\r\n/******/ ]);\r\n});\r\n//# sourceMappingURL=event-dispatcher.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/event-dispatcher/dist/event-dispatcher.js\n// module id = 2\n// module chunks = 0","import MessagePortDispatcher from 'messageport-dispatcher';\r\n\r\n/**\r\n *\r\n * @param target {String|Worker}\r\n * @param type {String}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @extends MessagePortDispatcher\r\n * @constructor\r\n */\r\nclass AbstractDispatcher extends MessagePortDispatcher {\r\n  constructor(type) {\r\n    super(null, null, null, null, true);\r\n    this.type = type;\r\n  }\r\n\r\n  initialize(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor) {\r\n    const postMessageHandler = (data, transferList) => target.postMessage(data, transferList);\r\n    super.initialize(\r\n      target,\r\n      customPostMessageHandler || postMessageHandler,\r\n      receiverEventPreprocessor,\r\n      senderEventPreprocessor\r\n    );\r\n  }\r\n}\r\n\r\nexport default AbstractDispatcher;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/AbstractDispatcher.js","import WorkerType from '../WorkerType';\r\nimport AbstractDispatcher from '../AbstractDispatcher';\r\n\r\n/**\r\n * @param target {MessagePort}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @extends MessagePortDispatcher\r\n * @constructor\r\n */\r\nclass ClientDispatcher extends AbstractDispatcher {\r\n  constructor(target, receiverEventPreprocessor, senderEventPreprocessor) {\r\n    super(WorkerType.SHARED_WORKER_CLIENT);\r\n\r\n    this.initialize(target, null, receiverEventPreprocessor, senderEventPreprocessor);\r\n  }\r\n\r\n  start() {\r\n    this.target.start();\r\n  }\r\n\r\n  close() {\r\n    this.target.close();\r\n  }\r\n}\r\n\r\nexport default ClientDispatcher;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/sharedWorker/ClientDispatcher.js","import EventDispatcher from 'event-dispatcher';\r\nimport WorkerType from './WorkerType';\r\nimport { dispatchWorkerEvents } from './WorkerEvent';\r\nimport AbstractDispatcher from './AbstractDispatcher';\r\n\r\nconst getTarget = (worker) => {\r\n  let target = worker || self;\r\n\r\n  if (!EventDispatcher.isObject(target)) {\r\n    target = new Worker(String(worker));\r\n  }\r\n\r\n  return target;\r\n};\r\n\r\n/**\r\n *\r\n * @param target {Worker|String}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @extends MessagePortDispatcher\r\n * @constructor\r\n */\r\nclass DedicatedWorkerDispatcher extends AbstractDispatcher {\r\n  constructor(worker, receiverEventPreprocessor, senderEventPreprocessor) {\r\n    super(WorkerType.DEDICATED_WORKER);\r\n\r\n    const target = getTarget(worker);\r\n\r\n    this.initialize(target, receiverEventPreprocessor, senderEventPreprocessor);\r\n    dispatchWorkerEvents(target, this.receiver);\r\n  }\r\n\r\n  terminate() {\r\n    return this.target.terminate();\r\n  }\r\n}\r\n\r\nexport default DedicatedWorkerDispatcher;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/DedicatedWorkerDispatcher.js","import EventDispatcher from 'event-dispatcher';\r\nimport WorkerType from './WorkerType';\r\nimport { dispatchWorkerErrorEvent } from './WorkerEvent';\r\nimport AbstractDispatcher from './AbstractDispatcher';\r\n\r\nconst getTarget = (target, name) => {\r\n  if (!EventDispatcher.isObject(target)) {\r\n    return new SharedWorker(String(target), name);\r\n  }\r\n\r\n  return target;\r\n};\r\n\r\n/**\r\n *\r\n * @param worker {SharedWorker}\r\n * @param name {String}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @extends WorkerMessenger\r\n * @constructor\r\n */\r\nclass SharedWorkerDispatcher extends AbstractDispatcher {\r\n  constructor(target, name, receiverEventPreprocessor, senderEventPreprocessor) {\r\n    super(WorkerType.SHARED_WORKER);\r\n    this.worker = getTarget(target, name);\r\n\r\n    this.initialize(this.worker.port, null, receiverEventPreprocessor, senderEventPreprocessor);\r\n    dispatchWorkerErrorEvent(this.worker, this.receiver);\r\n  }\r\n\r\n  start() {\r\n    this.worker.start();\r\n  }\r\n\r\n  close() {\r\n    this.worker.close();\r\n  }\r\n}\r\n\r\nexport default SharedWorkerDispatcher;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/SharedWorkerDispatcher.js","import EventDispatcher from 'event-dispatcher';\r\nimport WorkerType from '../WorkerType';\r\nimport WorkerEvent, { dispatchWorkerEvents } from '../WorkerEvent';\r\nimport ClientDispatcher from './ClientDispatcher';\r\n\r\n/**\r\n * Read-only interface, mainly will listen to \"connect\" event.\r\n * You should listen to WorkerEvent.CONNECT to intercept client\r\n * instance to be able to communicate.\r\n * @param worker\r\n * @param receiverEventPreprocessor {?Function}\r\n * @constructor\r\n */\r\nclass ServerDispatcher {\r\n  constructor(\r\n    target,\r\n    receiverEventPreprocessor,\r\n    clientReceiverEventPreprocessor,\r\n    clientSenderEventPreprocessor,\r\n  ) {\r\n    this.target = target || self;\r\n    this.clientReceiverEventPreprocessor = clientReceiverEventPreprocessor;\r\n    this.clientSenderEventPreprocessor = clientSenderEventPreprocessor;\r\n    this.type = WorkerType.SHARED_WORKER_SERVER;\r\n    this.receiver = new EventDispatcher(receiverEventPreprocessor);\r\n\r\n    target.addEventListener('connect', this.handleConnect);\r\n    dispatchWorkerEvents(target, this.receiver);\r\n  }\r\n\r\n  addEventListener = (...args) => this.receiver.addEventListener(...args);\r\n  hasEventListener = (...args) => this.receiver.hasEventListener(...args);\r\n  removeEventListener = (...args) => this.receiver.removeEventListener(...args);\r\n  removeAllEventListeners = (...args) => this.receiver.removeAllEventListeners(...args);\r\n\r\n  handleConnect = (event) => {\r\n    const [target] = event.ports;\r\n    const client = new ClientDispatcher(\r\n      target,\r\n      this.clientReceiverEventPreprocessor,\r\n      this.clientSenderEventPreprocessor,\r\n    );\r\n\r\n    this.receiver.dispatchEvent(new WorkerEvent(WorkerEvent.CONNECT, client, event, client));\r\n  }\r\n}\r\n\r\nexport default ServerDispatcher;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/sharedWorker/ServerDispatcher.js","import WorkerType from './WorkerType';\r\nimport WorkerEvent from './WorkerEvent';\r\nimport DedicatedWorkerDispatcher from './DedicatedWorkerDispatcher';\r\nimport SharedWorkerDispatcher from './SharedWorkerDispatcher';\r\nimport ClientDispatcher from './sharedWorker/ClientDispatcher';\r\nimport ServerDispatcher from './sharedWorker/ServerDispatcher';\r\nimport { create, createForSelf } from './utils/create';\r\n\r\nconst CONNECT_EVENT = WorkerEvent.CONNECT;\r\nconst DEDICATED_WORKER = WorkerType.DEDICATED_WORKER;\r\nconst SHARED_WORKER = WorkerType.SHARED_WORKER;\r\n\r\nmodule.exports = Object.assign(DedicatedWorkerDispatcher, {\r\n  create,\r\n  createForSelf,\r\n  CONNECT_EVENT,\r\n  DEDICATED_WORKER,\r\n  SHARED_WORKER,\r\n  WorkerEvent,\r\n  WorkerType,\r\n  ClientDispatcher,\r\n  ServerDispatcher,\r\n  SharedWorkerDispatcher,\r\n  DedicatedWorkerDispatcher,\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/direct.js","(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"MessagePortDispatcher\"] = factory();\r\n\telse\r\n\t\troot[\"MessagePortDispatcher\"] = factory();\r\n})(this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, {\r\n/******/ \t\t\t\tconfigurable: false,\r\n/******/ \t\t\t\tenumerable: true,\r\n/******/ \t\t\t\tget: getter\r\n/******/ \t\t\t});\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.create = exports.self = exports.MessagePortEvent = undefined;\r\n\r\nvar _MessagePortDispatcher = __webpack_require__(1);\r\n\r\nvar _MessagePortDispatcher2 = _interopRequireDefault(_MessagePortDispatcher);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar self = _MessagePortDispatcher2.default.self,\r\n    create = _MessagePortDispatcher2.default.create;\r\nexports.default = _MessagePortDispatcher2.default;\r\nexports.MessagePortEvent = _MessagePortDispatcher.MessagePortEvent;\r\nexports.self = self;\r\nexports.create = create;\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.MessagePortDispatcher = exports.MessagePortEvent = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Created by Oleg Galaburda on 09.02.16.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\r\n\r\nvar _eventDispatcher = __webpack_require__(2);\r\n\r\nvar _eventDispatcher2 = _interopRequireDefault(_eventDispatcher);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar MessagePortEvent = exports.MessagePortEvent = function () {\r\n  function MessagePortEvent(event, dispatcherId) {\r\n    _classCallCheck(this, MessagePortEvent);\r\n\r\n    this.event = event;\r\n    this.dispatcherId = dispatcherId;\r\n  }\r\n\r\n  _createClass(MessagePortEvent, [{\r\n    key: 'toJSON',\r\n    value: function toJSON() {\r\n      return {\r\n        /* eslint no-use-before-define:0 */\r\n        event: MessagePortDispatcher.toJSON(this.event),\r\n        dispatcherId: this.dispatcherId\r\n      };\r\n    }\r\n  }], [{\r\n    key: 'parse',\r\n    value: function parse(object) {\r\n      /* eslint no-use-before-define:0 */\r\n      var result = MessagePortDispatcher.parse(object);\r\n      if (MessagePortEvent.isEvent(result)) {\r\n        /* eslint no-use-before-define:0 */\r\n        result.event = MessagePortDispatcher.parse(result.event);\r\n      } else {\r\n        result = null;\r\n      }\r\n      return result;\r\n    }\r\n  }, {\r\n    key: 'isEvent',\r\n    value: function isEvent(object) {\r\n      return _eventDispatcher2.default.isObject(object) && Object.prototype.hasOwnProperty.call(object, 'dispatcherId') && Object.prototype.hasOwnProperty.call(object, 'event');\r\n    }\r\n  }]);\r\n\r\n  return MessagePortEvent;\r\n}();\r\n\r\nvar MessagePortDispatcher = exports.MessagePortDispatcher = function (_EventDispatcher) {\r\n  _inherits(MessagePortDispatcher, _EventDispatcher);\r\n\r\n  /**\r\n   *\r\n   * @param target {Window|Worker|MessagePort}\r\n   * @param customPostMessageHandler {?Function} Function that receive message object\r\n   *        and pass it to MessagePort.postMessage()\r\n   * @param receiverEventPreprocessor {?Function} Function that pre-process\r\n   *        all events received from MessagePort, before passing to listeners\r\n   * @param senderEventPreprocessor Function that pre-process all events sent\r\n   *        to MessagePort\r\n   * @constructor\r\n   */\r\n  function MessagePortDispatcher(target) {\r\n    var customPostMessageHandler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\r\n    var receiverEventPreprocessor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\r\n    var senderEventPreprocessor = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\r\n    var noInit = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\r\n\r\n    _classCallCheck(this, MessagePortDispatcher);\r\n\r\n    var _this = _possibleConstructorReturn(this, (MessagePortDispatcher.__proto__ || Object.getPrototypeOf(MessagePortDispatcher)).call(this, null, true));\r\n\r\n    if (!noInit) {\r\n      _this.initiallize(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor);\r\n    }\r\n    return _this;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n\r\n\r\n  _createClass(MessagePortDispatcher, [{\r\n    key: 'initiallize',\r\n    value: function initiallize(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor) {\r\n      this.target = target || self;\r\n      this._handlers = {\r\n        customPostMessageHandler: customPostMessageHandler,\r\n        senderEventPreprocessor: senderEventPreprocessor\r\n      };\r\n      this.sender = _eventDispatcher2.default.create();\r\n      this.receiver = _eventDispatcher2.default.create(receiverEventPreprocessor);\r\n      this.dispatcherId = 'MP/' + Math.ceil(Math.random() * 10000) + '/' + Date.now();\r\n      this.targetOrigin = '*';\r\n      this.addEventListener = this.receiver.addEventListener.bind(this.receiver);\r\n      this.hasEventListener = this.receiver.hasEventListener.bind(this.receiver);\r\n      this.removeEventListener = this.receiver.removeEventListener.bind(this.receiver);\r\n      this.removeAllEventListeners = this.receiver.removeAllEventListeners.bind(this.receiver);\r\n\r\n      target.addEventListener('message', this._messageEventListener.bind(this));\r\n    }\r\n  }, {\r\n    key: 'dispatchEvent',\r\n    value: function dispatchEvent(eventType, data, transferList) {\r\n      var event = _eventDispatcher2.default.getEvent(eventType, data);\r\n      if (this._handlers.senderEventPreprocessor) {\r\n        event = this._handlers.senderEventPreprocessor.call(this, event);\r\n      }\r\n      var eventJson = MessagePortDispatcher.toJSON(new MessagePortEvent(event, this.dispatcherId));\r\n      this._postMessageHandler(eventJson, transferList);\r\n    }\r\n  }, {\r\n    key: '_postMessageHandler',\r\n    value: function _postMessageHandler(data, transferList) {\r\n      var handler = this._handlers.customPostMessageHandler;\r\n      if (handler) {\r\n        handler.call(this, data, this.targetOrigin, transferList);\r\n      } else {\r\n        this.target.postMessage(data, this.targetOrigin, transferList);\r\n      }\r\n    }\r\n  }, {\r\n    key: '_messageEventListener',\r\n    value: function _messageEventListener(event) {\r\n      // fixme .nativeEvent react-native thing, need a way to find out keep it or exclude\r\n      event = event.nativeEvent || event;\r\n      var message = MessagePortEvent.parse(event.data);\r\n      if (message) {\r\n        if (message.dispatcherId === this.dispatcherId) {\r\n          this.sender.dispatchEvent(message.event);\r\n        } else {\r\n          this.receiver.dispatchEvent(message.event);\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * If toJSON method implemented on object, it will be called instead of converting to JSON string.\r\n     * This was made to utilize structured cloning algorithm for raw objects.\r\n     * https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\r\n     * In this case developer is responsible for converting linked objects.\r\n     * @param object\r\n     * @returns {Object|String}\r\n     */\r\n\r\n  }], [{\r\n    key: 'toJSON',\r\n    value: function toJSON(object) {\r\n      var objectJson = void 0;\r\n      if (typeof object.toJSON === 'function') {\r\n        objectJson = object.toJSON();\r\n      } else {\r\n        objectJson = JSON.stringify(object);\r\n      }\r\n      return objectJson;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param data {Object|String}\r\n     * @returns {Object}\r\n     */\r\n\r\n  }, {\r\n    key: 'parse',\r\n    value: function parse(data) {\r\n      var object = void 0; // keep it undefined in case of error\r\n      if (_eventDispatcher2.default.isObject(data)) {\r\n        object = data;\r\n      } else {\r\n        try {\r\n          object = JSON.parse(data);\r\n        } catch (error) {\r\n          // this isn't an event we are waiting for.\r\n        }\r\n      }\r\n      return object;\r\n    }\r\n  }, {\r\n    key: 'create',\r\n    value: function create(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor) {\r\n      return new MessagePortDispatcher(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor);\r\n    }\r\n  }]);\r\n\r\n  return MessagePortDispatcher;\r\n}(_eventDispatcher2.default);\r\n\r\nvar factory = function factory(getTarget) {\r\n  var dispatcher = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\r\n  return function () {\r\n    if (!dispatcher) {\r\n      dispatcher = MessagePortDispatcher.create(getTarget());\r\n    }\r\n    return dispatcher;\r\n  };\r\n};\r\n\r\nMessagePortDispatcher.self = factory(function () {\r\n  return self;\r\n});\r\nMessagePortDispatcher.parent = factory(function () {\r\n  return parent;\r\n});\r\nMessagePortDispatcher.top = factory(function () {\r\n  return top;\r\n});\r\nMessagePortDispatcher.MessagePortEvent = MessagePortEvent;\r\n\r\nexports.default = MessagePortDispatcher;\r\n\r\n/***/ }),\r\n/* 2 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\r\n\r\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\n(function webpackUniversalModuleDefinition(root, factory) {\r\n  if (( false ? 'undefined' : _typeof2(exports)) === 'object' && ( false ? 'undefined' : _typeof2(module)) === 'object') module.exports = factory();else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\r\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\r\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\r\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else if ((typeof exports === 'undefined' ? 'undefined' : _typeof2(exports)) === 'object') exports[\"EventDispatcher\"] = factory();else root[\"EventDispatcher\"] = factory();\r\n})(undefined, function () {\r\n  return (/******/function (modules) {\r\n      // webpackBootstrap\r\n      /******/ // The module cache\r\n      /******/var installedModules = {};\r\n      /******/\r\n      /******/ // The require function\r\n      /******/function __webpack_require__(moduleId) {\r\n        /******/\r\n        /******/ // Check if module is in cache\r\n        /******/if (installedModules[moduleId]) {\r\n          /******/return installedModules[moduleId].exports;\r\n          /******/\r\n        }\r\n        /******/ // Create a new module (and put it into the cache)\r\n        /******/var module = installedModules[moduleId] = {\r\n          /******/i: moduleId,\r\n          /******/l: false,\r\n          /******/exports: {}\r\n          /******/ };\r\n        /******/\r\n        /******/ // Execute the module function\r\n        /******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n        /******/\r\n        /******/ // Flag the module as loaded\r\n        /******/module.l = true;\r\n        /******/\r\n        /******/ // Return the exports of the module\r\n        /******/return module.exports;\r\n        /******/\r\n      }\r\n      /******/\r\n      /******/\r\n      /******/ // expose the modules object (__webpack_modules__)\r\n      /******/__webpack_require__.m = modules;\r\n      /******/\r\n      /******/ // expose the module cache\r\n      /******/__webpack_require__.c = installedModules;\r\n      /******/\r\n      /******/ // define getter function for harmony exports\r\n      /******/__webpack_require__.d = function (exports, name, getter) {\r\n        /******/if (!__webpack_require__.o(exports, name)) {\r\n          /******/Object.defineProperty(exports, name, {\r\n            /******/configurable: false,\r\n            /******/enumerable: true,\r\n            /******/get: getter\r\n            /******/ });\r\n          /******/\r\n        }\r\n        /******/\r\n      };\r\n      /******/\r\n      /******/ // getDefaultExport function for compatibility with non-harmony modules\r\n      /******/__webpack_require__.n = function (module) {\r\n        /******/var getter = module && module.__esModule ?\r\n        /******/function getDefault() {\r\n          return module['default'];\r\n        } :\r\n        /******/function getModuleExports() {\r\n          return module;\r\n        };\r\n        /******/__webpack_require__.d(getter, 'a', getter);\r\n        /******/return getter;\r\n        /******/\r\n      };\r\n      /******/\r\n      /******/ // Object.prototype.hasOwnProperty.call\r\n      /******/__webpack_require__.o = function (object, property) {\r\n        return Object.prototype.hasOwnProperty.call(object, property);\r\n      };\r\n      /******/\r\n      /******/ // __webpack_public_path__\r\n      /******/__webpack_require__.p = \"http://localhost:8081/dist/\";\r\n      /******/\r\n      /******/ // Load entry module and return exports\r\n      /******/return __webpack_require__(__webpack_require__.s = 0);\r\n      /******/\r\n    }(\r\n    /************************************************************************/\r\n    /******/[\r\n    /* 0 */\r\n    /***/function (module, exports, __webpack_require__) {\r\n\r\n      \"use strict\";\r\n\r\n      Object.defineProperty(exports, \"__esModule\", {\r\n        value: true\r\n      });\r\n      exports.Event = undefined;\r\n\r\n      var _EventDispatcher = __webpack_require__(1);\r\n\r\n      var _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\r\n\r\n      function _interopRequireDefault(obj) {\r\n        return obj && obj.__esModule ? obj : { default: obj };\r\n      }\r\n\r\n      exports.default = _EventDispatcher2.default;\r\n      exports.Event = _EventDispatcher.Event;\r\n\r\n      /***/\r\n    },\r\n    /* 1 */\r\n    /***/function (module, exports, __webpack_require__) {\r\n\r\n      \"use strict\";\r\n\r\n      Object.defineProperty(exports, \"__esModule\", {\r\n        value: true\r\n      });\r\n\r\n      var _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\r\n        return typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\r\n      } : function (obj) {\r\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\r\n      };\r\n\r\n      var _createClass = function () {\r\n        function defineProperties(target, props) {\r\n          for (var i = 0; i < props.length; i++) {\r\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\r\n          }\r\n        }return function (Constructor, protoProps, staticProps) {\r\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\r\n        };\r\n      }();\r\n\r\n      function _classCallCheck(instance, Constructor) {\r\n        if (!(instance instanceof Constructor)) {\r\n          throw new TypeError(\"Cannot call a class as a function\");\r\n        }\r\n      }\r\n\r\n      var hasOwnProp = function hasOwnProp(target, name) {\r\n        return Object.prototype.hasOwnProperty.call(target, name);\r\n      }; /**\r\n          * Created by Oleg Galaburda on 09.02.16.\r\n          * \r\n          */\r\n\r\n      var Event = exports.Event = function () {\r\n        function Event(type, data) {\r\n          _classCallCheck(this, Event);\r\n\r\n          this.type = type;\r\n          this.data = data || null;\r\n          this.defaultPrevented = false;\r\n        }\r\n\r\n        _createClass(Event, [{\r\n          key: 'toJSON',\r\n          value: function toJSON() {\r\n            return { type: this.type, data: this.data };\r\n          }\r\n        }, {\r\n          key: 'isDefaultPrevented',\r\n          value: function isDefaultPrevented() {\r\n            return this.defaultPrevented;\r\n          }\r\n        }, {\r\n          key: 'preventDefault',\r\n          value: function preventDefault() {\r\n            this.defaultPrevented = true;\r\n          }\r\n        }]);\r\n\r\n        return Event;\r\n      }();\r\n\r\n      var ListenersRunner = function () {\r\n        function ListenersRunner(listeners, onStopped, onComplete) {\r\n          var _this = this;\r\n\r\n          _classCallCheck(this, ListenersRunner);\r\n\r\n          this.index = -1;\r\n          this.immediatelyStopped = false;\r\n\r\n          this.stopImmediatePropagation = function () {\r\n            _this.immediatelyStopped = true;\r\n          };\r\n\r\n          this.listeners = listeners;\r\n          this.onStopped = onStopped;\r\n          this.onComplete = onComplete;\r\n        }\r\n\r\n        _createClass(ListenersRunner, [{\r\n          key: 'run',\r\n          value: function run(event, target) {\r\n            var listener = void 0;\r\n            var listeners = this.listeners;\r\n\r\n            this.augmentEvent(event);\r\n            // TODO this has to be handled in separate object ListenersRunner that should be\r\n            // created for each call() call and asked for index validation on each listener remove.\r\n            for (this.index = 0; this.index < listeners.length; this.index++) {\r\n              if (this.immediatelyStopped) break;\r\n              listener = listeners[this.index];\r\n              listener.call(target, event);\r\n            }\r\n            this.clearEvent(event);\r\n            this.onComplete(this);\r\n          }\r\n        }, {\r\n          key: 'augmentEvent',\r\n          value: function augmentEvent(eventObject) {\r\n            var event = eventObject;\r\n            event.stopPropagation = this.onStopped;\r\n            event.stopImmediatePropagation = this.stopImmediatePropagation;\r\n          }\r\n\r\n          /* eslint class-methods-use-this: \"off\" */\r\n\r\n        }, {\r\n          key: 'clearEvent',\r\n          value: function clearEvent(eventObject) {\r\n            var event = eventObject;\r\n            delete event.stopPropagation;\r\n            delete event.stopImmediatePropagation;\r\n          }\r\n        }, {\r\n          key: 'listenerRemoved',\r\n          value: function listenerRemoved(listeners, index) {\r\n            if (listeners === this.listeners && index <= this.index) {\r\n              this.index--;\r\n            }\r\n          }\r\n        }]);\r\n\r\n        return ListenersRunner;\r\n      }();\r\n\r\n      var EventListeners = function () {\r\n        function EventListeners() {\r\n          var _this2 = this;\r\n\r\n          _classCallCheck(this, EventListeners);\r\n\r\n          this._listeners = {};\r\n          this._runners = [];\r\n\r\n          this.removeRunner = function (runner) {\r\n            _this2._runners.splice(_this2._runners.indexOf(runner), 1);\r\n          };\r\n        }\r\n        /**\r\n         * key - event Type\r\n         * value - hash of priorities\r\n         *    key - priority\r\n         *    value - list of handlers\r\n         * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n         * @private\r\n         */\r\n\r\n        _createClass(EventListeners, [{\r\n          key: 'createList',\r\n          value: function createList(eventType, priorityOpt) {\r\n            var priority = parseInt(priorityOpt, 10);\r\n            var target = this.getPrioritiesByKey(eventType);\r\n            var key = String(priority);\r\n            var value = void 0;\r\n            if (hasOwnProp(target, key)) {\r\n              value = target[key];\r\n            } else {\r\n              value = [];\r\n              target[key] = value;\r\n            }\r\n            return value;\r\n          }\r\n        }, {\r\n          key: 'getPrioritiesByKey',\r\n          value: function getPrioritiesByKey(key) {\r\n            var value = void 0;\r\n            if (hasOwnProp(this._listeners, key)) {\r\n              value = this._listeners[key];\r\n            } else {\r\n              value = {};\r\n              this._listeners[key] = value;\r\n            }\r\n            return value;\r\n          }\r\n        }, {\r\n          key: 'add',\r\n          value: function add(eventType, handler, priority) {\r\n            var handlers = this.createList(eventType, priority);\r\n            if (handlers.indexOf(handler) < 0) {\r\n              handlers.push(handler);\r\n            }\r\n          }\r\n        }, {\r\n          key: 'has',\r\n          value: function has(eventType) {\r\n            var priority = void 0;\r\n            var result = false;\r\n            var priorities = this.getPrioritiesByKey(eventType);\r\n            if (priorities) {\r\n              for (priority in priorities) {\r\n                if (hasOwnProp(priorities, priority)) {\r\n                  result = true;\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n            return result;\r\n          }\r\n        }, {\r\n          key: 'remove',\r\n          value: function remove(eventType, handler) {\r\n            var _this3 = this;\r\n\r\n            var priorities = this.getPrioritiesByKey(eventType);\r\n            if (priorities) {\r\n              var list = Object.getOwnPropertyNames(priorities);\r\n              var length = list.length;\r\n\r\n              var _loop = function _loop(index) {\r\n                var priority = list[index];\r\n                var handlers = priorities[priority];\r\n                var handlerIndex = handlers.indexOf(handler);\r\n                if (handlerIndex >= 0) {\r\n                  handlers.splice(handlerIndex, 1);\r\n                  if (!handlers.length) {\r\n                    delete priorities[priority];\r\n                  }\r\n                  _this3._runners.forEach(function (runner) {\r\n                    runner.listenerRemoved(handlers, handlerIndex);\r\n                  });\r\n                }\r\n              };\r\n\r\n              for (var index = 0; index < length; index++) {\r\n                _loop(index);\r\n              }\r\n            }\r\n          }\r\n        }, {\r\n          key: 'removeAll',\r\n          value: function removeAll(eventType) {\r\n            delete this._listeners[eventType];\r\n          }\r\n        }, {\r\n          key: 'createRunner',\r\n          value: function createRunner(handlers, onStopped) {\r\n            var runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\r\n            this._runners.push(runner);\r\n            return runner;\r\n          }\r\n        }, {\r\n          key: 'call',\r\n          value: function call(event, target) {\r\n            var priorities = this.getPrioritiesByKey(event.type);\r\n            var stopped = false;\r\n            var stopPropagation = function stopPropagation() {\r\n              stopped = true;\r\n            };\r\n            if (priorities) {\r\n              // getOwnPropertyNames() or keys()?\r\n              var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\r\n                return a - b;\r\n              });\r\n              var length = list.length;\r\n\r\n              for (var index = 0; index < length; index++) {\r\n                if (stopped) break;\r\n                var _handlers = priorities[list[index]];\r\n                // in case if all handlers of priority were removed while event\r\n                // was dispatched and handlers become undefined.\r\n                if (_handlers) {\r\n                  var _runner = this.createRunner(_handlers, stopPropagation);\r\n                  _runner.run(event, target);\r\n                  if (_runner.immediatelyStopped) break;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }]);\r\n\r\n        return EventListeners;\r\n      }();\r\n\r\n      var EventDispatcher = function () {\r\n        function EventDispatcher(eventPreprocessor) {\r\n          var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n\r\n          _classCallCheck(this, EventDispatcher);\r\n\r\n          if (!noInit) {\r\n            this.initialize(eventPreprocessor);\r\n          }\r\n        }\r\n\r\n        /**\r\n         * @private\r\n         */\r\n\r\n        _createClass(EventDispatcher, [{\r\n          key: 'initialize',\r\n          value: function initialize(eventPreprocessor) {\r\n            this._eventPreprocessor = eventPreprocessor;\r\n            this._listeners = new EventListeners();\r\n          }\r\n        }, {\r\n          key: 'addEventListener',\r\n          value: function addEventListener(eventType, listener) {\r\n            var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\r\n\r\n            this._listeners.add(eventType, listener, -priority || 0);\r\n          }\r\n        }, {\r\n          key: 'hasEventListener',\r\n          value: function hasEventListener(eventType) {\r\n            return this._listeners.has(eventType);\r\n          }\r\n        }, {\r\n          key: 'removeEventListener',\r\n          value: function removeEventListener(eventType, listener) {\r\n            this._listeners.remove(eventType, listener);\r\n          }\r\n        }, {\r\n          key: 'removeAllEventListeners',\r\n          value: function removeAllEventListeners(eventType) {\r\n            this._listeners.removeAll(eventType);\r\n          }\r\n        }, {\r\n          key: 'dispatchEvent',\r\n          value: function dispatchEvent(event, data) {\r\n            var eventObject = EventDispatcher.getEvent(event, data);\r\n            if (this._eventPreprocessor) {\r\n              eventObject = this._eventPreprocessor.call(this, eventObject);\r\n            }\r\n            this._listeners.call(eventObject);\r\n          }\r\n        }], [{\r\n          key: 'isObject',\r\n          value: function isObject(value) {\r\n            return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\r\n          }\r\n        }, {\r\n          key: 'getEvent',\r\n          value: function getEvent(eventOrType, optionalData) {\r\n            var event = eventOrType;\r\n            if (!EventDispatcher.isObject(eventOrType)) {\r\n              event = new EventDispatcher.Event(String(eventOrType), optionalData);\r\n            }\r\n            return event;\r\n          }\r\n        }, {\r\n          key: 'create',\r\n          value: function create(eventPreprocessor) {\r\n            return new EventDispatcher(eventPreprocessor);\r\n          }\r\n\r\n          /* eslint no-undef: \"off\" */\r\n\r\n        }]);\r\n\r\n        return EventDispatcher;\r\n      }();\r\n\r\n      EventDispatcher.Event = Event;\r\n\r\n      exports.default = EventDispatcher;\r\n\r\n      /***/\r\n    }]\r\n    /******/)\r\n  );\r\n});\r\n//# sourceMappingURL=event-dispatcher.js.map\r\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)(module)))\r\n\r\n/***/ }),\r\n/* 3 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nmodule.exports = function (module) {\r\n\tif (!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function () {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif (!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function get() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function get() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\r\n/***/ })\r\n/******/ ]);\r\n});\r\n//# sourceMappingURL=messageport-dispatcher.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/messageport-dispatcher/dist/messageport-dispatcher.js\n// module id = 9\n// module chunks = 0","import WorkerType from '../WorkerType';\r\nimport DedicatedWorkerDispatcher from '../DedicatedWorkerDispatcher';\r\nimport SharedWorkerDispatcher from '../SharedWorkerDispatcher';\r\nimport ClientDispatcher from '../sharedWorker/ClientDispatcher';\r\nimport ServerDispatcher from '../sharedWorker/ServerDispatcher';\r\n\r\n/**\r\n *\r\n * @param worker {String|Worker|SharedWorker|MessagePort}\r\n * @param type {String}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @returns {AbstractDispatcher}\r\n */\r\nexport const create = (target, type, receiverEventPreprocessor, senderEventPreprocessor) => {\r\n  var dispatcher = null;\r\n  switch (type) {\r\n    default:\r\n    case WorkerType.DEDICATED_WORKER:\r\n      dispatcher = new DedicatedWorkerDispatcher(target, receiverEventPreprocessor, senderEventPreprocessor);\r\n      break;\r\n    case WorkerType.SHARED_WORKER:\r\n      dispatcher = new SharedWorkerDispatcher(target, null, receiverEventPreprocessor, senderEventPreprocessor);\r\n      break;\r\n    case WorkerType.SHARED_WORKER_SERVER:\r\n      dispatcher = new ServerDispatcher(target, receiverEventPreprocessor);\r\n      break;\r\n    case WorkerType.SHARED_WORKER_CLIENT:\r\n      dispatcher = new ClientDispatcher(target, receiverEventPreprocessor, senderEventPreprocessor);\r\n      break;\r\n  }\r\n  return dispatcher;\r\n};\r\n\r\n/**\r\n *\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @returns {AbstractDispatcher}\r\n */\r\nexport const createForSelf = (receiverEventPreprocessor, senderEventPreprocessor) => {\r\n  var dispatcher = null;\r\n  if (typeof(self.postMessage) === 'function') {\r\n    dispatcher = new DedicatedWorkerDispatcher(self, receiverEventPreprocessor, senderEventPreprocessor);\r\n  } else {\r\n    dispatcher = new ServerDispatcher(self, receiverEventPreprocessor);\r\n  }\r\n  return dispatcher;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/create.js"],"sourceRoot":""}