{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///worker-dispatcher.min.js","webpack:///webpack/bootstrap a3697cc3e24f249b8bc7","webpack:///./source/WorkerType.js","webpack:///./source/WorkerEvent.js","webpack:///./node_modules/@actualwave/event-dispatcher/dist/event-dispatcher.js","webpack:///./source/AbstractDispatcher.js","webpack:///./source/sharedWorker/ClientDispatcher.js","webpack:///./source/DedicatedWorkerDispatcher.js","webpack:///./source/SharedWorkerDispatcher.js","webpack:///./source/sharedWorker/ServerDispatcher.js","webpack:///./source/index.js","webpack:///./node_modules/@actualwave/messageport-dispatcher/dist/messageport-dispatcher.js","webpack:///./source/utils/create.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","WorkerType","DEDICATED_WORKER","SHARED_WORKER","SHARED_WORKER_SERVER","SHARED_WORKER_CLIENT","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","dispatchWorkerErrorEvent","dispatchWorkerEvents","dispatchWorkerEvent","getWorkerEventType","NativeEventTypes","undefined","_eventDispatcher","CONNECT","MESSAGE","ERROR","LANGUAGECHANGE","ONLINE","OFFLINE","WorkerEvent","_Event","type","data","sourceEvent","client","_this","getPrototypeOf","Event","source","target","eventType","handler","event","hasEventListener","dispatchEvent","addEventListener","_EventDispatcher","_EventDispatcher2","obj","_typeof","Symbol","iterator","_createClass","defineProperties","props","length","descriptor","key","protoProps","staticProps","hasOwnProp","arguments","defaultPrevented","ListenersRunner","listeners","onStopped","onComplete","index","immediatelyStopped","stopImmediatePropagation","listener","augmentEvent","clearEvent","eventObject","stopPropagation","EventListeners","_this2","_listeners","_runners","removeRunner","runner","splice","indexOf","priorityOpt","priority","parseInt","getPrioritiesByKey","String","handlers","createList","push","result","priorities","_this3","list","getOwnPropertyNames","handlerIndex","forEach","listenerRemoved","stopped","sort","a","b","_handlers","_runner","createRunner","run","EventDispatcher","eventPreprocessor","noInit","initialize","_eventPreprocessor","add","has","remove","removeAll","getEvent","eventOrType","optionalData","isObject","_get","receiver","Function","desc","getOwnPropertyDescriptor","parent","_messageportDispatcher","_messageportDispatcher2","AbstractDispatcher","_MessagePortDispatche","customPostMessageHandler","receiverEventPreprocessor","senderEventPreprocessor","postMessageHandler","targetOrigin","transferList","postMessage","_interopRequireDefault","_WorkerType","_WorkerType2","_AbstractDispatcher2","_AbstractDispatcher3","ClientDispatcher","_AbstractDispatcher","start","close","_eventDispatcher2","_WorkerEvent","getTarget","worker","Worker","DedicatedWorkerDispatcher","terminate","SharedWorker","SharedWorkerDispatcher","port","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","next","done","err","Array","isArray","_WorkerEvent2","_ClientDispatcher","_ClientDispatcher2","ServerDispatcher","clientReceiverEventPreprocessor","clientSenderEventPreprocessor","_initialiseProps","handleConnect","_receiver","apply","_receiver2","removeEventListener","_receiver3","removeAllEventListeners","_receiver4","_event$ports","ports","CONNECT_EVENT","createForSelf","_DedicatedWorkerDispatcher","_DedicatedWorkerDispatcher2","_SharedWorkerDispatcher","_SharedWorkerDispatcher2","_ServerDispatcher","_ServerDispatcher2","_create","MessagePortEvent","_MessagePortDispatcher","_MessagePortDispatcher2","MessagePortDispatcher","dispatcherId","toJSON","parse","isEvent","sender","Math","ceil","random","Date","now","bind","_messageEventListener","eventJson","_postMessageHandler","nativeEvent","message","JSON","stringify","error","dispatcher","top","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof2","webpackPolyfill","deprecate","paths","children"],"mappings":"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","file":"worker-dispatcher.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"WorkerDispatcher\"] = factory();\n\telse\n\t\troot[\"WorkerDispatcher\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"WorkerDispatcher\"] = factory();\n\telse\n\t\troot[\"WorkerDispatcher\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 8);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar WorkerType = {\n  DEDICATED_WORKER: 'dedicated',\n  SHARED_WORKER: 'shared',\n  /**\r\n   * @private\r\n   */\n  SHARED_WORKER_SERVER: 'sharedServer',\n  /**\r\n   * @private\r\n   */\n  SHARED_WORKER_CLIENT: 'sharedClient'\n};\n\nexports.default = WorkerType;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dispatchWorkerErrorEvent = exports.dispatchWorkerEvents = exports.dispatchWorkerEvent = exports.getWorkerEventType = exports.NativeEventTypes = undefined;\n\nvar _eventDispatcher = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NativeEventTypes = exports.NativeEventTypes = {\n  CONNECT: 'connect',\n  MESSAGE: 'message',\n  ERROR: 'error',\n  LANGUAGECHANGE: 'languagechange',\n  ONLINE: 'online',\n  OFFLINE: 'offline'\n};\n\nvar WorkerEvent = function (_Event) {\n  _inherits(WorkerEvent, _Event);\n\n  function WorkerEvent(type, data, sourceEvent, client) {\n    _classCallCheck(this, WorkerEvent);\n\n    var _this = _possibleConstructorReturn(this, (WorkerEvent.__proto__ || Object.getPrototypeOf(WorkerEvent)).call(this, type, data));\n\n    _this.sourceEvent = sourceEvent;\n    _this.client = client;\n    return _this;\n  }\n\n  return WorkerEvent;\n}(_eventDispatcher.Event);\n\nWorkerEvent.CONNECT = 'worker:connect';\nWorkerEvent.MESSAGE = 'worker:message';\nWorkerEvent.ERROR = 'worker:error';\nWorkerEvent.LANGUAGECHANGE = 'worker:languagechange';\nWorkerEvent.ONLINE = 'worker:online';\nWorkerEvent.OFFLINE = 'worker:offline';\nvar getWorkerEventType = exports.getWorkerEventType = function getWorkerEventType(type) {\n  switch (type) {\n    case NativeEventTypes.CONNECT:\n      return WorkerEvent.CONNECT;\n    case NativeEventTypes.MESSAGE:\n      return WorkerEvent.MESSAGE;\n    case NativeEventTypes.ERROR:\n      return WorkerEvent.ERROR;\n    case NativeEventTypes.LANGUAGECHANGE:\n      return WorkerEvent.LANGUAGECHANGE;\n    case NativeEventTypes.ONLINE:\n      return WorkerEvent.ONLINE;\n    case NativeEventTypes.OFFLINE:\n      return WorkerEvent.OFFLINE;\n    default:\n      return null;\n  }\n};\n\nvar dispatchWorkerEvent = exports.dispatchWorkerEvent = function dispatchWorkerEvent(type, source, target) {\n  var eventType = getWorkerEventType(type);\n  var handler = function handler(event) {\n    if (target.hasEventListener(eventType)) {\n      target.dispatchEvent(new WorkerEvent(eventType, event, event));\n    }\n  };\n\n  source.addEventListener(type, handler);\n  return handler;\n};\n\nvar dispatchWorkerEvents = exports.dispatchWorkerEvents = function dispatchWorkerEvents(source, target) {\n  dispatchWorkerEvent(NativeEventTypes.ERROR, source, target);\n  dispatchWorkerEvent(NativeEventTypes.LANGUAGECHANGE, source, target);\n  dispatchWorkerEvent(NativeEventTypes.ONLINE, source, target);\n  dispatchWorkerEvent(NativeEventTypes.OFFLINE, source, target);\n};\n\nvar dispatchWorkerErrorEvent = exports.dispatchWorkerErrorEvent = function dispatchWorkerErrorEvent(source, target) {\n  dispatchWorkerEvent(NativeEventTypes.ERROR, source, target);\n};\n\nexports.default = WorkerEvent;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"EventDispatcher\"] = factory();\n\telse\n\t\troot[\"EventDispatcher\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Event = undefined;\n\nvar _EventDispatcher = __webpack_require__(1);\n\nvar _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _EventDispatcher2.default;\nexports.Event = _EventDispatcher.Event;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar hasOwnProp = function hasOwnProp(target, name) {\n  return Object.prototype.hasOwnProperty.call(target, name);\n}; /**\r\n    * Created by Oleg Galaburda on 09.02.16.\r\n    * \r\n    */\n\nvar Event = exports.Event = function () {\n  function Event(type) {\n    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    _classCallCheck(this, Event);\n\n    this.type = type;\n    this.data = data;\n    this.defaultPrevented = false;\n  }\n\n  _createClass(Event, [{\n    key: 'toJSON',\n    value: function toJSON() {\n      return { type: this.type, data: this.data };\n    }\n  }, {\n    key: 'isDefaultPrevented',\n    value: function isDefaultPrevented() {\n      return this.defaultPrevented;\n    }\n  }, {\n    key: 'preventDefault',\n    value: function preventDefault() {\n      this.defaultPrevented = true;\n    }\n  }]);\n\n  return Event;\n}();\n\nvar ListenersRunner = function () {\n  function ListenersRunner(listeners, onStopped, onComplete) {\n    var _this = this;\n\n    _classCallCheck(this, ListenersRunner);\n\n    this.index = -1;\n    this.immediatelyStopped = false;\n\n    this.stopImmediatePropagation = function () {\n      _this.immediatelyStopped = true;\n    };\n\n    this.listeners = listeners;\n    this.onStopped = onStopped;\n    this.onComplete = onComplete;\n  }\n\n  _createClass(ListenersRunner, [{\n    key: 'run',\n    value: function run(event, target) {\n      var listener = void 0;\n      var listeners = this.listeners;\n\n      this.augmentEvent(event);\n      // TODO this has to be handled in separate object ListenersRunner that should be\n      // created for each call() call and asked for index validation on each listener remove.\n      for (this.index = 0; this.index < listeners.length; this.index++) {\n        if (this.immediatelyStopped) break;\n        listener = listeners[this.index];\n        listener.call(target, event);\n      }\n      this.clearEvent(event);\n      this.onComplete(this);\n    }\n  }, {\n    key: 'augmentEvent',\n    value: function augmentEvent(eventObject) {\n      var event = eventObject;\n      event.stopPropagation = this.onStopped;\n      event.stopImmediatePropagation = this.stopImmediatePropagation;\n    }\n\n    /* eslint class-methods-use-this: \"off\" */\n\n  }, {\n    key: 'clearEvent',\n    value: function clearEvent(eventObject) {\n      var event = eventObject;\n      delete event.stopPropagation;\n      delete event.stopImmediatePropagation;\n    }\n  }, {\n    key: 'listenerRemoved',\n    value: function listenerRemoved(listeners, index) {\n      if (listeners === this.listeners && index <= this.index) {\n        this.index--;\n      }\n    }\n  }]);\n\n  return ListenersRunner;\n}();\n\nvar EventListeners = function () {\n  function EventListeners() {\n    var _this2 = this;\n\n    _classCallCheck(this, EventListeners);\n\n    this._listeners = {};\n    this._runners = [];\n\n    this.removeRunner = function (runner) {\n      _this2._runners.splice(_this2._runners.indexOf(runner), 1);\n    };\n  }\n  /**\r\n   * key - event Type\r\n   * value - hash of priorities\r\n   *    key - priority\r\n   *    value - list of handlers\r\n   * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n   * @private\r\n   */\n\n\n  _createClass(EventListeners, [{\n    key: 'createList',\n    value: function createList(eventType, priorityOpt) {\n      var priority = parseInt(priorityOpt, 10);\n      var target = this.getPrioritiesByKey(eventType);\n      var key = String(priority);\n      var value = void 0;\n      if (hasOwnProp(target, key)) {\n        value = target[key];\n      } else {\n        value = [];\n        target[key] = value;\n      }\n      return value;\n    }\n  }, {\n    key: 'getPrioritiesByKey',\n    value: function getPrioritiesByKey(key) {\n      var value = void 0;\n      if (hasOwnProp(this._listeners, key)) {\n        value = this._listeners[key];\n      } else {\n        value = {};\n        this._listeners[key] = value;\n      }\n      return value;\n    }\n  }, {\n    key: 'add',\n    value: function add(eventType, handler, priority) {\n      var handlers = this.createList(eventType, priority);\n      if (handlers.indexOf(handler) < 0) {\n        handlers.push(handler);\n      }\n    }\n  }, {\n    key: 'has',\n    value: function has(eventType) {\n      var priority = void 0;\n      var result = false;\n      var priorities = this.getPrioritiesByKey(eventType);\n      if (priorities) {\n        for (priority in priorities) {\n          if (hasOwnProp(priorities, priority)) {\n            result = true;\n            break;\n          }\n        }\n      }\n      return result;\n    }\n  }, {\n    key: 'remove',\n    value: function remove(eventType, handler) {\n      var _this3 = this;\n\n      var priorities = this.getPrioritiesByKey(eventType);\n      if (priorities) {\n        var list = Object.getOwnPropertyNames(priorities);\n        var length = list.length;\n\n        var _loop = function _loop(index) {\n          var priority = list[index];\n          var handlers = priorities[priority];\n          var handlerIndex = handlers.indexOf(handler);\n          if (handlerIndex >= 0) {\n            handlers.splice(handlerIndex, 1);\n            if (!handlers.length) {\n              delete priorities[priority];\n            }\n            _this3._runners.forEach(function (runner) {\n              runner.listenerRemoved(handlers, handlerIndex);\n            });\n          }\n        };\n\n        for (var index = 0; index < length; index++) {\n          _loop(index);\n        }\n      }\n    }\n  }, {\n    key: 'removeAll',\n    value: function removeAll(eventType) {\n      delete this._listeners[eventType];\n    }\n  }, {\n    key: 'createRunner',\n    value: function createRunner(handlers, onStopped) {\n      var runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\n      this._runners.push(runner);\n      return runner;\n    }\n  }, {\n    key: 'call',\n    value: function call(event, target) {\n      var priorities = this.getPrioritiesByKey(event.type);\n      var stopped = false;\n      var stopPropagation = function stopPropagation() {\n        stopped = true;\n      };\n      if (priorities) {\n        // getOwnPropertyNames() or keys()?\n        var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\n          return a - b;\n        });\n        var length = list.length;\n\n        for (var index = 0; index < length; index++) {\n          if (stopped) break;\n          var _handlers = priorities[list[index]];\n          // in case if all handlers of priority were removed while event\n          // was dispatched and handlers become undefined.\n          if (_handlers) {\n            var _runner = this.createRunner(_handlers, stopPropagation);\n            _runner.run(event, target);\n            if (_runner.immediatelyStopped) break;\n          }\n        }\n      }\n    }\n  }]);\n\n  return EventListeners;\n}();\n\nvar EventDispatcher = function () {\n  function EventDispatcher() {\n    var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    _classCallCheck(this, EventDispatcher);\n\n    if (!noInit) {\n      this.initialize(eventPreprocessor);\n    }\n  }\n\n  /**\r\n   * @private\r\n   */\n\n\n  _createClass(EventDispatcher, [{\n    key: 'initialize',\n    value: function initialize() {\n      var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      this._eventPreprocessor = eventPreprocessor;\n      this._listeners = new EventListeners();\n    }\n  }, {\n    key: 'addEventListener',\n    value: function addEventListener(eventType, listener) {\n      var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n      this._listeners.add(eventType, listener, -priority || 0);\n    }\n  }, {\n    key: 'hasEventListener',\n    value: function hasEventListener(eventType) {\n      return this._listeners.has(eventType);\n    }\n  }, {\n    key: 'removeEventListener',\n    value: function removeEventListener(eventType, listener) {\n      this._listeners.remove(eventType, listener);\n    }\n  }, {\n    key: 'removeAllEventListeners',\n    value: function removeAllEventListeners(eventType) {\n      this._listeners.removeAll(eventType);\n    }\n  }, {\n    key: 'dispatchEvent',\n    value: function dispatchEvent(event, data) {\n      var eventObject = EventDispatcher.getEvent(event, data);\n      if (this._eventPreprocessor) {\n        eventObject = this._eventPreprocessor.call(this, eventObject);\n      }\n      this._listeners.call(eventObject);\n    }\n  }], [{\n    key: 'isObject',\n    value: function isObject(value) {\n      return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\n    }\n  }, {\n    key: 'getEvent',\n    value: function getEvent(eventOrType, optionalData) {\n      var event = eventOrType;\n      if (!EventDispatcher.isObject(eventOrType)) {\n        event = new EventDispatcher.Event(String(eventOrType), optionalData);\n      }\n      return event;\n    }\n  }, {\n    key: 'create',\n    value: function create(eventPreprocessor) {\n      return new EventDispatcher(eventPreprocessor);\n    }\n\n    /* eslint no-undef: \"off\" */\n\n  }]);\n\n  return EventDispatcher;\n}();\n\nEventDispatcher.Event = Event;\n\nexports.default = EventDispatcher;\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=event-dispatcher.js.map\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _messageportDispatcher = __webpack_require__(9);\n\nvar _messageportDispatcher2 = _interopRequireDefault(_messageportDispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n *\r\n * @param target {String|Worker}\r\n * @param type {String}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @extends MessagePortDispatcher\r\n * @constructor\r\n */\nvar AbstractDispatcher = function (_MessagePortDispatche) {\n  _inherits(AbstractDispatcher, _MessagePortDispatche);\n\n  function AbstractDispatcher(type) {\n    _classCallCheck(this, AbstractDispatcher);\n\n    var _this = _possibleConstructorReturn(this, (AbstractDispatcher.__proto__ || Object.getPrototypeOf(AbstractDispatcher)).call(this, null, null, null, null, true));\n\n    _this.type = type;\n    return _this;\n  }\n\n  _createClass(AbstractDispatcher, [{\n    key: 'initialize',\n    value: function initialize(target) {\n      var customPostMessageHandler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var receiverEventPreprocessor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var senderEventPreprocessor = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n      var postMessageHandler = function postMessageHandler(data, targetOrigin, transferList) {\n        return target.postMessage(data, transferList);\n      };\n\n      _get(AbstractDispatcher.prototype.__proto__ || Object.getPrototypeOf(AbstractDispatcher.prototype), 'initialize', this).call(this, target, customPostMessageHandler || postMessageHandler, receiverEventPreprocessor, senderEventPreprocessor);\n    }\n  }]);\n\n  return AbstractDispatcher;\n}(_messageportDispatcher2.default);\n\nexports.default = AbstractDispatcher;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _WorkerType = __webpack_require__(0);\n\nvar _WorkerType2 = _interopRequireDefault(_WorkerType);\n\nvar _AbstractDispatcher2 = __webpack_require__(3);\n\nvar _AbstractDispatcher3 = _interopRequireDefault(_AbstractDispatcher2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n * @param target {MessagePort}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @extends MessagePortDispatcher\r\n * @constructor\r\n */\nvar ClientDispatcher = function (_AbstractDispatcher) {\n  _inherits(ClientDispatcher, _AbstractDispatcher);\n\n  function ClientDispatcher(target, receiverEventPreprocessor, senderEventPreprocessor) {\n    _classCallCheck(this, ClientDispatcher);\n\n    var _this = _possibleConstructorReturn(this, (ClientDispatcher.__proto__ || Object.getPrototypeOf(ClientDispatcher)).call(this, _WorkerType2.default.SHARED_WORKER_CLIENT));\n\n    _this.initialize(target, null, receiverEventPreprocessor, senderEventPreprocessor);\n    return _this;\n  }\n\n  _createClass(ClientDispatcher, [{\n    key: 'start',\n    value: function start() {\n      this.target.start();\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      this.target.close();\n    }\n  }]);\n\n  return ClientDispatcher;\n}(_AbstractDispatcher3.default);\n\nexports.default = ClientDispatcher;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventDispatcher = __webpack_require__(2);\n\nvar _eventDispatcher2 = _interopRequireDefault(_eventDispatcher);\n\nvar _WorkerType = __webpack_require__(0);\n\nvar _WorkerType2 = _interopRequireDefault(_WorkerType);\n\nvar _WorkerEvent = __webpack_require__(1);\n\nvar _AbstractDispatcher2 = __webpack_require__(3);\n\nvar _AbstractDispatcher3 = _interopRequireDefault(_AbstractDispatcher2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar getTarget = function getTarget(worker) {\n  // eslint-disable-next-line no-restricted-globals\n  var target = worker || self;\n\n  if (!_eventDispatcher2.default.isObject(target)) {\n    target = new Worker(String(worker));\n  }\n\n  return target;\n};\n\n/**\r\n *\r\n * @param target {Worker|String}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @extends MessagePortDispatcher\r\n * @constructor\r\n */\n\nvar DedicatedWorkerDispatcher = function (_AbstractDispatcher) {\n  _inherits(DedicatedWorkerDispatcher, _AbstractDispatcher);\n\n  function DedicatedWorkerDispatcher(worker, receiverEventPreprocessor, senderEventPreprocessor) {\n    _classCallCheck(this, DedicatedWorkerDispatcher);\n\n    var _this = _possibleConstructorReturn(this, (DedicatedWorkerDispatcher.__proto__ || Object.getPrototypeOf(DedicatedWorkerDispatcher)).call(this, _WorkerType2.default.DEDICATED_WORKER));\n\n    var target = getTarget(worker);\n\n    _this.initialize(target, receiverEventPreprocessor, senderEventPreprocessor);\n    (0, _WorkerEvent.dispatchWorkerEvents)(target, _this.receiver);\n    return _this;\n  }\n\n  _createClass(DedicatedWorkerDispatcher, [{\n    key: 'terminate',\n    value: function terminate() {\n      return this.target.terminate();\n    }\n  }]);\n\n  return DedicatedWorkerDispatcher;\n}(_AbstractDispatcher3.default);\n\nexports.default = DedicatedWorkerDispatcher;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventDispatcher = __webpack_require__(2);\n\nvar _eventDispatcher2 = _interopRequireDefault(_eventDispatcher);\n\nvar _WorkerType = __webpack_require__(0);\n\nvar _WorkerType2 = _interopRequireDefault(_WorkerType);\n\nvar _WorkerEvent = __webpack_require__(1);\n\nvar _AbstractDispatcher2 = __webpack_require__(3);\n\nvar _AbstractDispatcher3 = _interopRequireDefault(_AbstractDispatcher2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar getTarget = function getTarget(target, name) {\n  if (!_eventDispatcher2.default.isObject(target)) {\n    return new SharedWorker(String(target), name);\n  }\n\n  return target;\n};\n\n/**\r\n *\r\n * @param worker {SharedWorker}\r\n * @param name {String}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @extends WorkerMessenger\r\n * @constructor\r\n */\n\nvar SharedWorkerDispatcher = function (_AbstractDispatcher) {\n  _inherits(SharedWorkerDispatcher, _AbstractDispatcher);\n\n  function SharedWorkerDispatcher(target, name, receiverEventPreprocessor, senderEventPreprocessor) {\n    _classCallCheck(this, SharedWorkerDispatcher);\n\n    var _this = _possibleConstructorReturn(this, (SharedWorkerDispatcher.__proto__ || Object.getPrototypeOf(SharedWorkerDispatcher)).call(this, _WorkerType2.default.SHARED_WORKER));\n\n    _this.worker = getTarget(target, name);\n\n    _this.initialize(_this.worker.port, null, receiverEventPreprocessor, senderEventPreprocessor);\n    (0, _WorkerEvent.dispatchWorkerErrorEvent)(_this.worker, _this.receiver);\n    return _this;\n  }\n\n  _createClass(SharedWorkerDispatcher, [{\n    key: 'start',\n    value: function start() {\n      this.target.start();\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      this.target.close();\n    }\n  }]);\n\n  return SharedWorkerDispatcher;\n}(_AbstractDispatcher3.default);\n\nexports.default = SharedWorkerDispatcher;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _eventDispatcher = __webpack_require__(2);\n\nvar _eventDispatcher2 = _interopRequireDefault(_eventDispatcher);\n\nvar _WorkerType = __webpack_require__(0);\n\nvar _WorkerType2 = _interopRequireDefault(_WorkerType);\n\nvar _WorkerEvent = __webpack_require__(1);\n\nvar _WorkerEvent2 = _interopRequireDefault(_WorkerEvent);\n\nvar _ClientDispatcher = __webpack_require__(4);\n\nvar _ClientDispatcher2 = _interopRequireDefault(_ClientDispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * Read-only interface, mainly will listen to \"connect\" event.\r\n * You should listen to WorkerEvent.CONNECT to intercept client\r\n * instance to be able to communicate.\r\n * @param worker\r\n * @param receiverEventPreprocessor {?Function}\r\n * @constructor\r\n */\nvar ServerDispatcher = function ServerDispatcher(target, receiverEventPreprocessor, clientReceiverEventPreprocessor, clientSenderEventPreprocessor) {\n  _classCallCheck(this, ServerDispatcher);\n\n  _initialiseProps.call(this);\n\n  // eslint-disable-next-line no-restricted-globals\n  this.target = target || self;\n  this.clientReceiverEventPreprocessor = clientReceiverEventPreprocessor;\n  this.clientSenderEventPreprocessor = clientSenderEventPreprocessor;\n  this.type = _WorkerType2.default.SHARED_WORKER_SERVER;\n  this.receiver = new _eventDispatcher2.default(receiverEventPreprocessor);\n\n  this.target.addEventListener('connect', this.handleConnect);\n  (0, _WorkerEvent.dispatchWorkerEvents)(this.target, this.receiver);\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this = this;\n\n  this.addEventListener = function () {\n    var _receiver;\n\n    return (_receiver = _this.receiver).addEventListener.apply(_receiver, arguments);\n  };\n\n  this.hasEventListener = function () {\n    var _receiver2;\n\n    return (_receiver2 = _this.receiver).hasEventListener.apply(_receiver2, arguments);\n  };\n\n  this.removeEventListener = function () {\n    var _receiver3;\n\n    return (_receiver3 = _this.receiver).removeEventListener.apply(_receiver3, arguments);\n  };\n\n  this.removeAllEventListeners = function () {\n    var _receiver4;\n\n    return (_receiver4 = _this.receiver).removeAllEventListeners.apply(_receiver4, arguments);\n  };\n\n  this.handleConnect = function (event) {\n    var _event$ports = _slicedToArray(event.ports, 1),\n        target = _event$ports[0];\n\n    var client = new _ClientDispatcher2.default(target, _this.clientReceiverEventPreprocessor, _this.clientSenderEventPreprocessor);\n\n    _this.receiver.dispatchEvent(new _WorkerEvent2.default(_WorkerEvent2.default.CONNECT, client, event, client));\n  };\n};\n\nexports.default = ServerDispatcher;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DedicatedWorkerDispatcher = exports.SharedWorkerDispatcher = exports.ServerDispatcher = exports.ClientDispatcher = exports.WorkerType = exports.WorkerEvent = exports.SHARED_WORKER = exports.DEDICATED_WORKER = exports.CONNECT_EVENT = exports.createForSelf = exports.create = undefined;\n\nvar _WorkerType = __webpack_require__(0);\n\nvar _WorkerType2 = _interopRequireDefault(_WorkerType);\n\nvar _WorkerEvent = __webpack_require__(1);\n\nvar _WorkerEvent2 = _interopRequireDefault(_WorkerEvent);\n\nvar _DedicatedWorkerDispatcher = __webpack_require__(5);\n\nvar _DedicatedWorkerDispatcher2 = _interopRequireDefault(_DedicatedWorkerDispatcher);\n\nvar _SharedWorkerDispatcher = __webpack_require__(6);\n\nvar _SharedWorkerDispatcher2 = _interopRequireDefault(_SharedWorkerDispatcher);\n\nvar _ClientDispatcher = __webpack_require__(4);\n\nvar _ClientDispatcher2 = _interopRequireDefault(_ClientDispatcher);\n\nvar _ServerDispatcher = __webpack_require__(7);\n\nvar _ServerDispatcher2 = _interopRequireDefault(_ServerDispatcher);\n\nvar _create = __webpack_require__(10);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CONNECT_EVENT = _WorkerEvent2.default.CONNECT;\nvar DEDICATED_WORKER = _WorkerType2.default.DEDICATED_WORKER;\nvar SHARED_WORKER = _WorkerType2.default.SHARED_WORKER;\nexports.default = _DedicatedWorkerDispatcher2.default;\nexports.create = _create.create;\nexports.createForSelf = _create.createForSelf;\nexports.CONNECT_EVENT = CONNECT_EVENT;\nexports.DEDICATED_WORKER = DEDICATED_WORKER;\nexports.SHARED_WORKER = SHARED_WORKER;\nexports.WorkerEvent = _WorkerEvent2.default;\nexports.WorkerType = _WorkerType2.default;\nexports.ClientDispatcher = _ClientDispatcher2.default;\nexports.ServerDispatcher = _ServerDispatcher2.default;\nexports.SharedWorkerDispatcher = _SharedWorkerDispatcher2.default;\nexports.DedicatedWorkerDispatcher = _DedicatedWorkerDispatcher2.default;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MessagePortDispatcher\"] = factory();\n\telse\n\t\troot[\"MessagePortDispatcher\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = exports.self = exports.MessagePortEvent = undefined;\n\nvar _MessagePortDispatcher = __webpack_require__(1);\n\nvar _MessagePortDispatcher2 = _interopRequireDefault(_MessagePortDispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar self = _MessagePortDispatcher2.default.self,\n    create = _MessagePortDispatcher2.default.create;\nexports.default = _MessagePortDispatcher2.default;\nexports.MessagePortEvent = _MessagePortDispatcher.MessagePortEvent;\nexports.self = self;\nexports.create = create;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MessagePortDispatcher = exports.MessagePortEvent = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Created by Oleg Galaburda on 09.02.16.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _eventDispatcher = __webpack_require__(2);\n\nvar _eventDispatcher2 = _interopRequireDefault(_eventDispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MessagePortEvent = exports.MessagePortEvent = function () {\n  function MessagePortEvent(event, dispatcherId) {\n    _classCallCheck(this, MessagePortEvent);\n\n    this.event = event;\n    this.dispatcherId = dispatcherId;\n  }\n\n  _createClass(MessagePortEvent, [{\n    key: 'toJSON',\n    value: function toJSON() {\n      return {\n        /* eslint no-use-before-define:0 */\n        event: MessagePortDispatcher.toJSON(this.event),\n        dispatcherId: this.dispatcherId\n      };\n    }\n  }], [{\n    key: 'parse',\n    value: function parse(object) {\n      /* eslint no-use-before-define:0 */\n      var result = MessagePortDispatcher.parse(object);\n      if (MessagePortEvent.isEvent(result)) {\n        /* eslint no-use-before-define:0 */\n        result.event = MessagePortDispatcher.parse(result.event);\n      } else {\n        result = null;\n      }\n      return result;\n    }\n  }, {\n    key: 'isEvent',\n    value: function isEvent(object) {\n      return _eventDispatcher2.default.isObject(object) && Object.prototype.hasOwnProperty.call(object, 'dispatcherId') && Object.prototype.hasOwnProperty.call(object, 'event');\n    }\n  }]);\n\n  return MessagePortEvent;\n}();\n\nvar MessagePortDispatcher = exports.MessagePortDispatcher = function (_EventDispatcher) {\n  _inherits(MessagePortDispatcher, _EventDispatcher);\n\n  /**\r\n   *\r\n   * @param target {Window|Worker|MessagePort}\r\n   * @param customPostMessageHandler {?Function} Function that receive message object\r\n   *        and pass it to MessagePort.postMessage()\r\n   * @param receiverEventPreprocessor {?Function} Function that pre-process\r\n   *        all events received from MessagePort, before passing to listeners\r\n   * @param senderEventPreprocessor Function that pre-process all events sent\r\n   *        to MessagePort\r\n   * @constructor\r\n   */\n  function MessagePortDispatcher(target) {\n    var customPostMessageHandler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var receiverEventPreprocessor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var senderEventPreprocessor = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    var noInit = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n    _classCallCheck(this, MessagePortDispatcher);\n\n    var _this = _possibleConstructorReturn(this, (MessagePortDispatcher.__proto__ || Object.getPrototypeOf(MessagePortDispatcher)).call(this, null, true));\n\n    if (!noInit) {\n      _this.initialize(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor);\n    }\n    return _this;\n  }\n\n  /**\r\n   * @private\r\n   */\n\n\n  _createClass(MessagePortDispatcher, [{\n    key: 'initialize',\n    value: function initialize(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor) {\n      this.target = target || self;\n      this._handlers = {\n        customPostMessageHandler: customPostMessageHandler,\n        senderEventPreprocessor: senderEventPreprocessor\n      };\n      this.sender = _eventDispatcher2.default.create();\n      this.receiver = _eventDispatcher2.default.create(receiverEventPreprocessor);\n      this.dispatcherId = 'MP/' + Math.ceil(Math.random() * 10000) + '/' + Date.now();\n      this.targetOrigin = '*';\n      this.addEventListener = this.receiver.addEventListener.bind(this.receiver);\n      this.hasEventListener = this.receiver.hasEventListener.bind(this.receiver);\n      this.removeEventListener = this.receiver.removeEventListener.bind(this.receiver);\n      this.removeAllEventListeners = this.receiver.removeAllEventListeners.bind(this.receiver);\n\n      target.addEventListener('message', this._messageEventListener.bind(this));\n    }\n  }, {\n    key: 'dispatchEvent',\n    value: function dispatchEvent(eventType, data, transferList) {\n      var event = _eventDispatcher2.default.getEvent(eventType, data);\n      if (this._handlers.senderEventPreprocessor) {\n        event = this._handlers.senderEventPreprocessor.call(this, event);\n      }\n      var eventJson = MessagePortDispatcher.toJSON(new MessagePortEvent(event, this.dispatcherId));\n      this._postMessageHandler(eventJson, transferList);\n    }\n  }, {\n    key: '_postMessageHandler',\n    value: function _postMessageHandler(data, transferList) {\n      var handler = this._handlers.customPostMessageHandler;\n      if (handler) {\n        handler.call(this, data, this.targetOrigin, transferList);\n      } else {\n        this.target.postMessage(data, this.targetOrigin, transferList);\n      }\n    }\n  }, {\n    key: '_messageEventListener',\n    value: function _messageEventListener(event) {\n      // fixme .nativeEvent react-native thing, need a way to find out keep it or exclude\n      event = event.nativeEvent || event;\n      var message = MessagePortEvent.parse(event.data);\n      if (message) {\n        if (message.dispatcherId === this.dispatcherId) {\n          this.sender.dispatchEvent(message.event);\n        } else {\n          this.receiver.dispatchEvent(message.event);\n        }\n      }\n    }\n\n    /**\r\n     * If toJSON method implemented on object, it will be called instead of converting to JSON string.\r\n     * This was made to utilize structured cloning algorithm for raw objects.\r\n     * https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\r\n     * In this case developer is responsible for converting linked objects.\r\n     * @param object\r\n     * @returns {Object|String}\r\n     */\n\n  }], [{\n    key: 'toJSON',\n    value: function toJSON(object) {\n      var objectJson = void 0;\n      if (typeof object.toJSON === 'function') {\n        objectJson = object.toJSON();\n      } else {\n        objectJson = JSON.stringify(object);\n      }\n      return objectJson;\n    }\n\n    /**\r\n     *\r\n     * @param data {Object|String}\r\n     * @returns {Object}\r\n     */\n\n  }, {\n    key: 'parse',\n    value: function parse(data) {\n      var object = void 0; // keep it undefined in case of error\n      if (_eventDispatcher2.default.isObject(data)) {\n        object = data;\n      } else {\n        try {\n          object = JSON.parse(data);\n        } catch (error) {\n          // this isn't an event we are waiting for.\n        }\n      }\n      return object;\n    }\n  }, {\n    key: 'create',\n    value: function create(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor) {\n      return new MessagePortDispatcher(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor);\n    }\n  }]);\n\n  return MessagePortDispatcher;\n}(_eventDispatcher2.default);\n\nvar factory = function factory(getTarget) {\n  var dispatcher = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return function () {\n    if (!dispatcher) {\n      dispatcher = MessagePortDispatcher.create(getTarget());\n    }\n    return dispatcher;\n  };\n};\n\nMessagePortDispatcher.self = factory(function () {\n  return self;\n});\nMessagePortDispatcher.parent = factory(function () {\n  return parent;\n});\nMessagePortDispatcher.top = factory(function () {\n  return top;\n});\nMessagePortDispatcher.MessagePortEvent = MessagePortEvent;\n\nexports.default = MessagePortDispatcher;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (( false ? 'undefined' : _typeof2(exports)) === 'object' && ( false ? 'undefined' : _typeof2(module)) === 'object') module.exports = factory();else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else if ((typeof exports === 'undefined' ? 'undefined' : _typeof2(exports)) === 'object') exports[\"EventDispatcher\"] = factory();else root[\"EventDispatcher\"] = factory();\n})(undefined, function () {\n  return (/******/function (modules) {\n      // webpackBootstrap\n      /******/ // The module cache\n      /******/var installedModules = {};\n      /******/\n      /******/ // The require function\n      /******/function __webpack_require__(moduleId) {\n        /******/\n        /******/ // Check if module is in cache\n        /******/if (installedModules[moduleId]) {\n          /******/return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/ // Create a new module (and put it into the cache)\n        /******/var module = installedModules[moduleId] = {\n          /******/i: moduleId,\n          /******/l: false,\n          /******/exports: {}\n          /******/ };\n        /******/\n        /******/ // Execute the module function\n        /******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        /******/ // Flag the module as loaded\n        /******/module.l = true;\n        /******/\n        /******/ // Return the exports of the module\n        /******/return module.exports;\n        /******/\n      }\n      /******/\n      /******/\n      /******/ // expose the modules object (__webpack_modules__)\n      /******/__webpack_require__.m = modules;\n      /******/\n      /******/ // expose the module cache\n      /******/__webpack_require__.c = installedModules;\n      /******/\n      /******/ // define getter function for harmony exports\n      /******/__webpack_require__.d = function (exports, name, getter) {\n        /******/if (!__webpack_require__.o(exports, name)) {\n          /******/Object.defineProperty(exports, name, {\n            /******/configurable: false,\n            /******/enumerable: true,\n            /******/get: getter\n            /******/ });\n          /******/\n        }\n        /******/\n      };\n      /******/\n      /******/ // getDefaultExport function for compatibility with non-harmony modules\n      /******/__webpack_require__.n = function (module) {\n        /******/var getter = module && module.__esModule ?\n        /******/function getDefault() {\n          return module['default'];\n        } :\n        /******/function getModuleExports() {\n          return module;\n        };\n        /******/__webpack_require__.d(getter, 'a', getter);\n        /******/return getter;\n        /******/\n      };\n      /******/\n      /******/ // Object.prototype.hasOwnProperty.call\n      /******/__webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n      /******/ // __webpack_public_path__\n      /******/__webpack_require__.p = \"http://localhost:8081/dist/\";\n      /******/\n      /******/ // Load entry module and return exports\n      /******/return __webpack_require__(__webpack_require__.s = 0);\n      /******/\n    }(\n    /************************************************************************/\n    /******/[\n    /* 0 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Event = undefined;\n\n      var _EventDispatcher = __webpack_require__(1);\n\n      var _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : { default: obj };\n      }\n\n      exports.default = _EventDispatcher2.default;\n      exports.Event = _EventDispatcher.Event;\n\n      /***/\n    },\n    /* 1 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n        return typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n        };\n      }();\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var hasOwnProp = function hasOwnProp(target, name) {\n        return Object.prototype.hasOwnProperty.call(target, name);\n      }; /**\r\n          * Created by Oleg Galaburda on 09.02.16.\r\n          * \r\n          */\n\n      var Event = exports.Event = function () {\n        function Event(type) {\n          var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n          _classCallCheck(this, Event);\n\n          this.type = type;\n          this.data = data;\n          this.defaultPrevented = false;\n        }\n\n        _createClass(Event, [{\n          key: 'toJSON',\n          value: function toJSON() {\n            return { type: this.type, data: this.data };\n          }\n        }, {\n          key: 'isDefaultPrevented',\n          value: function isDefaultPrevented() {\n            return this.defaultPrevented;\n          }\n        }, {\n          key: 'preventDefault',\n          value: function preventDefault() {\n            this.defaultPrevented = true;\n          }\n        }]);\n\n        return Event;\n      }();\n\n      var ListenersRunner = function () {\n        function ListenersRunner(listeners, onStopped, onComplete) {\n          var _this = this;\n\n          _classCallCheck(this, ListenersRunner);\n\n          this.index = -1;\n          this.immediatelyStopped = false;\n\n          this.stopImmediatePropagation = function () {\n            _this.immediatelyStopped = true;\n          };\n\n          this.listeners = listeners;\n          this.onStopped = onStopped;\n          this.onComplete = onComplete;\n        }\n\n        _createClass(ListenersRunner, [{\n          key: 'run',\n          value: function run(event, target) {\n            var listener = void 0;\n            var listeners = this.listeners;\n\n            this.augmentEvent(event);\n            // TODO this has to be handled in separate object ListenersRunner that should be\n            // created for each call() call and asked for index validation on each listener remove.\n            for (this.index = 0; this.index < listeners.length; this.index++) {\n              if (this.immediatelyStopped) break;\n              listener = listeners[this.index];\n              listener.call(target, event);\n            }\n            this.clearEvent(event);\n            this.onComplete(this);\n          }\n        }, {\n          key: 'augmentEvent',\n          value: function augmentEvent(eventObject) {\n            var event = eventObject;\n            event.stopPropagation = this.onStopped;\n            event.stopImmediatePropagation = this.stopImmediatePropagation;\n          }\n\n          /* eslint class-methods-use-this: \"off\" */\n\n        }, {\n          key: 'clearEvent',\n          value: function clearEvent(eventObject) {\n            var event = eventObject;\n            delete event.stopPropagation;\n            delete event.stopImmediatePropagation;\n          }\n        }, {\n          key: 'listenerRemoved',\n          value: function listenerRemoved(listeners, index) {\n            if (listeners === this.listeners && index <= this.index) {\n              this.index--;\n            }\n          }\n        }]);\n\n        return ListenersRunner;\n      }();\n\n      var EventListeners = function () {\n        function EventListeners() {\n          var _this2 = this;\n\n          _classCallCheck(this, EventListeners);\n\n          this._listeners = {};\n          this._runners = [];\n\n          this.removeRunner = function (runner) {\n            _this2._runners.splice(_this2._runners.indexOf(runner), 1);\n          };\n        }\n        /**\r\n         * key - event Type\r\n         * value - hash of priorities\r\n         *    key - priority\r\n         *    value - list of handlers\r\n         * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n         * @private\r\n         */\n\n        _createClass(EventListeners, [{\n          key: 'createList',\n          value: function createList(eventType, priorityOpt) {\n            var priority = parseInt(priorityOpt, 10);\n            var target = this.getPrioritiesByKey(eventType);\n            var key = String(priority);\n            var value = void 0;\n            if (hasOwnProp(target, key)) {\n              value = target[key];\n            } else {\n              value = [];\n              target[key] = value;\n            }\n            return value;\n          }\n        }, {\n          key: 'getPrioritiesByKey',\n          value: function getPrioritiesByKey(key) {\n            var value = void 0;\n            if (hasOwnProp(this._listeners, key)) {\n              value = this._listeners[key];\n            } else {\n              value = {};\n              this._listeners[key] = value;\n            }\n            return value;\n          }\n        }, {\n          key: 'add',\n          value: function add(eventType, handler, priority) {\n            var handlers = this.createList(eventType, priority);\n            if (handlers.indexOf(handler) < 0) {\n              handlers.push(handler);\n            }\n          }\n        }, {\n          key: 'has',\n          value: function has(eventType) {\n            var priority = void 0;\n            var result = false;\n            var priorities = this.getPrioritiesByKey(eventType);\n            if (priorities) {\n              for (priority in priorities) {\n                if (hasOwnProp(priorities, priority)) {\n                  result = true;\n                  break;\n                }\n              }\n            }\n            return result;\n          }\n        }, {\n          key: 'remove',\n          value: function remove(eventType, handler) {\n            var _this3 = this;\n\n            var priorities = this.getPrioritiesByKey(eventType);\n            if (priorities) {\n              var list = Object.getOwnPropertyNames(priorities);\n              var length = list.length;\n\n              var _loop = function _loop(index) {\n                var priority = list[index];\n                var handlers = priorities[priority];\n                var handlerIndex = handlers.indexOf(handler);\n                if (handlerIndex >= 0) {\n                  handlers.splice(handlerIndex, 1);\n                  if (!handlers.length) {\n                    delete priorities[priority];\n                  }\n                  _this3._runners.forEach(function (runner) {\n                    runner.listenerRemoved(handlers, handlerIndex);\n                  });\n                }\n              };\n\n              for (var index = 0; index < length; index++) {\n                _loop(index);\n              }\n            }\n          }\n        }, {\n          key: 'removeAll',\n          value: function removeAll(eventType) {\n            delete this._listeners[eventType];\n          }\n        }, {\n          key: 'createRunner',\n          value: function createRunner(handlers, onStopped) {\n            var runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\n            this._runners.push(runner);\n            return runner;\n          }\n        }, {\n          key: 'call',\n          value: function call(event, target) {\n            var priorities = this.getPrioritiesByKey(event.type);\n            var stopped = false;\n            var stopPropagation = function stopPropagation() {\n              stopped = true;\n            };\n            if (priorities) {\n              // getOwnPropertyNames() or keys()?\n              var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\n                return a - b;\n              });\n              var length = list.length;\n\n              for (var index = 0; index < length; index++) {\n                if (stopped) break;\n                var _handlers = priorities[list[index]];\n                // in case if all handlers of priority were removed while event\n                // was dispatched and handlers become undefined.\n                if (_handlers) {\n                  var _runner = this.createRunner(_handlers, stopPropagation);\n                  _runner.run(event, target);\n                  if (_runner.immediatelyStopped) break;\n                }\n              }\n            }\n          }\n        }]);\n\n        return EventListeners;\n      }();\n\n      var EventDispatcher = function () {\n        function EventDispatcher() {\n          var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n          var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n          _classCallCheck(this, EventDispatcher);\n\n          if (!noInit) {\n            this.initialize(eventPreprocessor);\n          }\n        }\n\n        /**\r\n         * @private\r\n         */\n\n        _createClass(EventDispatcher, [{\n          key: 'initialize',\n          value: function initialize() {\n            var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n            this._eventPreprocessor = eventPreprocessor;\n            this._listeners = new EventListeners();\n          }\n        }, {\n          key: 'addEventListener',\n          value: function addEventListener(eventType, listener) {\n            var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n            this._listeners.add(eventType, listener, -priority || 0);\n          }\n        }, {\n          key: 'hasEventListener',\n          value: function hasEventListener(eventType) {\n            return this._listeners.has(eventType);\n          }\n        }, {\n          key: 'removeEventListener',\n          value: function removeEventListener(eventType, listener) {\n            this._listeners.remove(eventType, listener);\n          }\n        }, {\n          key: 'removeAllEventListeners',\n          value: function removeAllEventListeners(eventType) {\n            this._listeners.removeAll(eventType);\n          }\n        }, {\n          key: 'dispatchEvent',\n          value: function dispatchEvent(event, data) {\n            var eventObject = EventDispatcher.getEvent(event, data);\n            if (this._eventPreprocessor) {\n              eventObject = this._eventPreprocessor.call(this, eventObject);\n            }\n            this._listeners.call(eventObject);\n          }\n        }], [{\n          key: 'isObject',\n          value: function isObject(value) {\n            return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\n          }\n        }, {\n          key: 'getEvent',\n          value: function getEvent(eventOrType, optionalData) {\n            var event = eventOrType;\n            if (!EventDispatcher.isObject(eventOrType)) {\n              event = new EventDispatcher.Event(String(eventOrType), optionalData);\n            }\n            return event;\n          }\n        }, {\n          key: 'create',\n          value: function create(eventPreprocessor) {\n            return new EventDispatcher(eventPreprocessor);\n          }\n\n          /* eslint no-undef: \"off\" */\n\n        }]);\n\n        return EventDispatcher;\n      }();\n\n      EventDispatcher.Event = Event;\n\n      exports.default = EventDispatcher;\n\n      /***/\n    }]\n    /******/)\n  );\n});\n//# sourceMappingURL=event-dispatcher.js.map\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)(module)))\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function () {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function get() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function get() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=messageport-dispatcher.js.map\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createForSelf = exports.create = undefined;\n\nvar _WorkerType = __webpack_require__(0);\n\nvar _WorkerType2 = _interopRequireDefault(_WorkerType);\n\nvar _DedicatedWorkerDispatcher = __webpack_require__(5);\n\nvar _DedicatedWorkerDispatcher2 = _interopRequireDefault(_DedicatedWorkerDispatcher);\n\nvar _SharedWorkerDispatcher = __webpack_require__(6);\n\nvar _SharedWorkerDispatcher2 = _interopRequireDefault(_SharedWorkerDispatcher);\n\nvar _ClientDispatcher = __webpack_require__(4);\n\nvar _ClientDispatcher2 = _interopRequireDefault(_ClientDispatcher);\n\nvar _ServerDispatcher = __webpack_require__(7);\n\nvar _ServerDispatcher2 = _interopRequireDefault(_ServerDispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n *\r\n * @param worker {String|Worker|SharedWorker|MessagePort}\r\n * @param type {String}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @returns {AbstractDispatcher}\r\n */\nvar create = exports.create = function create(target, type, receiverEventPreprocessor, senderEventPreprocessor) {\n  var dispatcher = null;\n  switch (type) {\n    default:\n    case _WorkerType2.default.DEDICATED_WORKER:\n      dispatcher = new _DedicatedWorkerDispatcher2.default(target, receiverEventPreprocessor, senderEventPreprocessor);\n      break;\n    case _WorkerType2.default.SHARED_WORKER:\n      dispatcher = new _SharedWorkerDispatcher2.default(target, null, receiverEventPreprocessor, senderEventPreprocessor);\n      break;\n    case _WorkerType2.default.SHARED_WORKER_SERVER:\n      dispatcher = new _ServerDispatcher2.default(target, receiverEventPreprocessor);\n      break;\n    case _WorkerType2.default.SHARED_WORKER_CLIENT:\n      dispatcher = new _ClientDispatcher2.default(target, receiverEventPreprocessor, senderEventPreprocessor);\n      break;\n  }\n  return dispatcher;\n};\n\n/**\r\n *\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @returns {AbstractDispatcher}\r\n */\nvar createForSelf = exports.createForSelf = function createForSelf(receiverEventPreprocessor, senderEventPreprocessor) {\n  /* eslint-disable no-restricted-globals */\n  var dispatcher = null;\n  if (typeof self.postMessage === 'function') {\n    dispatcher = new _DedicatedWorkerDispatcher2.default(self, receiverEventPreprocessor, senderEventPreprocessor);\n  } else {\n    dispatcher = new _ServerDispatcher2.default(self, receiverEventPreprocessor);\n  }\n  return dispatcher;\n  /* eslint-enable no-restricted-globals */\n};\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// worker-dispatcher.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a3697cc3e24f249b8bc7","const WorkerType = {\r\n  DEDICATED_WORKER: 'dedicated',\r\n  SHARED_WORKER: 'shared',\r\n  /**\r\n   * @private\r\n   */\r\n  SHARED_WORKER_SERVER: 'sharedServer',\r\n  /**\r\n   * @private\r\n   */\r\n  SHARED_WORKER_CLIENT: 'sharedClient',\r\n};\r\n\r\nexport default WorkerType;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/WorkerType.js","import { Event } from '@actualwave/event-dispatcher';\r\n\r\nexport const NativeEventTypes = {\r\n  CONNECT: 'connect',\r\n  MESSAGE: 'message',\r\n  ERROR: 'error',\r\n  LANGUAGECHANGE: 'languagechange',\r\n  ONLINE: 'online',\r\n  OFFLINE: 'offline',\r\n};\r\n\r\nclass WorkerEvent extends Event {\r\n  static CONNECT = 'worker:connect';\r\n  static MESSAGE = 'worker:message';\r\n  static ERROR = 'worker:error';\r\n  static LANGUAGECHANGE = 'worker:languagechange';\r\n  static ONLINE = 'worker:online';\r\n  static OFFLINE = 'worker:offline';\r\n\r\n  constructor(type, data, sourceEvent, client) {\r\n    super(type, data);\r\n    this.sourceEvent = sourceEvent;\r\n    this.client = client;\r\n  }\r\n}\r\n\r\nexport const getWorkerEventType = (type) => {\r\n  switch (type) {\r\n    case NativeEventTypes.CONNECT:\r\n      return WorkerEvent.CONNECT;\r\n    case NativeEventTypes.MESSAGE:\r\n      return WorkerEvent.MESSAGE;\r\n    case NativeEventTypes.ERROR:\r\n      return WorkerEvent.ERROR;\r\n    case NativeEventTypes.LANGUAGECHANGE:\r\n      return WorkerEvent.LANGUAGECHANGE;\r\n    case NativeEventTypes.ONLINE:\r\n      return WorkerEvent.ONLINE;\r\n    case NativeEventTypes.OFFLINE:\r\n      return WorkerEvent.OFFLINE;\r\n    default:\r\n      return null;\r\n  }\r\n};\r\n\r\nexport const dispatchWorkerEvent = (type, source, target) => {\r\n  const eventType = getWorkerEventType(type);\r\n  const handler = (event) => {\r\n    if (target.hasEventListener(eventType)) {\r\n      target.dispatchEvent(new WorkerEvent(eventType, event, event));\r\n    }\r\n  };\r\n\r\n  source.addEventListener(type, handler);\r\n  return handler;\r\n};\r\n\r\nexport const dispatchWorkerEvents = (source, target) => {\r\n  dispatchWorkerEvent(NativeEventTypes.ERROR, source, target);\r\n  dispatchWorkerEvent(NativeEventTypes.LANGUAGECHANGE, source, target);\r\n  dispatchWorkerEvent(NativeEventTypes.ONLINE, source, target);\r\n  dispatchWorkerEvent(NativeEventTypes.OFFLINE, source, target);\r\n};\r\n\r\nexport const dispatchWorkerErrorEvent = (source, target) => {\r\n  dispatchWorkerEvent(NativeEventTypes.ERROR, source, target);\r\n};\r\n\r\nexport default WorkerEvent;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/WorkerEvent.js","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"EventDispatcher\"] = factory();\n\telse\n\t\troot[\"EventDispatcher\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Event = undefined;\n\nvar _EventDispatcher = __webpack_require__(1);\n\nvar _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _EventDispatcher2.default;\nexports.Event = _EventDispatcher.Event;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar hasOwnProp = function hasOwnProp(target, name) {\n  return Object.prototype.hasOwnProperty.call(target, name);\n}; /**\r\n    * Created by Oleg Galaburda on 09.02.16.\r\n    * \r\n    */\n\nvar Event = exports.Event = function () {\n  function Event(type) {\n    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    _classCallCheck(this, Event);\n\n    this.type = type;\n    this.data = data;\n    this.defaultPrevented = false;\n  }\n\n  _createClass(Event, [{\n    key: 'toJSON',\n    value: function toJSON() {\n      return { type: this.type, data: this.data };\n    }\n  }, {\n    key: 'isDefaultPrevented',\n    value: function isDefaultPrevented() {\n      return this.defaultPrevented;\n    }\n  }, {\n    key: 'preventDefault',\n    value: function preventDefault() {\n      this.defaultPrevented = true;\n    }\n  }]);\n\n  return Event;\n}();\n\nvar ListenersRunner = function () {\n  function ListenersRunner(listeners, onStopped, onComplete) {\n    var _this = this;\n\n    _classCallCheck(this, ListenersRunner);\n\n    this.index = -1;\n    this.immediatelyStopped = false;\n\n    this.stopImmediatePropagation = function () {\n      _this.immediatelyStopped = true;\n    };\n\n    this.listeners = listeners;\n    this.onStopped = onStopped;\n    this.onComplete = onComplete;\n  }\n\n  _createClass(ListenersRunner, [{\n    key: 'run',\n    value: function run(event, target) {\n      var listener = void 0;\n      var listeners = this.listeners;\n\n      this.augmentEvent(event);\n      // TODO this has to be handled in separate object ListenersRunner that should be\n      // created for each call() call and asked for index validation on each listener remove.\n      for (this.index = 0; this.index < listeners.length; this.index++) {\n        if (this.immediatelyStopped) break;\n        listener = listeners[this.index];\n        listener.call(target, event);\n      }\n      this.clearEvent(event);\n      this.onComplete(this);\n    }\n  }, {\n    key: 'augmentEvent',\n    value: function augmentEvent(eventObject) {\n      var event = eventObject;\n      event.stopPropagation = this.onStopped;\n      event.stopImmediatePropagation = this.stopImmediatePropagation;\n    }\n\n    /* eslint class-methods-use-this: \"off\" */\n\n  }, {\n    key: 'clearEvent',\n    value: function clearEvent(eventObject) {\n      var event = eventObject;\n      delete event.stopPropagation;\n      delete event.stopImmediatePropagation;\n    }\n  }, {\n    key: 'listenerRemoved',\n    value: function listenerRemoved(listeners, index) {\n      if (listeners === this.listeners && index <= this.index) {\n        this.index--;\n      }\n    }\n  }]);\n\n  return ListenersRunner;\n}();\n\nvar EventListeners = function () {\n  function EventListeners() {\n    var _this2 = this;\n\n    _classCallCheck(this, EventListeners);\n\n    this._listeners = {};\n    this._runners = [];\n\n    this.removeRunner = function (runner) {\n      _this2._runners.splice(_this2._runners.indexOf(runner), 1);\n    };\n  }\n  /**\r\n   * key - event Type\r\n   * value - hash of priorities\r\n   *    key - priority\r\n   *    value - list of handlers\r\n   * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n   * @private\r\n   */\n\n\n  _createClass(EventListeners, [{\n    key: 'createList',\n    value: function createList(eventType, priorityOpt) {\n      var priority = parseInt(priorityOpt, 10);\n      var target = this.getPrioritiesByKey(eventType);\n      var key = String(priority);\n      var value = void 0;\n      if (hasOwnProp(target, key)) {\n        value = target[key];\n      } else {\n        value = [];\n        target[key] = value;\n      }\n      return value;\n    }\n  }, {\n    key: 'getPrioritiesByKey',\n    value: function getPrioritiesByKey(key) {\n      var value = void 0;\n      if (hasOwnProp(this._listeners, key)) {\n        value = this._listeners[key];\n      } else {\n        value = {};\n        this._listeners[key] = value;\n      }\n      return value;\n    }\n  }, {\n    key: 'add',\n    value: function add(eventType, handler, priority) {\n      var handlers = this.createList(eventType, priority);\n      if (handlers.indexOf(handler) < 0) {\n        handlers.push(handler);\n      }\n    }\n  }, {\n    key: 'has',\n    value: function has(eventType) {\n      var priority = void 0;\n      var result = false;\n      var priorities = this.getPrioritiesByKey(eventType);\n      if (priorities) {\n        for (priority in priorities) {\n          if (hasOwnProp(priorities, priority)) {\n            result = true;\n            break;\n          }\n        }\n      }\n      return result;\n    }\n  }, {\n    key: 'remove',\n    value: function remove(eventType, handler) {\n      var _this3 = this;\n\n      var priorities = this.getPrioritiesByKey(eventType);\n      if (priorities) {\n        var list = Object.getOwnPropertyNames(priorities);\n        var length = list.length;\n\n        var _loop = function _loop(index) {\n          var priority = list[index];\n          var handlers = priorities[priority];\n          var handlerIndex = handlers.indexOf(handler);\n          if (handlerIndex >= 0) {\n            handlers.splice(handlerIndex, 1);\n            if (!handlers.length) {\n              delete priorities[priority];\n            }\n            _this3._runners.forEach(function (runner) {\n              runner.listenerRemoved(handlers, handlerIndex);\n            });\n          }\n        };\n\n        for (var index = 0; index < length; index++) {\n          _loop(index);\n        }\n      }\n    }\n  }, {\n    key: 'removeAll',\n    value: function removeAll(eventType) {\n      delete this._listeners[eventType];\n    }\n  }, {\n    key: 'createRunner',\n    value: function createRunner(handlers, onStopped) {\n      var runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\n      this._runners.push(runner);\n      return runner;\n    }\n  }, {\n    key: 'call',\n    value: function call(event, target) {\n      var priorities = this.getPrioritiesByKey(event.type);\n      var stopped = false;\n      var stopPropagation = function stopPropagation() {\n        stopped = true;\n      };\n      if (priorities) {\n        // getOwnPropertyNames() or keys()?\n        var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\n          return a - b;\n        });\n        var length = list.length;\n\n        for (var index = 0; index < length; index++) {\n          if (stopped) break;\n          var _handlers = priorities[list[index]];\n          // in case if all handlers of priority were removed while event\n          // was dispatched and handlers become undefined.\n          if (_handlers) {\n            var _runner = this.createRunner(_handlers, stopPropagation);\n            _runner.run(event, target);\n            if (_runner.immediatelyStopped) break;\n          }\n        }\n      }\n    }\n  }]);\n\n  return EventListeners;\n}();\n\nvar EventDispatcher = function () {\n  function EventDispatcher() {\n    var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    _classCallCheck(this, EventDispatcher);\n\n    if (!noInit) {\n      this.initialize(eventPreprocessor);\n    }\n  }\n\n  /**\r\n   * @private\r\n   */\n\n\n  _createClass(EventDispatcher, [{\n    key: 'initialize',\n    value: function initialize() {\n      var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      this._eventPreprocessor = eventPreprocessor;\n      this._listeners = new EventListeners();\n    }\n  }, {\n    key: 'addEventListener',\n    value: function addEventListener(eventType, listener) {\n      var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n      this._listeners.add(eventType, listener, -priority || 0);\n    }\n  }, {\n    key: 'hasEventListener',\n    value: function hasEventListener(eventType) {\n      return this._listeners.has(eventType);\n    }\n  }, {\n    key: 'removeEventListener',\n    value: function removeEventListener(eventType, listener) {\n      this._listeners.remove(eventType, listener);\n    }\n  }, {\n    key: 'removeAllEventListeners',\n    value: function removeAllEventListeners(eventType) {\n      this._listeners.removeAll(eventType);\n    }\n  }, {\n    key: 'dispatchEvent',\n    value: function dispatchEvent(event, data) {\n      var eventObject = EventDispatcher.getEvent(event, data);\n      if (this._eventPreprocessor) {\n        eventObject = this._eventPreprocessor.call(this, eventObject);\n      }\n      this._listeners.call(eventObject);\n    }\n  }], [{\n    key: 'isObject',\n    value: function isObject(value) {\n      return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\n    }\n  }, {\n    key: 'getEvent',\n    value: function getEvent(eventOrType, optionalData) {\n      var event = eventOrType;\n      if (!EventDispatcher.isObject(eventOrType)) {\n        event = new EventDispatcher.Event(String(eventOrType), optionalData);\n      }\n      return event;\n    }\n  }, {\n    key: 'create',\n    value: function create(eventPreprocessor) {\n      return new EventDispatcher(eventPreprocessor);\n    }\n\n    /* eslint no-undef: \"off\" */\n\n  }]);\n\n  return EventDispatcher;\n}();\n\nEventDispatcher.Event = Event;\n\nexports.default = EventDispatcher;\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=event-dispatcher.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@actualwave/event-dispatcher/dist/event-dispatcher.js\n// module id = 2\n// module chunks = 0","import MessagePortDispatcher from '@actualwave/messageport-dispatcher';\r\n\r\n/**\r\n *\r\n * @param target {String|Worker}\r\n * @param type {String}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @extends MessagePortDispatcher\r\n * @constructor\r\n */\r\nclass AbstractDispatcher extends MessagePortDispatcher {\r\n  constructor(type) {\r\n    super(null, null, null, null, true);\r\n    this.type = type;\r\n  }\r\n\r\n  initialize(\r\n    target,\r\n    customPostMessageHandler = null,\r\n    receiverEventPreprocessor = null,\r\n    senderEventPreprocessor = null,\r\n  ) {\r\n    const postMessageHandler = (data, targetOrigin, transferList) =>\r\n      target.postMessage(data, transferList);\r\n\r\n    super.initialize(\r\n      target,\r\n      customPostMessageHandler || postMessageHandler,\r\n      receiverEventPreprocessor,\r\n      senderEventPreprocessor,\r\n    );\r\n  }\r\n}\r\n\r\nexport default AbstractDispatcher;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/AbstractDispatcher.js","import WorkerType from '../WorkerType';\r\nimport AbstractDispatcher from '../AbstractDispatcher';\r\n\r\n/**\r\n * @param target {MessagePort}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @extends MessagePortDispatcher\r\n * @constructor\r\n */\r\nclass ClientDispatcher extends AbstractDispatcher {\r\n  constructor(target, receiverEventPreprocessor, senderEventPreprocessor) {\r\n    super(WorkerType.SHARED_WORKER_CLIENT);\r\n\r\n    this.initialize(target, null, receiverEventPreprocessor, senderEventPreprocessor);\r\n  }\r\n\r\n  start() {\r\n    this.target.start();\r\n  }\r\n\r\n  close() {\r\n    this.target.close();\r\n  }\r\n}\r\n\r\nexport default ClientDispatcher;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/sharedWorker/ClientDispatcher.js","import EventDispatcher from '@actualwave/event-dispatcher';\r\nimport WorkerType from './WorkerType';\r\nimport { dispatchWorkerEvents } from './WorkerEvent';\r\nimport AbstractDispatcher from './AbstractDispatcher';\r\n\r\nconst getTarget = (worker) => {\r\n  // eslint-disable-next-line no-restricted-globals\r\n  let target = worker || self;\r\n\r\n  if (!EventDispatcher.isObject(target)) {\r\n    target = new Worker(String(worker));\r\n  }\r\n\r\n  return target;\r\n};\r\n\r\n/**\r\n *\r\n * @param target {Worker|String}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @extends MessagePortDispatcher\r\n * @constructor\r\n */\r\nclass DedicatedWorkerDispatcher extends AbstractDispatcher {\r\n  constructor(worker, receiverEventPreprocessor, senderEventPreprocessor) {\r\n    super(WorkerType.DEDICATED_WORKER);\r\n\r\n    const target = getTarget(worker);\r\n\r\n    this.initialize(target, receiverEventPreprocessor, senderEventPreprocessor);\r\n    dispatchWorkerEvents(target, this.receiver);\r\n  }\r\n\r\n  terminate() {\r\n    return this.target.terminate();\r\n  }\r\n}\r\n\r\nexport default DedicatedWorkerDispatcher;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/DedicatedWorkerDispatcher.js","import EventDispatcher from '@actualwave/event-dispatcher';\r\nimport WorkerType from './WorkerType';\r\nimport { dispatchWorkerErrorEvent } from './WorkerEvent';\r\nimport AbstractDispatcher from './AbstractDispatcher';\r\n\r\nconst getTarget = (target, name) => {\r\n  if (!EventDispatcher.isObject(target)) {\r\n    return new SharedWorker(String(target), name);\r\n  }\r\n\r\n  return target;\r\n};\r\n\r\n/**\r\n *\r\n * @param worker {SharedWorker}\r\n * @param name {String}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @extends WorkerMessenger\r\n * @constructor\r\n */\r\nclass SharedWorkerDispatcher extends AbstractDispatcher {\r\n  constructor(target, name, receiverEventPreprocessor, senderEventPreprocessor) {\r\n    super(WorkerType.SHARED_WORKER);\r\n    this.worker = getTarget(target, name);\r\n\r\n    this.initialize(this.worker.port, null, receiverEventPreprocessor, senderEventPreprocessor);\r\n    dispatchWorkerErrorEvent(this.worker, this.receiver);\r\n  }\r\n\r\n  start() {\r\n    this.target.start();\r\n  }\r\n\r\n  close() {\r\n    this.target.close();\r\n  }\r\n}\r\n\r\nexport default SharedWorkerDispatcher;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/SharedWorkerDispatcher.js","import EventDispatcher from '@actualwave/event-dispatcher';\r\nimport WorkerType from '../WorkerType';\r\nimport WorkerEvent, { dispatchWorkerEvents } from '../WorkerEvent';\r\nimport ClientDispatcher from './ClientDispatcher';\r\n\r\n/**\r\n * Read-only interface, mainly will listen to \"connect\" event.\r\n * You should listen to WorkerEvent.CONNECT to intercept client\r\n * instance to be able to communicate.\r\n * @param worker\r\n * @param receiverEventPreprocessor {?Function}\r\n * @constructor\r\n */\r\nclass ServerDispatcher {\r\n  constructor(\r\n    target,\r\n    receiverEventPreprocessor,\r\n    clientReceiverEventPreprocessor,\r\n    clientSenderEventPreprocessor,\r\n  ) {\r\n    // eslint-disable-next-line no-restricted-globals\r\n    this.target = target || self;\r\n    this.clientReceiverEventPreprocessor = clientReceiverEventPreprocessor;\r\n    this.clientSenderEventPreprocessor = clientSenderEventPreprocessor;\r\n    this.type = WorkerType.SHARED_WORKER_SERVER;\r\n    this.receiver = new EventDispatcher(receiverEventPreprocessor);\r\n\r\n    this.target.addEventListener('connect', this.handleConnect);\r\n    dispatchWorkerEvents(this.target, this.receiver);\r\n  }\r\n\r\n  addEventListener = (...args) => this.receiver.addEventListener(...args);\r\n  hasEventListener = (...args) => this.receiver.hasEventListener(...args);\r\n  removeEventListener = (...args) => this.receiver.removeEventListener(...args);\r\n  removeAllEventListeners = (...args) => this.receiver.removeAllEventListeners(...args);\r\n\r\n  handleConnect = (event) => {\r\n    const [target] = event.ports;\r\n    const client = new ClientDispatcher(\r\n      target,\r\n      this.clientReceiverEventPreprocessor,\r\n      this.clientSenderEventPreprocessor,\r\n    );\r\n\r\n    this.receiver.dispatchEvent(new WorkerEvent(WorkerEvent.CONNECT, client, event, client));\r\n  }\r\n}\r\n\r\nexport default ServerDispatcher;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/sharedWorker/ServerDispatcher.js","import WorkerType from './WorkerType';\r\nimport WorkerEvent from './WorkerEvent';\r\nimport DedicatedWorkerDispatcher from './DedicatedWorkerDispatcher';\r\nimport SharedWorkerDispatcher from './SharedWorkerDispatcher';\r\nimport ClientDispatcher from './sharedWorker/ClientDispatcher';\r\nimport ServerDispatcher from './sharedWorker/ServerDispatcher';\r\nimport { create, createForSelf } from './utils/create';\r\n\r\n\r\nconst CONNECT_EVENT = WorkerEvent.CONNECT;\r\nconst { DEDICATED_WORKER } = WorkerType;\r\nconst { SHARED_WORKER } = WorkerType;\r\n\r\nexport default DedicatedWorkerDispatcher;\r\n\r\nexport {\r\n  create,\r\n  createForSelf,\r\n  CONNECT_EVENT,\r\n  DEDICATED_WORKER,\r\n  SHARED_WORKER,\r\n  WorkerEvent,\r\n  WorkerType,\r\n  ClientDispatcher,\r\n  ServerDispatcher,\r\n  SharedWorkerDispatcher,\r\n  DedicatedWorkerDispatcher,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/index.js","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MessagePortDispatcher\"] = factory();\n\telse\n\t\troot[\"MessagePortDispatcher\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = exports.self = exports.MessagePortEvent = undefined;\n\nvar _MessagePortDispatcher = __webpack_require__(1);\n\nvar _MessagePortDispatcher2 = _interopRequireDefault(_MessagePortDispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar self = _MessagePortDispatcher2.default.self,\n    create = _MessagePortDispatcher2.default.create;\nexports.default = _MessagePortDispatcher2.default;\nexports.MessagePortEvent = _MessagePortDispatcher.MessagePortEvent;\nexports.self = self;\nexports.create = create;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MessagePortDispatcher = exports.MessagePortEvent = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Created by Oleg Galaburda on 09.02.16.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _eventDispatcher = __webpack_require__(2);\n\nvar _eventDispatcher2 = _interopRequireDefault(_eventDispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MessagePortEvent = exports.MessagePortEvent = function () {\n  function MessagePortEvent(event, dispatcherId) {\n    _classCallCheck(this, MessagePortEvent);\n\n    this.event = event;\n    this.dispatcherId = dispatcherId;\n  }\n\n  _createClass(MessagePortEvent, [{\n    key: 'toJSON',\n    value: function toJSON() {\n      return {\n        /* eslint no-use-before-define:0 */\n        event: MessagePortDispatcher.toJSON(this.event),\n        dispatcherId: this.dispatcherId\n      };\n    }\n  }], [{\n    key: 'parse',\n    value: function parse(object) {\n      /* eslint no-use-before-define:0 */\n      var result = MessagePortDispatcher.parse(object);\n      if (MessagePortEvent.isEvent(result)) {\n        /* eslint no-use-before-define:0 */\n        result.event = MessagePortDispatcher.parse(result.event);\n      } else {\n        result = null;\n      }\n      return result;\n    }\n  }, {\n    key: 'isEvent',\n    value: function isEvent(object) {\n      return _eventDispatcher2.default.isObject(object) && Object.prototype.hasOwnProperty.call(object, 'dispatcherId') && Object.prototype.hasOwnProperty.call(object, 'event');\n    }\n  }]);\n\n  return MessagePortEvent;\n}();\n\nvar MessagePortDispatcher = exports.MessagePortDispatcher = function (_EventDispatcher) {\n  _inherits(MessagePortDispatcher, _EventDispatcher);\n\n  /**\r\n   *\r\n   * @param target {Window|Worker|MessagePort}\r\n   * @param customPostMessageHandler {?Function} Function that receive message object\r\n   *        and pass it to MessagePort.postMessage()\r\n   * @param receiverEventPreprocessor {?Function} Function that pre-process\r\n   *        all events received from MessagePort, before passing to listeners\r\n   * @param senderEventPreprocessor Function that pre-process all events sent\r\n   *        to MessagePort\r\n   * @constructor\r\n   */\n  function MessagePortDispatcher(target) {\n    var customPostMessageHandler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var receiverEventPreprocessor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var senderEventPreprocessor = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    var noInit = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n    _classCallCheck(this, MessagePortDispatcher);\n\n    var _this = _possibleConstructorReturn(this, (MessagePortDispatcher.__proto__ || Object.getPrototypeOf(MessagePortDispatcher)).call(this, null, true));\n\n    if (!noInit) {\n      _this.initialize(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor);\n    }\n    return _this;\n  }\n\n  /**\r\n   * @private\r\n   */\n\n\n  _createClass(MessagePortDispatcher, [{\n    key: 'initialize',\n    value: function initialize(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor) {\n      this.target = target || self;\n      this._handlers = {\n        customPostMessageHandler: customPostMessageHandler,\n        senderEventPreprocessor: senderEventPreprocessor\n      };\n      this.sender = _eventDispatcher2.default.create();\n      this.receiver = _eventDispatcher2.default.create(receiverEventPreprocessor);\n      this.dispatcherId = 'MP/' + Math.ceil(Math.random() * 10000) + '/' + Date.now();\n      this.targetOrigin = '*';\n      this.addEventListener = this.receiver.addEventListener.bind(this.receiver);\n      this.hasEventListener = this.receiver.hasEventListener.bind(this.receiver);\n      this.removeEventListener = this.receiver.removeEventListener.bind(this.receiver);\n      this.removeAllEventListeners = this.receiver.removeAllEventListeners.bind(this.receiver);\n\n      target.addEventListener('message', this._messageEventListener.bind(this));\n    }\n  }, {\n    key: 'dispatchEvent',\n    value: function dispatchEvent(eventType, data, transferList) {\n      var event = _eventDispatcher2.default.getEvent(eventType, data);\n      if (this._handlers.senderEventPreprocessor) {\n        event = this._handlers.senderEventPreprocessor.call(this, event);\n      }\n      var eventJson = MessagePortDispatcher.toJSON(new MessagePortEvent(event, this.dispatcherId));\n      this._postMessageHandler(eventJson, transferList);\n    }\n  }, {\n    key: '_postMessageHandler',\n    value: function _postMessageHandler(data, transferList) {\n      var handler = this._handlers.customPostMessageHandler;\n      if (handler) {\n        handler.call(this, data, this.targetOrigin, transferList);\n      } else {\n        this.target.postMessage(data, this.targetOrigin, transferList);\n      }\n    }\n  }, {\n    key: '_messageEventListener',\n    value: function _messageEventListener(event) {\n      // fixme .nativeEvent react-native thing, need a way to find out keep it or exclude\n      event = event.nativeEvent || event;\n      var message = MessagePortEvent.parse(event.data);\n      if (message) {\n        if (message.dispatcherId === this.dispatcherId) {\n          this.sender.dispatchEvent(message.event);\n        } else {\n          this.receiver.dispatchEvent(message.event);\n        }\n      }\n    }\n\n    /**\r\n     * If toJSON method implemented on object, it will be called instead of converting to JSON string.\r\n     * This was made to utilize structured cloning algorithm for raw objects.\r\n     * https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\r\n     * In this case developer is responsible for converting linked objects.\r\n     * @param object\r\n     * @returns {Object|String}\r\n     */\n\n  }], [{\n    key: 'toJSON',\n    value: function toJSON(object) {\n      var objectJson = void 0;\n      if (typeof object.toJSON === 'function') {\n        objectJson = object.toJSON();\n      } else {\n        objectJson = JSON.stringify(object);\n      }\n      return objectJson;\n    }\n\n    /**\r\n     *\r\n     * @param data {Object|String}\r\n     * @returns {Object}\r\n     */\n\n  }, {\n    key: 'parse',\n    value: function parse(data) {\n      var object = void 0; // keep it undefined in case of error\n      if (_eventDispatcher2.default.isObject(data)) {\n        object = data;\n      } else {\n        try {\n          object = JSON.parse(data);\n        } catch (error) {\n          // this isn't an event we are waiting for.\n        }\n      }\n      return object;\n    }\n  }, {\n    key: 'create',\n    value: function create(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor) {\n      return new MessagePortDispatcher(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor);\n    }\n  }]);\n\n  return MessagePortDispatcher;\n}(_eventDispatcher2.default);\n\nvar factory = function factory(getTarget) {\n  var dispatcher = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return function () {\n    if (!dispatcher) {\n      dispatcher = MessagePortDispatcher.create(getTarget());\n    }\n    return dispatcher;\n  };\n};\n\nMessagePortDispatcher.self = factory(function () {\n  return self;\n});\nMessagePortDispatcher.parent = factory(function () {\n  return parent;\n});\nMessagePortDispatcher.top = factory(function () {\n  return top;\n});\nMessagePortDispatcher.MessagePortEvent = MessagePortEvent;\n\nexports.default = MessagePortDispatcher;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (( false ? 'undefined' : _typeof2(exports)) === 'object' && ( false ? 'undefined' : _typeof2(module)) === 'object') module.exports = factory();else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else if ((typeof exports === 'undefined' ? 'undefined' : _typeof2(exports)) === 'object') exports[\"EventDispatcher\"] = factory();else root[\"EventDispatcher\"] = factory();\n})(undefined, function () {\n  return (/******/function (modules) {\n      // webpackBootstrap\n      /******/ // The module cache\n      /******/var installedModules = {};\n      /******/\n      /******/ // The require function\n      /******/function __webpack_require__(moduleId) {\n        /******/\n        /******/ // Check if module is in cache\n        /******/if (installedModules[moduleId]) {\n          /******/return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/ // Create a new module (and put it into the cache)\n        /******/var module = installedModules[moduleId] = {\n          /******/i: moduleId,\n          /******/l: false,\n          /******/exports: {}\n          /******/ };\n        /******/\n        /******/ // Execute the module function\n        /******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        /******/ // Flag the module as loaded\n        /******/module.l = true;\n        /******/\n        /******/ // Return the exports of the module\n        /******/return module.exports;\n        /******/\n      }\n      /******/\n      /******/\n      /******/ // expose the modules object (__webpack_modules__)\n      /******/__webpack_require__.m = modules;\n      /******/\n      /******/ // expose the module cache\n      /******/__webpack_require__.c = installedModules;\n      /******/\n      /******/ // define getter function for harmony exports\n      /******/__webpack_require__.d = function (exports, name, getter) {\n        /******/if (!__webpack_require__.o(exports, name)) {\n          /******/Object.defineProperty(exports, name, {\n            /******/configurable: false,\n            /******/enumerable: true,\n            /******/get: getter\n            /******/ });\n          /******/\n        }\n        /******/\n      };\n      /******/\n      /******/ // getDefaultExport function for compatibility with non-harmony modules\n      /******/__webpack_require__.n = function (module) {\n        /******/var getter = module && module.__esModule ?\n        /******/function getDefault() {\n          return module['default'];\n        } :\n        /******/function getModuleExports() {\n          return module;\n        };\n        /******/__webpack_require__.d(getter, 'a', getter);\n        /******/return getter;\n        /******/\n      };\n      /******/\n      /******/ // Object.prototype.hasOwnProperty.call\n      /******/__webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n      /******/ // __webpack_public_path__\n      /******/__webpack_require__.p = \"http://localhost:8081/dist/\";\n      /******/\n      /******/ // Load entry module and return exports\n      /******/return __webpack_require__(__webpack_require__.s = 0);\n      /******/\n    }(\n    /************************************************************************/\n    /******/[\n    /* 0 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Event = undefined;\n\n      var _EventDispatcher = __webpack_require__(1);\n\n      var _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : { default: obj };\n      }\n\n      exports.default = _EventDispatcher2.default;\n      exports.Event = _EventDispatcher.Event;\n\n      /***/\n    },\n    /* 1 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n        return typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n        };\n      }();\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var hasOwnProp = function hasOwnProp(target, name) {\n        return Object.prototype.hasOwnProperty.call(target, name);\n      }; /**\r\n          * Created by Oleg Galaburda on 09.02.16.\r\n          * \r\n          */\n\n      var Event = exports.Event = function () {\n        function Event(type) {\n          var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n          _classCallCheck(this, Event);\n\n          this.type = type;\n          this.data = data;\n          this.defaultPrevented = false;\n        }\n\n        _createClass(Event, [{\n          key: 'toJSON',\n          value: function toJSON() {\n            return { type: this.type, data: this.data };\n          }\n        }, {\n          key: 'isDefaultPrevented',\n          value: function isDefaultPrevented() {\n            return this.defaultPrevented;\n          }\n        }, {\n          key: 'preventDefault',\n          value: function preventDefault() {\n            this.defaultPrevented = true;\n          }\n        }]);\n\n        return Event;\n      }();\n\n      var ListenersRunner = function () {\n        function ListenersRunner(listeners, onStopped, onComplete) {\n          var _this = this;\n\n          _classCallCheck(this, ListenersRunner);\n\n          this.index = -1;\n          this.immediatelyStopped = false;\n\n          this.stopImmediatePropagation = function () {\n            _this.immediatelyStopped = true;\n          };\n\n          this.listeners = listeners;\n          this.onStopped = onStopped;\n          this.onComplete = onComplete;\n        }\n\n        _createClass(ListenersRunner, [{\n          key: 'run',\n          value: function run(event, target) {\n            var listener = void 0;\n            var listeners = this.listeners;\n\n            this.augmentEvent(event);\n            // TODO this has to be handled in separate object ListenersRunner that should be\n            // created for each call() call and asked for index validation on each listener remove.\n            for (this.index = 0; this.index < listeners.length; this.index++) {\n              if (this.immediatelyStopped) break;\n              listener = listeners[this.index];\n              listener.call(target, event);\n            }\n            this.clearEvent(event);\n            this.onComplete(this);\n          }\n        }, {\n          key: 'augmentEvent',\n          value: function augmentEvent(eventObject) {\n            var event = eventObject;\n            event.stopPropagation = this.onStopped;\n            event.stopImmediatePropagation = this.stopImmediatePropagation;\n          }\n\n          /* eslint class-methods-use-this: \"off\" */\n\n        }, {\n          key: 'clearEvent',\n          value: function clearEvent(eventObject) {\n            var event = eventObject;\n            delete event.stopPropagation;\n            delete event.stopImmediatePropagation;\n          }\n        }, {\n          key: 'listenerRemoved',\n          value: function listenerRemoved(listeners, index) {\n            if (listeners === this.listeners && index <= this.index) {\n              this.index--;\n            }\n          }\n        }]);\n\n        return ListenersRunner;\n      }();\n\n      var EventListeners = function () {\n        function EventListeners() {\n          var _this2 = this;\n\n          _classCallCheck(this, EventListeners);\n\n          this._listeners = {};\n          this._runners = [];\n\n          this.removeRunner = function (runner) {\n            _this2._runners.splice(_this2._runners.indexOf(runner), 1);\n          };\n        }\n        /**\r\n         * key - event Type\r\n         * value - hash of priorities\r\n         *    key - priority\r\n         *    value - list of handlers\r\n         * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n         * @private\r\n         */\n\n        _createClass(EventListeners, [{\n          key: 'createList',\n          value: function createList(eventType, priorityOpt) {\n            var priority = parseInt(priorityOpt, 10);\n            var target = this.getPrioritiesByKey(eventType);\n            var key = String(priority);\n            var value = void 0;\n            if (hasOwnProp(target, key)) {\n              value = target[key];\n            } else {\n              value = [];\n              target[key] = value;\n            }\n            return value;\n          }\n        }, {\n          key: 'getPrioritiesByKey',\n          value: function getPrioritiesByKey(key) {\n            var value = void 0;\n            if (hasOwnProp(this._listeners, key)) {\n              value = this._listeners[key];\n            } else {\n              value = {};\n              this._listeners[key] = value;\n            }\n            return value;\n          }\n        }, {\n          key: 'add',\n          value: function add(eventType, handler, priority) {\n            var handlers = this.createList(eventType, priority);\n            if (handlers.indexOf(handler) < 0) {\n              handlers.push(handler);\n            }\n          }\n        }, {\n          key: 'has',\n          value: function has(eventType) {\n            var priority = void 0;\n            var result = false;\n            var priorities = this.getPrioritiesByKey(eventType);\n            if (priorities) {\n              for (priority in priorities) {\n                if (hasOwnProp(priorities, priority)) {\n                  result = true;\n                  break;\n                }\n              }\n            }\n            return result;\n          }\n        }, {\n          key: 'remove',\n          value: function remove(eventType, handler) {\n            var _this3 = this;\n\n            var priorities = this.getPrioritiesByKey(eventType);\n            if (priorities) {\n              var list = Object.getOwnPropertyNames(priorities);\n              var length = list.length;\n\n              var _loop = function _loop(index) {\n                var priority = list[index];\n                var handlers = priorities[priority];\n                var handlerIndex = handlers.indexOf(handler);\n                if (handlerIndex >= 0) {\n                  handlers.splice(handlerIndex, 1);\n                  if (!handlers.length) {\n                    delete priorities[priority];\n                  }\n                  _this3._runners.forEach(function (runner) {\n                    runner.listenerRemoved(handlers, handlerIndex);\n                  });\n                }\n              };\n\n              for (var index = 0; index < length; index++) {\n                _loop(index);\n              }\n            }\n          }\n        }, {\n          key: 'removeAll',\n          value: function removeAll(eventType) {\n            delete this._listeners[eventType];\n          }\n        }, {\n          key: 'createRunner',\n          value: function createRunner(handlers, onStopped) {\n            var runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\n            this._runners.push(runner);\n            return runner;\n          }\n        }, {\n          key: 'call',\n          value: function call(event, target) {\n            var priorities = this.getPrioritiesByKey(event.type);\n            var stopped = false;\n            var stopPropagation = function stopPropagation() {\n              stopped = true;\n            };\n            if (priorities) {\n              // getOwnPropertyNames() or keys()?\n              var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\n                return a - b;\n              });\n              var length = list.length;\n\n              for (var index = 0; index < length; index++) {\n                if (stopped) break;\n                var _handlers = priorities[list[index]];\n                // in case if all handlers of priority were removed while event\n                // was dispatched and handlers become undefined.\n                if (_handlers) {\n                  var _runner = this.createRunner(_handlers, stopPropagation);\n                  _runner.run(event, target);\n                  if (_runner.immediatelyStopped) break;\n                }\n              }\n            }\n          }\n        }]);\n\n        return EventListeners;\n      }();\n\n      var EventDispatcher = function () {\n        function EventDispatcher() {\n          var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n          var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n          _classCallCheck(this, EventDispatcher);\n\n          if (!noInit) {\n            this.initialize(eventPreprocessor);\n          }\n        }\n\n        /**\r\n         * @private\r\n         */\n\n        _createClass(EventDispatcher, [{\n          key: 'initialize',\n          value: function initialize() {\n            var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n            this._eventPreprocessor = eventPreprocessor;\n            this._listeners = new EventListeners();\n          }\n        }, {\n          key: 'addEventListener',\n          value: function addEventListener(eventType, listener) {\n            var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n            this._listeners.add(eventType, listener, -priority || 0);\n          }\n        }, {\n          key: 'hasEventListener',\n          value: function hasEventListener(eventType) {\n            return this._listeners.has(eventType);\n          }\n        }, {\n          key: 'removeEventListener',\n          value: function removeEventListener(eventType, listener) {\n            this._listeners.remove(eventType, listener);\n          }\n        }, {\n          key: 'removeAllEventListeners',\n          value: function removeAllEventListeners(eventType) {\n            this._listeners.removeAll(eventType);\n          }\n        }, {\n          key: 'dispatchEvent',\n          value: function dispatchEvent(event, data) {\n            var eventObject = EventDispatcher.getEvent(event, data);\n            if (this._eventPreprocessor) {\n              eventObject = this._eventPreprocessor.call(this, eventObject);\n            }\n            this._listeners.call(eventObject);\n          }\n        }], [{\n          key: 'isObject',\n          value: function isObject(value) {\n            return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\n          }\n        }, {\n          key: 'getEvent',\n          value: function getEvent(eventOrType, optionalData) {\n            var event = eventOrType;\n            if (!EventDispatcher.isObject(eventOrType)) {\n              event = new EventDispatcher.Event(String(eventOrType), optionalData);\n            }\n            return event;\n          }\n        }, {\n          key: 'create',\n          value: function create(eventPreprocessor) {\n            return new EventDispatcher(eventPreprocessor);\n          }\n\n          /* eslint no-undef: \"off\" */\n\n        }]);\n\n        return EventDispatcher;\n      }();\n\n      EventDispatcher.Event = Event;\n\n      exports.default = EventDispatcher;\n\n      /***/\n    }]\n    /******/)\n  );\n});\n//# sourceMappingURL=event-dispatcher.js.map\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)(module)))\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function () {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function get() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function get() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=messageport-dispatcher.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@actualwave/messageport-dispatcher/dist/messageport-dispatcher.js\n// module id = 9\n// module chunks = 0","import WorkerType from '../WorkerType';\r\nimport DedicatedWorkerDispatcher from '../DedicatedWorkerDispatcher';\r\nimport SharedWorkerDispatcher from '../SharedWorkerDispatcher';\r\nimport ClientDispatcher from '../sharedWorker/ClientDispatcher';\r\nimport ServerDispatcher from '../sharedWorker/ServerDispatcher';\r\n\r\n/**\r\n *\r\n * @param worker {String|Worker|SharedWorker|MessagePort}\r\n * @param type {String}\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @returns {AbstractDispatcher}\r\n */\r\nexport const create = (target, type, receiverEventPreprocessor, senderEventPreprocessor) => {\r\n  let dispatcher = null;\r\n  switch (type) {\r\n    default:\r\n    case WorkerType.DEDICATED_WORKER:\r\n      dispatcher = new DedicatedWorkerDispatcher(\r\n        target,\r\n        receiverEventPreprocessor,\r\n        senderEventPreprocessor,\r\n      );\r\n      break;\r\n    case WorkerType.SHARED_WORKER:\r\n      dispatcher = new SharedWorkerDispatcher(\r\n        target,\r\n        null,\r\n        receiverEventPreprocessor,\r\n        senderEventPreprocessor,\r\n      );\r\n      break;\r\n    case WorkerType.SHARED_WORKER_SERVER:\r\n      dispatcher = new ServerDispatcher(\r\n        target,\r\n        receiverEventPreprocessor,\r\n      );\r\n      break;\r\n    case WorkerType.SHARED_WORKER_CLIENT:\r\n      dispatcher = new ClientDispatcher(\r\n        target,\r\n        receiverEventPreprocessor,\r\n        senderEventPreprocessor,\r\n      );\r\n      break;\r\n  }\r\n  return dispatcher;\r\n};\r\n\r\n/**\r\n *\r\n * @param receiverEventPreprocessor {?Function}\r\n * @param senderEventPreprocessor {?Function}\r\n * @returns {AbstractDispatcher}\r\n */\r\nexport const createForSelf = (receiverEventPreprocessor, senderEventPreprocessor) => {\r\n  /* eslint-disable no-restricted-globals */\r\n  let dispatcher = null;\r\n  if (typeof (self.postMessage) === 'function') {\r\n    dispatcher = new DedicatedWorkerDispatcher(\r\n      self,\r\n      receiverEventPreprocessor,\r\n      senderEventPreprocessor,\r\n    );\r\n  } else {\r\n    dispatcher = new ServerDispatcher(\r\n      self,\r\n      receiverEventPreprocessor,\r\n    );\r\n  }\r\n  return dispatcher;\r\n  /* eslint-enable no-restricted-globals */\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/create.js"],"sourceRoot":""}